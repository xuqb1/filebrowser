const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=[window.__prependStaticUrl("assets/Editor-CABXmvTh.js"),window.__prependStaticUrl("assets/i18n-sWEFv6SY.js"),window.__prependStaticUrl("assets/dayjs-DqU3et2E.js"),window.__prependStaticUrl("assets/Preview-DR8FGSaM.js"),window.__prependStaticUrl("assets/Preview-DAqU-o5R.css")])))=>i.map(i=>d[i]);
import{d as ke,o as $,c as I,a as oe,b as p,m as Pn,n as nt,e as Dt,r as ce,f as On,g as ve,h as At,i as Ys,j as Ie,w as Xe,u as w,k as Ip,l as xp,p as Xs,q as e$,s as Dp,t as t$,v as jr,x as ks,y as $e,z as Te,A as xr,T as kd,B as Kl,C as it,D as Tt,E as Wt,F as n$,G as Go,H as mr,I as qt,J as mo,K as Up,L as r$,M as bt,N as o$,O as Yn,P as We,Q as st,R as Su,S as we,U as S,V as i$,W as $t,X as Bp,Y as Np,Z as li,_ as $u,$ as s$,a0 as a$,a1 as Dr,a2 as kl,a3 as Od,a4 as l$,a5 as ht,a6 as ct,a7 as u$,a8 as Mp,a9 as Fp,aa as c$,ab as zp,ac as Ld,ad as Id,ae as Hp,af as St,ag as Eu,ah as xd,ai as jp}from"./i18n-sWEFv6SY.js";import{y as Cu,A as yn,x as Ln,B as f$,C as d$,D as h$}from"./dayjs-DqU3et2E.js";function IF(){import.meta.url,import("_").catch(()=>1),async function*(){}().next()}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))i(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const s of u.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&i(s)}).observe(document,{childList:!0,subtree:!0});function r(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function i(l){if(l.ep)return;l.ep=!0;const u=r(l);fetch(l.href,u)}})();const Tu=window.FileBrowser.Name||"File Browser",qp=window.FileBrowser.DisableExternal,p$=window.FileBrowser.DisableUsedPercentage,Sn=window.FileBrowser.BaseURL,v$=window.FileBrowser.StaticURL,Ko=window.FileBrowser.ReCaptcha,m$=window.FileBrowser.ReCaptchaKey,Wp=window.FileBrowser.Signup,g$=window.FileBrowser.Version,Vp="".concat(v$,"/img/logo.svg"),Gp=window.FileBrowser.NoAuth;window.FileBrowser.AuthMethod;const Kp=window.FileBrowser.LoginPage,Qp=window.FileBrowser.Theme,b$=window.FileBrowser.EnableThumbs,UF=window.FileBrowser.ResizePreview,go=window.FileBrowser.EnableExec,Ol=window.FileBrowser.TusSettings,y$="/api/tus";/*! vue-number-input v2.0.1 | (c) 2018-present Chen Fengyuan | MIT */const Rr=Number.isNaN||window.isNaN,_$=/^-?(?:\d+|\d+\.\d+|\.\d+)(?:[eE][-+]?\d+)?$/,w$=/\.\d*(?:0|9){10}\d*$/,Dd=(e,t=1e11)=>w$.test(String(e))?Math.round(e*t)/t:e;var Bs=ke({name:"VueNumberInput",props:{attrs:{type:Object,default:void 0},center:Boolean,controls:Boolean,disabled:Boolean,inputtable:{type:Boolean,default:!0},inline:Boolean,max:{type:Number,default:1/0},min:{type:Number,default:-1/0},name:{type:String,default:void 0},placeholder:{type:String,default:void 0},readonly:Boolean,rounded:Boolean,size:{type:String,default:void 0},step:{type:Number,default:1},modelValue:{type:Number,default:NaN}},emits:["update:modelValue"],data(){return{value:NaN}},computed:{increasable(){return Rr(this.value)||this.value<this.max},decreasable(){return Rr(this.value)||this.value>this.min}},watch:{modelValue:{immediate:!0,handler(e,t){!(Rr(e)&&typeof t>"u")&&e!==this.value&&this.setValue(e)}}},methods:{isNaN:Rr,change(e){this.setValue(e.target.value)},paste(e){const t=e.clipboardData||window.clipboardData;t&&!_$.test(t.getData("text"))&&e.preventDefault()},decrease(){if(this.decreasable){let{value:e}=this;Rr(e)&&(e=0),this.setValue(Dd(e-this.step))}},increase(){if(this.increasable){let{value:e}=this;Rr(e)&&(e=0),this.setValue(Dd(e+this.step))}},setValue(e){const t=this.value;let r=typeof e!="number"?parseFloat(e):e;Rr(r)||(this.min<=this.max&&(r=Math.min(this.max,Math.max(this.min,r))),this.rounded&&(r=Math.round(r))),this.value=r,r===t&&(this.$refs.input.value=String(r)),this.$emit("update:modelValue",r,t)}}});const S$=["disabled"],$$=["name","value","min","max","step","readonly","disabled","placeholder"],E$=["disabled"];function C$(e,t,r,i,l,u){return $(),I("div",{class:nt(["vue-number-input",{"vue-number-input--inline":e.inline,"vue-number-input--center":e.center,"vue-number-input--controls":e.controls,["vue-number-input--".concat(e.size)]:e.size}])},[e.controls?($(),I("button",{key:0,class:"vue-number-input__button vue-number-input__button--minus",type:"button",tabindex:"-1",disabled:e.disabled||e.readonly||!e.decreasable,onClick:t[0]||(t[0]=(...s)=>e.decrease&&e.decrease(...s))},null,8,S$)):oe("v-if",!0),p("input",Pn({ref:"input",class:"vue-number-input__input"},e.attrs,{type:"number",name:e.name,value:isNaN(e.value)?"":e.value,min:e.min,max:e.max,step:e.step,readonly:e.readonly||!e.inputtable,disabled:e.disabled||!e.decreasable&&!e.increasable,placeholder:e.placeholder,autocomplete:"off",onChange:t[1]||(t[1]=(...s)=>e.change&&e.change(...s)),onPaste:t[2]||(t[2]=(...s)=>e.paste&&e.paste(...s))}),null,16,$$),e.controls?($(),I("button",{key:1,class:"vue-number-input__button vue-number-input__button--plus",type:"button",tabindex:"-1",disabled:e.disabled||e.readonly||!e.increasable,onClick:t[3]||(t[3]=(...s)=>e.increase&&e.increase(...s))},null,8,E$)):oe("v-if",!0)],2)}function T$(e,t){t===void 0&&(t={});var r=t.insertAt;if(!(typeof document>"u")){var i=document.head||document.getElementsByTagName("head")[0],l=document.createElement("style");l.type="text/css",r==="top"&&i.firstChild?i.insertBefore(l,i.firstChild):i.appendChild(l),l.styleSheet?l.styleSheet.cssText=e:l.appendChild(document.createTextNode(e))}}var A$='.vue-number-input[data-v-188efc8c]{display:block;font-size:0;max-width:100%;overflow:hidden;position:relative}.vue-number-input__button[data-v-188efc8c]{background-color:#fff;border:0;border-radius:.25rem;bottom:1px;position:absolute;top:1px;width:2.5rem;z-index:1}.vue-number-input__button[data-v-188efc8c]:focus{outline:none}.vue-number-input__button[data-v-188efc8c]:hover:after,.vue-number-input__button[data-v-188efc8c]:hover:before{background-color:#0074d9}.vue-number-input__button[data-v-188efc8c]:disabled{opacity:.65}.vue-number-input__button[data-v-188efc8c]:disabled:after,.vue-number-input__button[data-v-188efc8c]:disabled:before{background-color:#ddd}.vue-number-input__button[data-v-188efc8c]:after,.vue-number-input__button[data-v-188efc8c]:before{background-color:#111;content:"";left:50%;position:absolute;top:50%;transform:translate(-50%,-50%);transition:background-color .15s}.vue-number-input__button[data-v-188efc8c]:before{height:1px;width:50%}.vue-number-input__button[data-v-188efc8c]:after{height:50%;width:1px}.vue-number-input__button--minus[data-v-188efc8c]{border-bottom-right-radius:0;border-right:1px solid #ddd;border-top-right-radius:0;left:1px}.vue-number-input__button--minus[data-v-188efc8c]:after{visibility:hidden}.vue-number-input__button--plus[data-v-188efc8c]{border-bottom-left-radius:0;border-left:1px solid #ddd;border-top-left-radius:0;right:1px}.vue-number-input__input[data-v-188efc8c]{-moz-appearance:textfield;background-color:#fff;border:1px solid #ddd;border-radius:.25rem;display:block;font-size:1rem;line-height:1.5;max-width:100%;min-height:1.5rem;min-width:3rem;padding:.4375rem .875rem;transition:border-color .15s;width:100%}.vue-number-input__input[data-v-188efc8c]::-webkit-inner-spin-button,.vue-number-input__input[data-v-188efc8c]::-webkit-outer-spin-button{-webkit-appearance:none}.vue-number-input__input[data-v-188efc8c]:focus{border-color:#0074d9;outline:none}.vue-number-input__input[data-v-188efc8c]:disabled,.vue-number-input__input[readonly][data-v-188efc8c]{background-color:#f8f8f8}.vue-number-input--inline[data-v-188efc8c]{display:inline-block}.vue-number-input--inline>input[data-v-188efc8c]{display:inline-block;width:12.5rem}.vue-number-input--center>input[data-v-188efc8c]{text-align:center}.vue-number-input--controls>input[data-v-188efc8c]{padding-left:3.375rem;padding-right:3.375rem}.vue-number-input--small>input[data-v-188efc8c]{border-radius:.1875rem;font-size:.875rem;padding:.25rem .5rem}.vue-number-input--small.vue-number-input--inline>input[data-v-188efc8c]{width:10rem}.vue-number-input--small.vue-number-input--controls>button[data-v-188efc8c]{width:2rem}.vue-number-input--small.vue-number-input--controls>input[data-v-188efc8c]{padding-left:2.5rem;padding-right:2.5rem}.vue-number-input--large>input[data-v-188efc8c]{border-radius:.3125rem;font-size:1.25rem;padding:.5rem 1rem}.vue-number-input--large.vue-number-input--inline>input[data-v-188efc8c]{width:15rem}.vue-number-input--large.vue-number-input--controls>button[data-v-188efc8c]{width:3rem}.vue-number-input--large.vue-number-input--controls>input[data-v-188efc8c]{padding-left:4rem;padding-right:4rem}';T$(A$);Bs.render=C$;Bs.__scopeId="data-v-188efc8c";/*!
 * Vue-Lazyload.js v3.0.0
 * (c) 2023 Awe <hilongjw@gmail.com>
 * Released under the MIT License.
 */function Yp(e,t){return t={exports:{}},e(t,t.exports),t.exports}var Ql=Yp(function(e){const t=Object.prototype.toString,r=Object.prototype.propertyIsEnumerable,i=Object.getOwnPropertySymbols;e.exports=(u,...s)=>{if(!l(u))throw new TypeError("expected the first argument to be an object");if(s.length===0||typeof Symbol!="function"||typeof i!="function")return u;for(let f of s){let c=i(f);for(let d of c)r.call(f,d)&&(u[d]=f[d])}return u};function l(u){return typeof u=="function"||t.call(u)==="[object Object]"||Array.isArray(u)}}),Ud=Object.freeze({__proto__:null,default:Ql,__moduleExports:Ql}),P$=Ud&&Ql||Ud,Bd=Yp(function(e){const t=Object.prototype.toString,r=s=>s!=="__proto__"&&s!=="constructor"&&s!=="prototype",i=e.exports=(s,...f)=>{let c=0;for(u(s)&&(s=f[c++]),s||(s={});c<f.length;c++)if(l(f[c])){for(const d of Object.keys(f[c]))r(d)&&(l(s[d])&&l(f[c][d])?i(s[d],f[c][d]):s[d]=f[c][d]);P$(s,f[c])}return s};function l(s){return typeof s=="function"||t.call(s)==="[object Object]"}function u(s){return typeof s=="object"?s===null:typeof s!="function"}});const gr=typeof window<"u"&&window!==null,Nd=R$();function R$(){return gr&&"IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype?("isIntersecting"in window.IntersectionObserverEntry.prototype||Object.defineProperty(window.IntersectionObserverEntry.prototype,"isIntersecting",{get:function(){return this.intersectionRatio>0}}),!0):!1}const kr={event:"event",observer:"observer"};function Qo(e,t){if(!e.length)return;const r=e.indexOf(t);if(r>-1)return e.splice(r,1)}function Md(e,t){if(e.tagName!=="IMG"||!e.getAttribute("data-srcset"))return"";let r=e.getAttribute("data-srcset").trim().split(",");const i=[],u=e.parentNode.offsetWidth*t;let s,f,c;r.forEach(m=>{m=m.trim(),s=m.lastIndexOf(" "),s===-1?(f=m,c=99999):(f=m.substr(0,s),c=parseInt(m.substr(s+1,m.length-s-2),10)),i.push([c,f])}),i.sort((m,y)=>{if(m[0]<y[0])return 1;if(m[0]>y[0])return-1;if(m[0]===y[0]){if(y[1].indexOf(".webp",y[1].length-5)!==-1)return 1;if(m[1].indexOf(".webp",m[1].length-5)!==-1)return-1}return 0});let d="",v;for(let m=0;m<i.length;m++){v=i[m],d=v[1];const y=i[m+1];if(y&&y[0]<u){d=v[1];break}else if(!y){d=v[1];break}}return d}const k$=(e=1)=>gr&&window.devicePixelRatio||e;function O$(){if(!gr)return!1;let e=!0;function t(r,i){const l={lossy:"UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",lossless:"UklGRhoAAABXRUJQVlA4TA0AAAAvAAAAEAcQERGIiP4HAA==",alpha:"UklGRkoAAABXRUJQVlA4WAoAAAAQAAAAAAAAAAAAQUxQSAwAAAARBxAR/Q9ERP8DAABWUDggGAAAABQBAJ0BKgEAAQAAAP4AAA3AAP7mtQAAAA==",animation:"UklGRlIAAABXRUJQVlA4WAoAAAASAAAAAAAAAAAAQU5JTQYAAAD/////AABBTk1GJgAAAAAAAAAAAAAAAAAAAGQAAABWUDhMDQAAAC8AAAAQBxAREYiI/gcA"},u=new Image;u.onload=function(){const s=u.width>0&&u.height>0;i(s)},u.onerror=function(){i(!1)},u.src="data:image/webp;base64,"+l[r]}return t("lossy",r=>{e=r}),t("lossless",r=>{e=r}),t("alpha",r=>{e=r}),t("animation",r=>{e=r}),e}function L$(e,t){let r=null,i=0;return function(){if(r)return;const l=Date.now()-i,u=this,s=arguments,f=function(){i=Date.now(),r=!1,e.apply(u,s)};l>=t?f():r=setTimeout(f,t)}}function I$(){if(!gr)return!1;let e=!1;try{const t=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("test",Au,t)}catch(t){}return e}const x$=I$(),D$={on(e,t,r,i=!1){x$?e.addEventListener(t,r,{capture:i,passive:!0}):e.addEventListener(t,r,i)},off(e,t,r,i=!1){e.removeEventListener(t,r,i)}},Yl=(e,t,r)=>{let i=new Image;if(!e||!e.src){const l=new Error("image src is required");return r(l)}e.cors&&(i.crossOrigin=e.cors),i.src=e.src,i.onload=function(){t({naturalHeight:i.naturalHeight,naturalWidth:i.naturalWidth,src:i.src}),i=null},i.onerror=function(l){r(l)}},Ll=(e,t)=>typeof getComputedStyle<"u"?getComputedStyle(e,null).getPropertyValue(t):e.style[t],U$=e=>Ll(e,"overflow")+Ll(e,"overflowY")+Ll(e,"overflowX"),B$=e=>{if(!gr)return;if(!(e instanceof Element))return window;let t=e;for(;t&&!(t===document.body||t===document.documentElement||!t.parentNode);){if(/(scroll|auto)/.test(U$(t)))return t;t=t.parentNode}return window};function N$(e){return e!==null&&typeof e=="object"}function Au(){}class M${constructor(t){this.max=t||100,this._caches=[]}has(t){return this._caches.indexOf(t)>-1}add(t){this.has(t)||(this._caches.push(t),this._caches.length>this.max&&this.free())}free(){this._caches.shift()}}class F${constructor(t,r,i,l,u,s,f,c,d,v){this.el=t,this.src=r,this.error=i,this.loading=l,this.bindType=u,this.attempt=0,this.cors=c,this.naturalHeight=0,this.naturalWidth=0,this.options=f,this.rect={},this.$parent=s,this.elRenderer=d,this._imageCache=v,this.performanceData={init:Date.now(),loadStart:0,loadEnd:0},this.filter(),this.initState(),this.render("loading",!1)}initState(){"dataset"in this.el?this.el.dataset.src=this.src:this.el.setAttribute("data-src",this.src),this.state={loading:!1,error:!1,loaded:!1,rendered:!1}}record(t){this.performanceData[t]=Date.now()}update(t){const r=this.src;this.src=t.src,this.loading=t.loading,this.error=t.error,this.filter(),r!==this.src&&(this.attempt=0,this.initState())}getRect(){this.rect=this.el.getBoundingClientRect()}checkInView(){return this.getRect(),this.rect.top<window.innerHeight*this.options.preLoad&&this.rect.bottom>this.options.preLoadTop&&this.rect.left<window.innerWidth*this.options.preLoad&&this.rect.right>0}filter(){for(const t in this.options.filter)this.options.filter[t](this,this.options)}renderLoading(t){this.state.loading=!0,Yl({src:this.loading,cors:this.cors},()=>{this.render("loading",!1),this.state.loading=!1,t()},()=>{t(),this.state.loading=!1,this.options.silent||console.warn("VueLazyload log: load failed with loading image(".concat(this.loading,")"))})}load(t=Au){if(this.attempt>this.options.attempt-1&&this.state.error){this.options.silent||console.log("VueLazyload log: ".concat(this.src," tried too more than ").concat(this.options.attempt," times")),t();return}if(!(this.state.rendered&&this.state.loaded)){if(this._imageCache.has(this.src))return this.state.loaded=!0,this.render("loaded",!0),this.state.rendered=!0,t();this.renderLoading(()=>{this.attempt++,this.options.adapter.beforeLoad&&this.options.adapter.beforeLoad(this,this.options),this.record("loadStart"),Yl({src:this.src,cors:this.cors},r=>{this.naturalHeight=r.naturalHeight,this.naturalWidth=r.naturalWidth,this.state.loaded=!0,this.state.error=!1,this.record("loadEnd"),this.render("loaded",!1),this.state.rendered=!0,this._imageCache.add(this.src),t()},r=>{!this.options.silent&&console.error(r),this.state.error=!0,this.state.loaded=!1,this.render("error",!1)})})}}render(t,r){this.elRenderer(this,t,r)}performance(){let t="loading",r=0;return this.state.loaded&&(t="loaded",r=(this.performanceData.loadEnd-this.performanceData.loadStart)/1e3),this.state.error&&(t="error"),{src:this.src,state:t,time:r}}$destroy(){this.el=null,this.src="",this.error=null,this.loading="",this.bindType=null,this.attempt=0}}const Fd="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",z$=["scroll","wheel","mousewheel","resize","animationend","transitionend","touchmove"],H$={rootMargin:"0px",threshold:0};class j${constructor({preLoad:t,error:r,throttleWait:i,preLoadTop:l,dispatchEvent:u,loading:s,attempt:f,silent:c=!0,scale:d,listenEvents:v,filter:m,adapter:y,observer:E,observerOptions:R}){this.version='"3.0.0"',this.lazyContainerMananger=null,this.mode=kr.event,this.ListenerQueue=[],this.TargetIndex=0,this.TargetQueue=[],this.options={silent:c,dispatchEvent:!!u,throttleWait:i||200,preLoad:t||1.3,preLoadTop:l||0,error:r||Fd,loading:s||Fd,attempt:f||3,scale:d||k$(d),listenEvents:v||z$,supportWebp:O$(),filter:m||{},adapter:y||{},observer:!!E,observerOptions:R||H$},this._initEvent(),this._imageCache=new M$(200),this.lazyLoadHandler=L$(this._lazyLoadHandler.bind(this),this.options.throttleWait),this.setMode(this.options.observer?kr.observer:kr.event)}performance(){const t=[];return this.ListenerQueue.map(r=>t.push(r.performance())),t}addLazyBox(t){this.ListenerQueue.push(t),gr&&(this._addListenerTarget(window),this._observer&&this._observer.observe(t.el),t.$el&&t.$el.parentNode&&this._addListenerTarget(t.$el.parentNode))}add(t,r,i){if(this.ListenerQueue.some(c=>c.el===t))return this.update(t,r),Dt(this.lazyLoadHandler);let{src:l,loading:u,error:s,cors:f}=this._valueFormatter(r.value);Dt(()=>{l=Md(t,this.options.scale)||l,this._observer&&this._observer.observe(t);const c=Object.keys(r.modifiers)[0];let d;c&&(d=r.instance.$refs[c],d=d?d.el||d:document.getElementById(c)),d||(d=B$(t));const v=new F$(t,l,s,u,r.arg,d,this.options,f,this._elRenderer.bind(this),this._imageCache);this.ListenerQueue.push(v),gr&&(this._addListenerTarget(window),this._addListenerTarget(d)),Dt(this.lazyLoadHandler)})}update(t,r,i){let{src:l,loading:u,error:s}=this._valueFormatter(r.value);l=Md(t,this.options.scale)||l;const f=this.ListenerQueue.find(c=>c.el===t);f?f.update({src:l,loading:u,error:s}):(t.getAttribute("lazy")!=="loaded"||t.dataset.src!==l)&&this.add(t,r,i),this._observer&&(this._observer.unobserve(t),this._observer.observe(t)),Dt(this.lazyLoadHandler)}remove(t){if(!t)return;this._observer&&this._observer.unobserve(t);const r=this.ListenerQueue.find(i=>i.el===t);r&&(this._removeListenerTarget(r.$parent),this._removeListenerTarget(window),Qo(this.ListenerQueue,r),r.$destroy&&r.$destroy())}removeComponent(t){t&&(Qo(this.ListenerQueue,t),this._observer&&this._observer.unobserve(t.el),t.$parent&&t.$el.parentNode&&this._removeListenerTarget(t.$el.parentNode),this._removeListenerTarget(window))}setMode(t){!Nd&&t===kr.observer&&(t=kr.event),this.mode=t,t===kr.event?(this._observer&&(this.ListenerQueue.forEach(r=>{this._observer.unobserve(r.el)}),this._observer=null),this.TargetQueue.forEach(r=>{this._initListen(r.el,!0)})):(this.TargetQueue.forEach(r=>{this._initListen(r.el,!1)}),this._initIntersectionObserver())}_addListenerTarget(t){if(!t)return;let r=this.TargetQueue.find(i=>i.el===t);return r?r.childrenCount++:(r={el:t,id:++this.TargetIndex,childrenCount:1,listened:!0},this.mode===kr.event&&this._initListen(r.el,!0),this.TargetQueue.push(r)),this.TargetIndex}_removeListenerTarget(t){this.TargetQueue.forEach((r,i)=>{r.el===t&&(r.childrenCount--,r.childrenCount||(this._initListen(r.el,!1),this.TargetQueue.splice(i,1),r=null))})}_initListen(t,r){this.options.listenEvents.forEach(i=>D$[r?"on":"off"](t,i,this.lazyLoadHandler))}_initEvent(){this.Event={listeners:{loading:[],loaded:[],error:[]}},this.$on=(t,r)=>{this.Event.listeners[t]||(this.Event.listeners[t]=[]),this.Event.listeners[t].push(r)},this.$once=(t,r)=>{const i=this;function l(){i.$off(t,l),r.apply(i,arguments)}this.$on(t,l)},this.$off=(t,r)=>{if(!r){if(!this.Event.listeners[t])return;this.Event.listeners[t].length=0;return}Qo(this.Event.listeners[t],r)},this.$emit=(t,r,i)=>{this.Event.listeners[t]&&this.Event.listeners[t].forEach(l=>l(r,i))}}_lazyLoadHandler(){const t=[];this.ListenerQueue.forEach((r,i)=>{(!r.el||!r.el.parentNode||r.state.loaded)&&t.push(r),r.checkInView()&&(r.state.loaded||r.load())}),t.forEach(r=>{Qo(this.ListenerQueue,r),r.$destroy&&r.$destroy()})}_initIntersectionObserver(){Nd&&(this._observer=new IntersectionObserver(this._observerHandler.bind(this),this.options.observerOptions),this.ListenerQueue.length&&this.ListenerQueue.forEach(t=>{this._observer.observe(t.el)}))}_observerHandler(t){t.forEach(r=>{r.isIntersecting&&this.ListenerQueue.forEach(i=>{if(i.el===r.target){if(i.state.loaded)return this._observer.unobserve(i.el);i.load()}})})}_elRenderer(t,r,i){if(!t.el)return;const{el:l,bindType:u}=t;let s;switch(r){case"loading":s=t.loading;break;case"error":s=t.error;break;default:s=t.src;break}if(u?l.style[u]='url("'+s+'")':l.getAttribute("src")!==s&&l.setAttribute("src",s),l.setAttribute("lazy",r),this.$emit(r,t,i),this.options.adapter[r]&&this.options.adapter[r](t,this.options),this.options.dispatchEvent){const f=new CustomEvent(r,{detail:t});l.dispatchEvent(f)}}_valueFormatter(t){return N$(t)?(!t.src&&!this.options.silent&&console.error("Vue Lazyload warning: miss src with "+t),{src:t.src,loading:t.loading||this.options.loading,error:t.error||this.options.error,cors:this.options.cors}):{src:t,loading:this.options.loading,error:this.options.error,cors:this.options.cors}}}const Xp=(e,t)=>{let r=On({});const i=()=>{r=e.value.getBoundingClientRect()};return{rect:r,checkInView:()=>(i(),gr&&r.top<window.innerHeight*t&&r.bottom>0&&r.left<window.innerWidth*t&&r.right>0)}};var q$=e=>ke({props:{tag:{type:String,default:"div"}},emits:["show"],setup(t,{emit:r,slots:i}){const l=ce(),u=On({loaded:!1,error:!1,attempt:0}),s=ce(!1),{rect:f,checkInView:c}=Xp(l,e.options.preLoad),d=()=>{s.value=!0,u.loaded=!0,r("show",s.value)},v=ve(()=>({el:l.value,rect:f,checkInView:c,load:d,state:u}));return At(()=>{e.addLazyBox(v.value),e.lazyLoadHandler()}),Ys(()=>{e.removeComponent(v.value)}),()=>{var m;return Ie(t.tag,{ref:l},[s.value&&((m=i.default)===null||m===void 0?void 0:m.call(i))])}}});class W${constructor(t){this.lazy=t,t.lazyContainerMananger=this,this._queue=[]}bind(t,r,i){const l=new G$(t,r,i,this.lazy);this._queue.push(l)}update(t,r,i){const l=this._queue.find(u=>u.el===t);l&&l.update(t,r)}unbind(t,r,i){const l=this._queue.find(u=>u.el===t);l&&(l.clear(),Qo(this._queue,l))}}const V$={selector:"img",error:"",loading:""};class G${constructor(t,r,i,l){this.el=t,this.vnode=i,this.binding=r,this.options={},this.lazy=l,this._queue=[],this.update(t,r)}update(t,r){this.el=t,this.options=Bd({},V$,r.value),this.getImgs().forEach(l=>{this.lazy.add(l,Bd({},this.binding,{value:{src:l.getAttribute("data-src")||l.dataset.src,error:l.getAttribute("data-error")||l.dataset.error||this.options.error,loading:l.getAttribute("data-loading")||l.dataset.loading||this.options.loading}}),this.vnode)})}getImgs(){return Array.from(this.el.querySelectorAll(this.options.selector))}clear(){this.getImgs().forEach(r=>this.lazy.remove(r)),this.vnode=null,this.binding=null,this.lazy=null}}var K$=e=>ke({setup(t,{slots:r}){const i=ce(),l=On({src:"",error:"",loading:"",attempt:e.options.attempt}),u=On({loaded:!1,error:!1,attempt:0}),{rect:s,checkInView:f}=Xp(i,e.options.preLoad),c=ce(""),d=(y=Au)=>{if(u.attempt>l.attempt-1&&u.error)return e.options.silent||console.log("VueLazyload log: ".concat(l.src," tried too more than ").concat(l.attempt," times")),y();const E=l.src;Yl({src:E},({src:R})=>{c.value=R,u.loaded=!0},()=>{u.attempt++,c.value=l.error,u.error=!0})},v=ve(()=>({el:i.value,rect:s,checkInView:f,load:d,state:u}));At(()=>{e.addLazyBox(v.value),e.lazyLoadHandler()}),Ys(()=>{e.removeComponent(v.value)});const m=()=>{const{src:y,loading:E,error:R}=e._valueFormatter(t.src);u.loaded=!1,l.src=y,l.error=R,l.loading=E,c.value=l.loading};return Xe(()=>t.src,()=>{m(),e.addLazyBox(v.value),e.lazyLoadHandler()},{immediate:!0}),()=>{var y;return Ie(t.tag||"img",{src:c.value,ref:i},[(y=r.default)===null||y===void 0?void 0:y.call(r)])}}}),Q$={install(e,t={}){const r=new j$(t),i=new W$(r);if(Number(e.version.split(".")[0])<3)return new Error("Vue version at least 3.0");e.config.globalProperties.$Lazyload=r,e.provide("Lazyload",r),t.lazyComponent&&e.component("lazy-component",q$(r)),t.lazyImage&&e.component("lazy-image",K$(r)),e.directive("lazy",{beforeMount:r.add.bind(r),beforeUpdate:r.update.bind(r),updated:r.lazyLoadHandler.bind(r),unmounted:r.remove.bind(r)}),e.directive("lazy-container",{beforeMount:i.bind.bind(i),updated:i.update.bind(i),unmounted:i.unbind.bind(i)})}};function Jp(e){return Ip()?(xp(e),!0):!1}function Pu(e){return typeof e=="function"?e():w(e)}const Y$=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const X$=Object.prototype.toString,J$=e=>X$.call(e)==="[object Object]",Z$=()=>{};function eE(e,t){function r(...i){return new Promise((l,u)=>{Promise.resolve(e(()=>t.apply(this,i),{fn:t,thisArg:this,args:i})).then(l).catch(u)})}return r}const Zp=e=>e();function tE(e=Zp){const t=ce(!0);function r(){t.value=!1}function i(){t.value=!0}const l=(...u)=>{t.value&&e(...u)};return{isActive:e$(t),pause:r,resume:i,eventFilter:l}}function ev(e){return Xs()}function nE(e,t,r={}){const{eventFilter:i=Zp,...l}=r;return Xe(e,eE(i,t),l)}function rE(e,t,r={}){const{eventFilter:i,...l}=r,{eventFilter:u,pause:s,resume:f,isActive:c}=tE(i);return{stop:nE(e,t,{...l,eventFilter:u}),pause:s,resume:f,isActive:c}}function oE(e,t=!0,r){ev()?At(e,r):t?e():Dt(e)}function iE(e,t){ev()&&Ys(e,t)}function tv(e){var t;const r=Pu(e);return(t=r==null?void 0:r.$el)!=null?t:r}const Xl=Y$?window:void 0;function An(...e){let t,r,i,l;if(typeof e[0]=="string"||Array.isArray(e[0])?([r,i,l]=e,t=Xl):[t,r,i,l]=e,!t)return Z$;Array.isArray(r)||(r=[r]),Array.isArray(i)||(i=[i]);const u=[],s=()=>{u.forEach(v=>v()),u.length=0},f=(v,m,y,E)=>(v.addEventListener(m,y,E),()=>v.removeEventListener(m,y,E)),c=Xe(()=>[tv(t),Pu(l)],([v,m])=>{if(s(),!v)return;const y=J$(m)?{...m}:m;u.push(...r.flatMap(E=>i.map(R=>f(v,E,R,y))))},{immediate:!0,flush:"post"}),d=()=>{c(),s()};return Jp(d),d}const Es=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Cs="__vueuse_ssr_handlers__",sE=aE();function aE(){return Cs in Es||(Es[Cs]=Es[Cs]||{}),Es[Cs]}function lE(e,t){return sE[e]||t}function uE(e){return e==null?"any":e instanceof Set?"set":e instanceof Map?"map":e instanceof Date?"date":typeof e=="boolean"?"boolean":typeof e=="string"?"string":typeof e=="object"?"object":Number.isNaN(e)?"any":"number"}const cE={boolean:{read:e=>e==="true",write:e=>String(e)},object:{read:e=>JSON.parse(e),write:e=>JSON.stringify(e)},number:{read:e=>Number.parseFloat(e),write:e=>String(e)},any:{read:e=>e,write:e=>String(e)},string:{read:e=>e,write:e=>String(e)},map:{read:e=>new Map(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e.entries()))},set:{read:e=>new Set(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e))},date:{read:e=>new Date(e),write:e=>e.toISOString()}},zd="vueuse-storage";function BF(e,t,r,i={}){var l;const{flush:u="pre",deep:s=!0,listenToStorageChanges:f=!0,writeDefaults:c=!0,mergeDefaults:d=!1,shallow:v,window:m=Xl,eventFilter:y,onError:E=se=>{console.error(se)},initOnMounted:R}=i,U=(v?Dp:ce)(typeof t=="function"?t():t);if(!r)try{r=lE("getDefaultStorage",()=>{var se;return(se=Xl)==null?void 0:se.localStorage})()}catch(se){E(se)}if(!r)return U;const O=Pu(t),T=uE(O),B=(l=i.serializer)!=null?l:cE[T],{pause:M,resume:H}=rE(U,()=>re(U.value),{flush:u,deep:s,eventFilter:y});m&&f&&oE(()=>{An(m,"storage",J),An(m,zd,K),R&&J()}),R||J();function j(se,le){m&&m.dispatchEvent(new CustomEvent(zd,{detail:{key:e,oldValue:se,newValue:le,storageArea:r}}))}function re(se){try{const le=r.getItem(e);if(se==null)j(le,null),r.removeItem(e);else{const N=B.write(se);le!==N&&(r.setItem(e,N),j(le,N))}}catch(le){E(le)}}function F(se){const le=se?se.newValue:r.getItem(e);if(le==null)return c&&O!=null&&r.setItem(e,B.write(O)),O;if(!se&&d){const N=B.read(le);return typeof d=="function"?d(N,O):T==="object"&&!Array.isArray(N)?{...O,...N}:N}else return typeof le!="string"?le:B.read(le)}function J(se){if(!(se&&se.storageArea!==r)){if(se&&se.key==null){U.value=O;return}if(!(se&&se.key!==e)){M();try{(se==null?void 0:se.newValue)!==B.write(U.value)&&(U.value=F(se))}catch(le){E(le)}finally{se?Dt(H):H()}}}}function K(se){J(se.detail)}return U}/*!
* tabbable 6.2.0
* @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
*/var nv=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],Ns=nv.join(","),rv=typeof Element>"u",Br=rv?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,Ms=!rv&&Element.prototype.getRootNode?function(e){var t;return e==null||(t=e.getRootNode)===null||t===void 0?void 0:t.call(e)}:function(e){return e==null?void 0:e.ownerDocument},Fs=function e(t,r){var i;r===void 0&&(r=!0);var l=t==null||(i=t.getAttribute)===null||i===void 0?void 0:i.call(t,"inert"),u=l===""||l==="true",s=u||r&&t&&e(t.parentNode);return s},fE=function(t){var r,i=t==null||(r=t.getAttribute)===null||r===void 0?void 0:r.call(t,"contenteditable");return i===""||i==="true"},ov=function(t,r,i){if(Fs(t))return[];var l=Array.prototype.slice.apply(t.querySelectorAll(Ns));return r&&Br.call(t,Ns)&&l.unshift(t),l=l.filter(i),l},iv=function e(t,r,i){for(var l=[],u=Array.from(t);u.length;){var s=u.shift();if(!Fs(s,!1))if(s.tagName==="SLOT"){var f=s.assignedElements(),c=f.length?f:s.children,d=e(c,!0,i);i.flatten?l.push.apply(l,d):l.push({scopeParent:s,candidates:d})}else{var v=Br.call(s,Ns);v&&i.filter(s)&&(r||!t.includes(s))&&l.push(s);var m=s.shadowRoot||typeof i.getShadowRoot=="function"&&i.getShadowRoot(s),y=!Fs(m,!1)&&(!i.shadowRootFilter||i.shadowRootFilter(s));if(m&&y){var E=e(m===!0?s.children:m.children,!0,i);i.flatten?l.push.apply(l,E):l.push({scopeParent:s,candidates:E})}else u.unshift.apply(u,s.children)}}return l},sv=function(t){return!isNaN(parseInt(t.getAttribute("tabindex"),10))},Or=function(t){if(!t)throw new Error("No node provided");return t.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(t.tagName)||fE(t))&&!sv(t)?0:t.tabIndex},dE=function(t,r){var i=Or(t);return i<0&&r&&!sv(t)?0:i},hE=function(t,r){return t.tabIndex===r.tabIndex?t.documentOrder-r.documentOrder:t.tabIndex-r.tabIndex},av=function(t){return t.tagName==="INPUT"},pE=function(t){return av(t)&&t.type==="hidden"},vE=function(t){var r=t.tagName==="DETAILS"&&Array.prototype.slice.apply(t.children).some(function(i){return i.tagName==="SUMMARY"});return r},mE=function(t,r){for(var i=0;i<t.length;i++)if(t[i].checked&&t[i].form===r)return t[i]},gE=function(t){if(!t.name)return!0;var r=t.form||Ms(t),i=function(f){return r.querySelectorAll('input[type="radio"][name="'+f+'"]')},l;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")l=i(window.CSS.escape(t.name));else try{l=i(t.name)}catch(s){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",s.message),!1}var u=mE(l,t.form);return!u||u===t},bE=function(t){return av(t)&&t.type==="radio"},yE=function(t){return bE(t)&&!gE(t)},_E=function(t){var r,i=t&&Ms(t),l=(r=i)===null||r===void 0?void 0:r.host,u=!1;if(i&&i!==t){var s,f,c;for(u=!!((s=l)!==null&&s!==void 0&&(f=s.ownerDocument)!==null&&f!==void 0&&f.contains(l)||t!=null&&(c=t.ownerDocument)!==null&&c!==void 0&&c.contains(t));!u&&l;){var d,v,m;i=Ms(l),l=(d=i)===null||d===void 0?void 0:d.host,u=!!((v=l)!==null&&v!==void 0&&(m=v.ownerDocument)!==null&&m!==void 0&&m.contains(l))}}return u},Hd=function(t){var r=t.getBoundingClientRect(),i=r.width,l=r.height;return i===0&&l===0},wE=function(t,r){var i=r.displayCheck,l=r.getShadowRoot;if(getComputedStyle(t).visibility==="hidden")return!0;var u=Br.call(t,"details>summary:first-of-type"),s=u?t.parentElement:t;if(Br.call(s,"details:not([open]) *"))return!0;if(!i||i==="full"||i==="legacy-full"){if(typeof l=="function"){for(var f=t;t;){var c=t.parentElement,d=Ms(t);if(c&&!c.shadowRoot&&l(c)===!0)return Hd(t);t.assignedSlot?t=t.assignedSlot:!c&&d!==t.ownerDocument?t=d.host:t=c}t=f}if(_E(t))return!t.getClientRects().length;if(i!=="legacy-full")return!0}else if(i==="non-zero-area")return Hd(t);return!1},SE=function(t){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(t.tagName))for(var r=t.parentElement;r;){if(r.tagName==="FIELDSET"&&r.disabled){for(var i=0;i<r.children.length;i++){var l=r.children.item(i);if(l.tagName==="LEGEND")return Br.call(r,"fieldset[disabled] *")?!0:!l.contains(t)}return!0}r=r.parentElement}return!1},zs=function(t,r){return!(r.disabled||Fs(r)||pE(r)||wE(r,t)||vE(r)||SE(r))},Jl=function(t,r){return!(yE(r)||Or(r)<0||!zs(t,r))},$E=function(t){var r=parseInt(t.getAttribute("tabindex"),10);return!!(isNaN(r)||r>=0)},EE=function e(t){var r=[],i=[];return t.forEach(function(l,u){var s=!!l.scopeParent,f=s?l.scopeParent:l,c=dE(f,s),d=s?e(l.candidates):f;c===0?s?r.push.apply(r,d):r.push(f):i.push({documentOrder:u,tabIndex:c,item:l,isScope:s,content:d})}),i.sort(hE).reduce(function(l,u){return u.isScope?l.push.apply(l,u.content):l.push(u.content),l},[]).concat(r)},CE=function(t,r){r=r||{};var i;return r.getShadowRoot?i=iv([t],r.includeContainer,{filter:Jl.bind(null,r),flatten:!1,getShadowRoot:r.getShadowRoot,shadowRootFilter:$E}):i=ov(t,r.includeContainer,Jl.bind(null,r)),EE(i)},TE=function(t,r){r=r||{};var i;return r.getShadowRoot?i=iv([t],r.includeContainer,{filter:zs.bind(null,r),flatten:!0,getShadowRoot:r.getShadowRoot}):i=ov(t,r.includeContainer,zs.bind(null,r)),i},ao=function(t,r){if(r=r||{},!t)throw new Error("No node provided");return Br.call(t,Ns)===!1?!1:Jl(r,t)},AE=nv.concat("iframe").join(","),Il=function(t,r){if(r=r||{},!t)throw new Error("No node provided");return Br.call(t,AE)===!1?!1:zs(r,t)};/*!
* focus-trap 7.5.4
* @license MIT, https://github.com/focus-trap/focus-trap/blob/master/LICENSE
*/function jd(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),r.push.apply(r,i)}return r}function qd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jd(Object(r),!0).forEach(function(i){PE(e,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jd(Object(r)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(r,i))})}return e}function PE(e,t,r){return t=kE(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function RE(e,t){if(typeof e!="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,t||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function kE(e){var t=RE(e,"string");return typeof t=="symbol"?t:String(t)}var Wd={activateTrap:function(t,r){if(t.length>0){var i=t[t.length-1];i!==r&&i.pause()}var l=t.indexOf(r);l===-1||t.splice(l,1),t.push(r)},deactivateTrap:function(t,r){var i=t.indexOf(r);i!==-1&&t.splice(i,1),t.length>0&&t[t.length-1].unpause()}},OE=function(t){return t.tagName&&t.tagName.toLowerCase()==="input"&&typeof t.select=="function"},LE=function(t){return(t==null?void 0:t.key)==="Escape"||(t==null?void 0:t.key)==="Esc"||(t==null?void 0:t.keyCode)===27},Zo=function(t){return(t==null?void 0:t.key)==="Tab"||(t==null?void 0:t.keyCode)===9},IE=function(t){return Zo(t)&&!t.shiftKey},xE=function(t){return Zo(t)&&t.shiftKey},Vd=function(t){return setTimeout(t,0)},Gd=function(t,r){var i=-1;return t.every(function(l,u){return r(l)?(i=u,!1):!0}),i},Ho=function(t){for(var r=arguments.length,i=new Array(r>1?r-1:0),l=1;l<r;l++)i[l-1]=arguments[l];return typeof t=="function"?t.apply(void 0,i):t},Ts=function(t){return t.target.shadowRoot&&typeof t.composedPath=="function"?t.composedPath()[0]:t.target},DE=[],UE=function(t,r){var i=(r==null?void 0:r.document)||document,l=(r==null?void 0:r.trapStack)||DE,u=qd({returnFocusOnDeactivate:!0,escapeDeactivates:!0,delayInitialFocus:!0,isKeyForward:IE,isKeyBackward:xE},r),s={containers:[],containerGroups:[],tabbableGroups:[],nodeFocusedBeforeActivation:null,mostRecentlyFocusedNode:null,active:!1,paused:!1,delayInitialFocusTimer:void 0,recentNavEvent:void 0},f,c=function(N,W,ue){return N&&N[W]!==void 0?N[W]:u[ue||W]},d=function(N,W){var ue=typeof(W==null?void 0:W.composedPath)=="function"?W.composedPath():void 0;return s.containerGroups.findIndex(function(ae){var P=ae.container,A=ae.tabbableNodes;return P.contains(N)||(ue==null?void 0:ue.includes(P))||A.find(function(k){return k===N})})},v=function(N){var W=u[N];if(typeof W=="function"){for(var ue=arguments.length,ae=new Array(ue>1?ue-1:0),P=1;P<ue;P++)ae[P-1]=arguments[P];W=W.apply(void 0,ae)}if(W===!0&&(W=void 0),!W){if(W===void 0||W===!1)return W;throw new Error("`".concat(N,"` was specified but was not a node, or did not return a node"))}var A=W;if(typeof W=="string"&&(A=i.querySelector(W),!A))throw new Error("`".concat(N,"` as selector refers to no known node"));return A},m=function(){var N=v("initialFocus");if(N===!1)return!1;if(N===void 0||!Il(N,u.tabbableOptions))if(d(i.activeElement)>=0)N=i.activeElement;else{var W=s.tabbableGroups[0],ue=W&&W.firstTabbableNode;N=ue||v("fallbackFocus")}if(!N)throw new Error("Your focus-trap needs to have at least one focusable element");return N},y=function(){if(s.containerGroups=s.containers.map(function(N){var W=CE(N,u.tabbableOptions),ue=TE(N,u.tabbableOptions),ae=W.length>0?W[0]:void 0,P=W.length>0?W[W.length-1]:void 0,A=ue.find(function(Y){return ao(Y)}),k=ue.slice().reverse().find(function(Y){return ao(Y)}),q=!!W.find(function(Y){return Or(Y)>0});return{container:N,tabbableNodes:W,focusableNodes:ue,posTabIndexesFound:q,firstTabbableNode:ae,lastTabbableNode:P,firstDomTabbableNode:A,lastDomTabbableNode:k,nextTabbableNode:function(X){var ge=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,Ee=W.indexOf(X);return Ee<0?ge?ue.slice(ue.indexOf(X)+1).find(function(Ae){return ao(Ae)}):ue.slice(0,ue.indexOf(X)).reverse().find(function(Ae){return ao(Ae)}):W[Ee+(ge?1:-1)]}}}),s.tabbableGroups=s.containerGroups.filter(function(N){return N.tabbableNodes.length>0}),s.tabbableGroups.length<=0&&!v("fallbackFocus"))throw new Error("Your focus-trap must have at least one container with at least one tabbable node in it at all times");if(s.containerGroups.find(function(N){return N.posTabIndexesFound})&&s.containerGroups.length>1)throw new Error("At least one node with a positive tabindex was found in one of your focus-trap's multiple containers. Positive tabindexes are only supported in single-container focus-traps.")},E=function le(N){var W=N.activeElement;if(W)return W.shadowRoot&&W.shadowRoot.activeElement!==null?le(W.shadowRoot):W},R=function le(N){if(N!==!1&&N!==E(document)){if(!N||!N.focus){le(m());return}N.focus({preventScroll:!!u.preventScroll}),s.mostRecentlyFocusedNode=N,OE(N)&&N.select()}},U=function(N){var W=v("setReturnFocus",N);return W||(W===!1?!1:N)},O=function(N){var W=N.target,ue=N.event,ae=N.isBackward,P=ae===void 0?!1:ae;W=W||Ts(ue),y();var A=null;if(s.tabbableGroups.length>0){var k=d(W,ue),q=k>=0?s.containerGroups[k]:void 0;if(k<0)P?A=s.tabbableGroups[s.tabbableGroups.length-1].lastTabbableNode:A=s.tabbableGroups[0].firstTabbableNode;else if(P){var Y=Gd(s.tabbableGroups,function(Fe){var V=Fe.firstTabbableNode;return W===V});if(Y<0&&(q.container===W||Il(W,u.tabbableOptions)&&!ao(W,u.tabbableOptions)&&!q.nextTabbableNode(W,!1))&&(Y=k),Y>=0){var X=Y===0?s.tabbableGroups.length-1:Y-1,ge=s.tabbableGroups[X];A=Or(W)>=0?ge.lastTabbableNode:ge.lastDomTabbableNode}else Zo(ue)||(A=q.nextTabbableNode(W,!1))}else{var Ee=Gd(s.tabbableGroups,function(Fe){var V=Fe.lastTabbableNode;return W===V});if(Ee<0&&(q.container===W||Il(W,u.tabbableOptions)&&!ao(W,u.tabbableOptions)&&!q.nextTabbableNode(W))&&(Ee=k),Ee>=0){var Ae=Ee===s.tabbableGroups.length-1?0:Ee+1,Ve=s.tabbableGroups[Ae];A=Or(W)>=0?Ve.firstTabbableNode:Ve.firstDomTabbableNode}else Zo(ue)||(A=q.nextTabbableNode(W))}}else A=v("fallbackFocus");return A},T=function(N){var W=Ts(N);if(!(d(W,N)>=0)){if(Ho(u.clickOutsideDeactivates,N)){f.deactivate({returnFocus:u.returnFocusOnDeactivate});return}Ho(u.allowOutsideClick,N)||N.preventDefault()}},B=function(N){var W=Ts(N),ue=d(W,N)>=0;if(ue||W instanceof Document)ue&&(s.mostRecentlyFocusedNode=W);else{N.stopImmediatePropagation();var ae,P=!0;if(s.mostRecentlyFocusedNode)if(Or(s.mostRecentlyFocusedNode)>0){var A=d(s.mostRecentlyFocusedNode),k=s.containerGroups[A].tabbableNodes;if(k.length>0){var q=k.findIndex(function(Y){return Y===s.mostRecentlyFocusedNode});q>=0&&(u.isKeyForward(s.recentNavEvent)?q+1<k.length&&(ae=k[q+1],P=!1):q-1>=0&&(ae=k[q-1],P=!1))}}else s.containerGroups.some(function(Y){return Y.tabbableNodes.some(function(X){return Or(X)>0})})||(P=!1);else P=!1;P&&(ae=O({target:s.mostRecentlyFocusedNode,isBackward:u.isKeyBackward(s.recentNavEvent)})),R(ae||s.mostRecentlyFocusedNode||m())}s.recentNavEvent=void 0},M=function(N){var W=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;s.recentNavEvent=N;var ue=O({event:N,isBackward:W});ue&&(Zo(N)&&N.preventDefault(),R(ue))},H=function(N){if(LE(N)&&Ho(u.escapeDeactivates,N)!==!1){N.preventDefault(),f.deactivate();return}(u.isKeyForward(N)||u.isKeyBackward(N))&&M(N,u.isKeyBackward(N))},j=function(N){var W=Ts(N);d(W,N)>=0||Ho(u.clickOutsideDeactivates,N)||Ho(u.allowOutsideClick,N)||(N.preventDefault(),N.stopImmediatePropagation())},re=function(){if(s.active)return Wd.activateTrap(l,f),s.delayInitialFocusTimer=u.delayInitialFocus?Vd(function(){R(m())}):R(m()),i.addEventListener("focusin",B,!0),i.addEventListener("mousedown",T,{capture:!0,passive:!1}),i.addEventListener("touchstart",T,{capture:!0,passive:!1}),i.addEventListener("click",j,{capture:!0,passive:!1}),i.addEventListener("keydown",H,{capture:!0,passive:!1}),f},F=function(){if(s.active)return i.removeEventListener("focusin",B,!0),i.removeEventListener("mousedown",T,!0),i.removeEventListener("touchstart",T,!0),i.removeEventListener("click",j,!0),i.removeEventListener("keydown",H,!0),f},J=function(N){var W=N.some(function(ue){var ae=Array.from(ue.removedNodes);return ae.some(function(P){return P===s.mostRecentlyFocusedNode})});W&&R(m())},K=typeof window<"u"&&"MutationObserver"in window?new MutationObserver(J):void 0,se=function(){K&&(K.disconnect(),s.active&&!s.paused&&s.containers.map(function(N){K.observe(N,{subtree:!0,childList:!0})}))};return f={get active(){return s.active},get paused(){return s.paused},activate:function(N){if(s.active)return this;var W=c(N,"onActivate"),ue=c(N,"onPostActivate"),ae=c(N,"checkCanFocusTrap");ae||y(),s.active=!0,s.paused=!1,s.nodeFocusedBeforeActivation=i.activeElement,W==null||W();var P=function(){ae&&y(),re(),se(),ue==null||ue()};return ae?(ae(s.containers.concat()).then(P,P),this):(P(),this)},deactivate:function(N){if(!s.active)return this;var W=qd({onDeactivate:u.onDeactivate,onPostDeactivate:u.onPostDeactivate,checkCanReturnFocus:u.checkCanReturnFocus},N);clearTimeout(s.delayInitialFocusTimer),s.delayInitialFocusTimer=void 0,F(),s.active=!1,s.paused=!1,se(),Wd.deactivateTrap(l,f);var ue=c(W,"onDeactivate"),ae=c(W,"onPostDeactivate"),P=c(W,"checkCanReturnFocus"),A=c(W,"returnFocus","returnFocusOnDeactivate");ue==null||ue();var k=function(){Vd(function(){A&&R(U(s.nodeFocusedBeforeActivation)),ae==null||ae()})};return A&&P?(P(U(s.nodeFocusedBeforeActivation)).then(k,k),this):(k(),this)},pause:function(N){if(s.paused||!s.active)return this;var W=c(N,"onPause"),ue=c(N,"onPostPause");return s.paused=!0,W==null||W(),F(),se(),ue==null||ue(),this},unpause:function(N){if(!s.paused||!s.active)return this;var W=c(N,"onUnpause"),ue=c(N,"onPostUnpause");return s.paused=!1,W==null||W(),y(),re(),se(),ue==null||ue(),this},updateContainerElements:function(N){var W=[].concat(N).filter(Boolean);return s.containers=W.map(function(ue){return typeof ue=="string"?i.querySelector(ue):ue}),s.active&&y(),se(),this}},f.updateContainerElements(t),f};function BE(e,t={}){let r;const{immediate:i,...l}=t,u=ce(!1),s=ce(!1),f=m=>r&&r.activate(m),c=m=>r&&r.deactivate(m),d=()=>{r&&(r.pause(),s.value=!0)},v=()=>{r&&(r.unpause(),s.value=!1)};return Xe(()=>tv(e),m=>{m&&(r=UE(m,{...l,onActivate(){u.value=!0,t.onActivate&&t.onActivate()},onDeactivate(){u.value=!1,t.onDeactivate&&t.onDeactivate()}}),i&&f())},{flush:"post"}),Jp(()=>c()),{hasFocus:u,isPaused:s,activate:f,deactivate:c,pause:d,unpause:v}}const NE=e=>(...t)=>{e&&(e==null||e(...t),e=null)},ui=()=>{};function As(e,t,r){return e>r?r:e<t?t:e}const Ru=e=>typeof e=="string";function xl(e,t){var r;const i=((r=Yo(e,t))==null?void 0:r[0])||t;e.push(i)}function Yo(e,t){const r=e.indexOf(t);if(r!==-1)return e.splice(r,1)}function lv(e){return Object.entries(e)}const ME={teleportTo:{type:[String,null,Boolean,Object],default:"body"},modalId:{type:[String,Number,Symbol],default:void 0},modelValue:{type:Boolean,default:void 0},displayDirective:{type:String,default:"if",validator:e=>["if","show","visible"].includes(e)},hideOverlay:{type:Boolean,default:void 0},overlayBehavior:{type:String,default:"auto",validator:e=>["auto","persist"].includes(e)},overlayTransition:{type:[String,Object],default:void 0},contentTransition:{type:[String,Object],default:void 0},overlayClass:{type:void 0,default:void 0},contentClass:{type:void 0,default:void 0},overlayStyle:{type:[String,Object,Array],default:void 0},contentStyle:{type:[String,Object,Array],default:void 0},clickToClose:{type:Boolean,default:!0},escToClose:{type:Boolean,default:!0},background:{type:String,default:"non-interactive",validator:e=>["interactive","non-interactive"].includes(e)},focusTrap:{type:[Boolean,Object],default:()=>({allowOutsideClick:!0})},lockScroll:{type:Boolean,default:!0},reserveScrollBarGap:{type:Boolean,default:!0},zIndexFn:{type:Function,default:({index:e})=>1e3+2*e},swipeToClose:{type:String,default:"none",validator:e=>["none","up","right","down","left"].includes(e)},threshold:{type:Number,default:0},showSwipeBanner:{type:Boolean,default:void 0},preventNavigationGestures:{type:Boolean,default:void 0}};function Kd(e=!1){const t=ce(e),r=ce(t.value?0:void 0);return[t,r,{beforeEnter(){r.value=1},afterEnter(){r.value=0},beforeLeave(){r.value=3},afterLeave(){r.value=2}}]}function FE(e,t){const{modelValueLocal:r,onEntering:i,onEnter:l,onLeaving:u,onLeave:s}=t,f=ce(r.value),[c,d,v]=Kd(f.value),[m,y,E]=Kd(f.value),R=ve(()=>typeof e.contentTransition=="string"?{name:e.contentTransition,appear:!0}:{appear:!0,...e.contentTransition}),U=ve(()=>typeof e.overlayTransition=="string"?{name:e.overlayTransition,appear:!0}:{appear:!0,...e.overlayTransition}),O=ve(()=>(e.hideOverlay||y.value===2)&&d.value===2);Xe(O,M=>{M&&(f.value=!1)}),Xe(d,M=>{if(M===1){if(!f.value)return;i==null||i()}else if(M===0){if(!f.value)return;l==null||l()}else M===3?u==null||u():M===2&&(s==null||s())});async function T(){f.value=!0,await Dt(),c.value=!0,m.value=!0}function B(){c.value=!1,m.value=!1}return{visible:f,contentVisible:c,contentListeners:v,contentTransition:R,overlayVisible:m,overlayListeners:E,overlayTransition:U,enterTransition:T,leaveTransition:B}}function zE(e,t,r){const{vfmRootEl:i,vfmContentEl:l,visible:u,modelValueLocal:s}=r,f=ce();function c(){u.value&&e.escToClose&&(s.value=!1)}function d(m){f.value=m==null?void 0:m.target}function v(){var m;f.value===i.value&&(e.clickToClose?s.value=!1:((m=l.value)==null||m.focus(),t("clickOutside")))}return{onEsc:c,onMouseupRoot:v,onMousedown:d}}function HE(e,t,r){let i=!1;const{open:l,close:u}=r,s=ce(!1),f={get value(){return s.value},set value(d){c(d)}};function c(d){(d?l():u())?(s.value=d,d!==e.modelValue&&t("update:modelValue",d)):(i=!0,t("update:modelValue",!d),Dt(()=>{i=!1}))}return Xe(()=>e.modelValue,d=>{i||(f.value=!!d)}),{modelValueLocal:f}}function jE(e,t){if(e.focusTrap===!1)return{focus(){},blur(){}};const{focusEl:r}=t,{hasFocus:i,activate:l,deactivate:u}=BE(r,e.focusTrap);function s(){requestAnimationFrame(()=>{l()})}function f(){i.value&&u()}return{focus:s,blur:f}}let ku=!1;if(typeof window<"u"){const e={get passive(){ku=!0}};window.addEventListener("testPassive",null,e),window.removeEventListener("testPassive",null,e)}const uv=typeof window<"u"&&window.navigator&&window.navigator.platform&&(/iP(ad|hone|od)/.test(window.navigator.platform)||window.navigator.platform==="MacIntel"&&window.navigator.maxTouchPoints>1);let vr=[],Hs=!1,Os=0,cv=-1,ei,ti;const qE=e=>{if(!e||e.nodeType!==Node.ELEMENT_NODE)return!1;const t=window.getComputedStyle(e);return["auto","scroll"].includes(t.overflowY)&&e.scrollHeight>e.clientHeight},WE=(e,t)=>!(e.scrollTop===0&&t<0||e.scrollTop+e.clientHeight+t>=e.scrollHeight&&t>0),VE=e=>{const t=[];for(;e;){if(t.push(e),e.classList.contains("vfm"))return t;e=e.parentElement}return t},GE=(e,t)=>{let r=!1;return VE(e).forEach(i=>{qE(i)&&WE(i,t)&&(r=!0)}),r},fv=e=>vr.some(()=>GE(e,-Os)),Ou=e=>{const t=e||window.event;return fv(t.target)||t.touches.length>1?!0:(t.preventDefault&&t.preventDefault(),!1)},KE=e=>{if(ti===void 0){const t=!!e&&e.reserveScrollBarGap===!0,r=window.innerWidth-document.documentElement.clientWidth;if(t&&r>0){const i=parseInt(getComputedStyle(document.body).getPropertyValue("padding-right"),10);ti=document.body.style.paddingRight,document.body.style.paddingRight="".concat(i+r,"px")}}ei===void 0&&(ei=document.body.style.overflow,document.body.style.overflow="hidden")},QE=()=>{ti!==void 0&&(document.body.style.paddingRight=ti,ti=void 0),ei!==void 0&&(document.body.style.overflow=ei,ei=void 0)},YE=e=>e?e.scrollHeight-e.scrollTop<=e.clientHeight:!1,XE=(e,t)=>(Os=e.targetTouches[0].clientY-cv,fv(e.target)?!1:t&&t.scrollTop===0&&Os>0||YE(t)&&Os<0?Ou(e):(e.stopPropagation(),!0)),JE=(e,t)=>{if(!e){console.error("disableBodyScroll unsuccessful - targetElement must be provided when calling disableBodyScroll on IOS devices.");return}if(vr.some(i=>i.targetElement===e))return;const r={targetElement:e,options:t||{}};vr=[...vr,r],uv?(e.ontouchstart=i=>{i.targetTouches.length===1&&(cv=i.targetTouches[0].clientY)},e.ontouchmove=i=>{i.targetTouches.length===1&&XE(i,e)},Hs||(document.addEventListener("touchmove",Ou,ku?{passive:!1}:void 0),Hs=!0)):KE(t)},ZE=e=>{if(!e){console.error("enableBodyScroll unsuccessful - targetElement must be provided when calling enableBodyScroll on IOS devices.");return}vr=vr.filter(t=>t.targetElement!==e),uv?(e.ontouchstart=null,e.ontouchmove=null,Hs&&vr.length===0&&(document.removeEventListener("touchmove",Ou,ku?{passive:!1}:void 0),Hs=!1)):vr.length||QE()};function e2(e,t){const{lockScrollEl:r,modelValueLocal:i}=t;let l;Xe(r,f=>{f&&(l=f)},{immediate:!0}),Xe(()=>e.lockScroll,f=>{f?s():u()}),jr(()=>{u()});function u(){l&&ZE(l)}function s(){i.value&&e.lockScroll&&l&&JE(l,{reserveScrollBarGap:e.reserveScrollBarGap,allowTouchMove:f=>{for(;f&&f!==document.body;){if(f.getAttribute("vfm-scroll-lock-ignore")!==null)return!0;f=f.parentElement}return!1}})}return{enableBodyScroll:u,disableBodyScroll:s}}function t2(e){const t=ce();function r(l){var u;t.value=(u=e.zIndexFn)==null?void 0:u.call(e,{index:l<=-1?0:l})}function i(){t.value=void 0}return{zIndex:t,refreshZIndex:r,resetZIndex:i}}const Dl={beforeMount(e,{value:t},{transition:r}){e._vov=e.style.visibility==="hidden"?"":e.style.visibility,r&&t?r.beforeEnter(e):jo(e,t)},mounted(e,{value:t},{transition:r}){r&&t&&r.enter(e)},updated(e,{value:t,oldValue:r},{transition:i}){!t!=!r&&(i?t?(i.beforeEnter(e),jo(e,!0),i.enter(e)):i.leave(e,()=>{jo(e,!1)}):jo(e,t))},beforeUnmount(e,{value:t}){jo(e,t)}};function jo(e,t){e.style.visibility=t?e._vov:"hidden"}const Qd=e=>{if(e instanceof MouseEvent){const{clientX:t,clientY:r}=e;return{x:t,y:r}}else{const{clientX:t,clientY:r}=e.targetTouches[0];return{x:t,y:r}}};function n2(e){if(!e)return!1;let t=!1;const r={get passive(){return t=!0,!1}};return e.addEventListener("x",ui,r),e.removeEventListener("x",ui),t}function r2(e,{threshold:t=0,onSwipeStart:r,onSwipe:i,onSwipeEnd:l,passive:u=!0}){const s=On({x:0,y:0}),f=On({x:0,y:0}),c=ve(()=>s.x-f.x),d=ve(()=>s.y-f.y),{max:v,abs:m}=Math,y=ve(()=>v(m(c.value),m(d.value))>=t),E=ce(!1),R=ve(()=>y.value?m(c.value)>m(d.value)?c.value>0?"left":"right":d.value>0?"up":"down":"none"),U=(F,J)=>{s.x=F,s.y=J},O=(F,J)=>{f.x=F,f.y=J};let T,B;function M(F){T.capture&&!T.passive&&F.preventDefault();const{x:J,y:K}=Qd(F);U(J,K),O(J,K),r==null||r(F),B=[An(e,"mousemove",H,T),An(e,"touchmove",H,T),An(e,"mouseup",j,T),An(e,"touchend",j,T),An(e,"touchcancel",j,T)]}function H(F){const{x:J,y:K}=Qd(F);O(J,K),!E.value&&y.value&&(E.value=!0),E.value&&(i==null||i(F))}function j(F){E.value&&(l==null||l(F,R.value)),E.value=!1,B.forEach(J=>J())}let re=[];return At(()=>{const F=n2(window==null?void 0:window.document);u?T=F?{passive:!0}:{capture:!1}:T=F?{passive:!1,capture:!0}:{capture:!0},re=[An(e,"mousedown",M,T),An(e,"touchstart",M,T)]}),{isSwiping:E,direction:R,coordsStart:s,coordsEnd:f,lengthX:c,lengthY:d,stop:()=>{re.forEach(F=>F()),B.forEach(F=>F())}}}function o2(e,t){const{vfmContentEl:r,modelValueLocal:i}=t,l=.1,u=300,s=ce(),f=ve(()=>{if(!(e.swipeToClose===void 0||e.swipeToClose==="none"))return e.showSwipeBanner?s.value:r.value}),c=ce(0),d=ce(!0);let v=ui,m=!0,y,E=!1;const{lengthX:R,lengthY:U,direction:O,isSwiping:T}=r2(f,{threshold:e.threshold,onSwipeStart(j){v=An(document,"selectionchange",()=>{var re;d.value=(re=window.getSelection())==null?void 0:re.isCollapsed}),y=new Date().getTime(),E=H(j==null?void 0:j.target)},onSwipe(){var j,re,F,J;if(E&&d.value&&O.value===e.swipeToClose){if(O.value==="up"){const K=As(Math.abs(U.value||0),0,((j=f.value)==null?void 0:j.offsetHeight)||0)-(e.threshold||0);c.value=K}else if(O.value==="down"){const K=As(Math.abs(U.value||0),0,((re=f.value)==null?void 0:re.offsetHeight)||0)-(e.threshold||0);c.value=-K}else if(O.value==="right"){const K=As(Math.abs(R.value||0),0,((F=f.value)==null?void 0:F.offsetWidth)||0)-(e.threshold||0);c.value=-K}else if(O.value==="left"){const K=As(Math.abs(R.value||0),0,((J=f.value)==null?void 0:J.offsetWidth)||0)-(e.threshold||0);c.value=K}}},onSwipeEnd(j,re){if(v(),!d.value){d.value=!0;return}const F=new Date().getTime(),J=re===e.swipeToClose,K=(()=>{var le,N;if(re==="up"||re==="down")return Math.abs((U==null?void 0:U.value)||0)>l*(((le=f.value)==null?void 0:le.offsetHeight)||0);if(re==="left"||re==="right")return Math.abs((R==null?void 0:R.value)||0)>l*(((N=f.value)==null?void 0:N.offsetWidth)||0)})(),se=F-y<=u;if(m&&E&&J&&(K||se)){i.value=!1;return}c.value=0}}),B=ve(()=>{if(e.swipeToClose==="none")return;const j=(()=>{switch(e.swipeToClose){case"up":case"down":return"translateY";case"left":case"right":return"translateX"}})();return{class:{"vfm-bounce-back":!T.value},style:{transform:"".concat(j,"(").concat(-c.value,"px)")}}});Xe(()=>d.value,j=>{j||(c.value=0)}),Xe(()=>i.value,j=>{j&&(c.value=0)}),Xe(()=>c.value,(j,re)=>{switch(e.swipeToClose){case"down":case"right":m=j<re;break;case"up":case"left":m=j>re;break}});function M(j){e.preventNavigationGestures&&j.preventDefault()}function H(j){const re=j==null?void 0:j.tagName;if(!re||["INPUT","TEXTAREA"].includes(re))return!1;const F=(()=>{switch(e.swipeToClose){case"up":return(j==null?void 0:j.scrollTop)+(j==null?void 0:j.clientHeight)===(j==null?void 0:j.scrollHeight);case"left":return(j==null?void 0:j.scrollLeft)+(j==null?void 0:j.clientWidth)===(j==null?void 0:j.scrollWidth);case"down":return(j==null?void 0:j.scrollTop)===0;case"right":return(j==null?void 0:j.scrollLeft)===0;default:return!1}})();return j===f.value?F:F&&H(j==null?void 0:j.parentElement)}return{vfmContentEl:r,swipeBannerEl:s,bindSwipe:B,onTouchStartSwipeBanner:M}}const dv=Symbol("vfm");let Lr;const i2=e=>Lr=e,s2={install:ui,modals:[],openedModals:[],openedModalOverlays:[],dynamicModals:[],modalsContainers:ce([]),get:()=>{},toggle:()=>{},open:()=>{},close:()=>{},closeAll:()=>Promise.allSettled([])},a2=()=>Xs()&&st(dv,s2)||Lr;function l2(){const e=Go([]),t=Go([]),r=Go([]),i=Go([]),l=ce([]),u=mr({install(s){s.provide(dv,u),s.config.globalProperties.$vfm=u},modals:e,openedModals:t,openedModalOverlays:r,dynamicModals:i,modalsContainers:l,get(s){return e.find(f=>{var c,d;return((d=(c=ni(f))==null?void 0:c.value.modalId)==null?void 0:d.value)===s})},toggle(s,f){var c;const d=u.get(s);return(c=ni(d))==null?void 0:c.value.toggle(f)},open(s){return u.toggle(s,!0)},close(s){return u.toggle(s,!1)},closeAll(){return Promise.allSettled(t.reduce((s,f)=>{const c=ni(f),d=c==null?void 0:c.value.toggle(!1);return d&&s.push(d),s},[]))}});return i2(u),u}function ni(e){var t;return(t=e==null?void 0:e.exposed)==null?void 0:t.modalExposed}const u2=ke({inheritAttrs:!1}),hv=ke({...u2,__name:"VueFinalModal",props:ME,emits:["update:modelValue","beforeOpen","opened","beforeClose","closed","clickOutside"],setup(e,{expose:t,emit:r}){const i=e,l=r,u=t$(),s=Xs(),{modals:f,openedModals:c,openedModalOverlays:d}=ri(),v=ce(),m=ce(),{focus:y,blur:E}=jE(i,{focusEl:v}),{zIndex:R,refreshZIndex:U,resetZIndex:O}=t2(i),{modelValueLocal:T}=HE(i,l,{open:X,close:ge}),{enableBodyScroll:B,disableBodyScroll:M}=e2(i,{lockScrollEl:v,modelValueLocal:T});let H=ui;const{visible:j,contentVisible:re,contentListeners:F,contentTransition:J,overlayVisible:K,overlayListeners:se,overlayTransition:le,enterTransition:N,leaveTransition:W}=FE(i,{modelValueLocal:T,onEntering(){Dt(()=>{M(),y()})},onEnter(){l("opened"),H("opened")},onLeave(){Yo(c,s),O(),B(),l("closed"),H("closed")}}),{onEsc:ue,onMouseupRoot:ae,onMousedown:P}=zE(i,l,{vfmRootEl:v,vfmContentEl:m,visible:j,modelValueLocal:T}),{swipeBannerEl:A,bindSwipe:k,onTouchStartSwipeBanner:q}=o2(i,{vfmContentEl:m,modelValueLocal:T}),Y=ve(()=>s?c.indexOf(s):-1);Xe([()=>i.zIndexFn,Y],()=>{j.value&&U(Y.value)}),At(()=>{xl(f,s)}),i.modelValue&&(T.value=!0);function X(){let Z=!1;return l("beforeOpen",{stop:()=>Z=!0}),Z?!1:(xl(c,s),xl(d,s),Ae(),N(),!0)}function ge(){let Z=!1;return l("beforeClose",{stop:()=>Z=!0}),Z?!1:(Yo(d,s),Ae(),E(),W(),!0)}function Ee(){T.value=!1}jr(()=>{B(),Yo(f,s),Yo(c,s),E(),Ae()});async function Ae(){await Dt();const Z=d.filter(fe=>{var ye;const De=ni(fe);return(De==null?void 0:De.value.overlayBehavior.value)==="auto"&&!((ye=De==null?void 0:De.value.hideOverlay)!=null&&ye.value)});Z.forEach((fe,ye)=>{const De=ni(fe);De!=null&&De.value&&(De.value.overlayVisible.value=ye===Z.length-1)})}const Ve=ks(()=>i.modalId),Fe=ks(()=>i.hideOverlay),V=ks(()=>i.overlayBehavior),he=ve(()=>({modalId:Ve,hideOverlay:Fe,overlayBehavior:V,overlayVisible:K,toggle(Z){return new Promise(fe=>{H=NE(De=>fe(De));const ye=typeof Z=="boolean"?Z:!T.value;T.value=ye})}}));return t({modalExposed:he}),(Z,fe)=>($(),$e(n$,{to:Z.teleportTo?Z.teleportTo:void 0,disabled:!Z.teleportTo},[Z.displayDirective!=="if"||w(j)?Te(($(),I("div",Pn({key:0},w(u),{ref_key:"vfmRootEl",ref:v,class:["vfm vfm--fixed vfm--inset",{"vfm--prevent-none":Z.background==="interactive"}],style:{zIndex:w(R)},role:"dialog","aria-modal":"true",onKeydown:fe[7]||(fe[7]=Tt(()=>w(ue)(),["esc"])),onMouseup:fe[8]||(fe[8]=Wt(()=>w(ae)(),["self"])),onMousedown:fe[9]||(fe[9]=Wt(ye=>w(P)(ye),["self"]))}),[Fe.value?oe("",!0):($(),$e(kd,Pn({key:0},w(le),Kl(w(se))),{default:it(()=>[Z.displayDirective!=="if"||w(K)?Te(($(),I("div",{key:0,class:nt(["vfm__overlay vfm--overlay vfm--absolute vfm--inset vfm--prevent-none",Z.overlayClass]),style:qt(Z.overlayStyle),"aria-hidden":"true"},null,6)),[[xr,Z.displayDirective!=="show"||w(K)],[w(Dl),Z.displayDirective!=="visible"||w(K)]]):oe("",!0)]),_:1},16)),Ie(kd,Pn(w(J),Kl(w(F))),{default:it(()=>[Z.displayDirective!=="if"||w(re)?Te(($(),I("div",Pn({key:0,ref_key:"vfmContentEl",ref:m,class:["vfm__content vfm--outline-none",[Z.contentClass,{"vfm--prevent-auto":Z.background==="interactive"}]],style:Z.contentStyle,tabindex:"0"},w(k),{onMousedown:fe[6]||(fe[6]=()=>w(P)())}),[mo(Z.$slots,"default",Up(r$({close:Ee}))),Z.showSwipeBanner?($(),I("div",{key:0,ref_key:"swipeBannerEl",ref:A,class:"vfm-swipe-banner-container",onTouchstart:fe[2]||(fe[2]=ye=>w(q)(ye))},[mo(Z.$slots,"swipe-banner",{},()=>[p("div",{class:"vfm-swipe-banner-back",onTouchstart:fe[0]||(fe[0]=ye=>Z.swipeToClose==="left"&&ye.preventDefault())},null,32),p("div",{class:"vfm-swipe-banner-forward",onTouchstart:fe[1]||(fe[1]=ye=>Z.swipeToClose==="right"&&ye.preventDefault())},null,32)])],544)):!Z.showSwipeBanner&&Z.preventNavigationGestures?($(),I("div",{key:1,class:"vfm-swipe-banner-container",onTouchstart:fe[5]||(fe[5]=ye=>w(q)(ye))},[p("div",{class:"vfm-swipe-banner-back",onTouchstart:fe[3]||(fe[3]=ye=>Z.swipeToClose==="left"&&ye.preventDefault())},null,32),p("div",{class:"vfm-swipe-banner-forward",onTouchstart:fe[4]||(fe[4]=ye=>Z.swipeToClose==="right"&&ye.preventDefault())},null,32)],32)):oe("",!0)],16)),[[xr,Z.displayDirective!=="show"||w(re)],[w(Dl),Z.displayDirective!=="visible"||w(re)]]):oe("",!0)]),_:3},16)],16)),[[xr,Z.displayDirective!=="show"||w(j)],[w(Dl),Z.displayDirective!=="visible"||w(j)]]):oe("",!0)],8,["to","disabled"]))}});function ri(){const e=a2();if(!e)throw new Error("[Vue Final Modal]: getActiveVfm was called with no active Vfm. Did you forget to install vfm?\n	const vfm = createVfm()\n	app.use(vfm)\nThis will fail in production.");return e}function Yd(e,t=hv){const{component:r,slots:i,...l}=e,u=typeof i>"u"?{}:Object.fromEntries(lv(i).map(([s,f])=>Ru(f)?[s,f]:js(f)?[s,{...f,component:mr(f.component)}]:[s,mr(f)]));return{...l,component:mr(r||t),slots:u}}function c2(e){const t=On({id:Symbol("useModal"),modelValue:!!(e!=null&&e.defaultModelValue),resolveOpened:()=>{},resolveClosed:()=>{},attrs:{},...Yd(e)});iE(()=>{t!=null&&t.keepAlive||f()}),t.modelValue===!0&&(Lr?Lr==null||Lr.dynamicModals.push(t):Dt(()=>{const c=ri();c==null||c.dynamicModals.push(t)}));async function r(){let c;return Lr?c=Lr:(await Dt(),c=ri()),t.modelValue?Promise.resolve("[Vue Final Modal] modal is already opened."):(f(),t.modelValue=!0,c.dynamicModals.push(t),new Promise(d=>{t.resolveOpened=()=>d("opened")}))}function i(){return t.modelValue?(t.modelValue=!1,new Promise(c=>{t.resolveClosed=()=>c("closed")})):Promise.resolve("[Vue Final Modal] modal is already closed.")}function l(c){const{slots:d,...v}=Yd(c,t.component);c.defaultModelValue!==void 0&&(t.defaultModelValue=c.defaultModelValue),(c==null?void 0:c.keepAlive)!==void 0&&(t.keepAlive=c==null?void 0:c.keepAlive),u(t,v),d&&lv(d).forEach(([m,y])=>{const E=t.slots[m];Ru(E)?t.slots[m]=y:js(E)&&js(y)?u(E,y):t.slots[m]=y})}function u(c,d){d.component&&(c.component=d.component),d.attrs&&s(c.attrs,d.attrs)}function s(c,d){return Object.entries(d).forEach(([v,m])=>{c[v]=m}),c}function f(){const c=ri(),d=c.dynamicModals.indexOf(t);d!==-1&&c.dynamicModals.splice(d,1)}return{options:t,open:r,close:i,patchOptions:l,destroy:f}}function js(e){return typeof e=="object"&&e!==null?"component"in e:!1}const f2=["innerHTML"],d2=ke({__name:"ModalsContainer",setup(e){const{modalsContainers:t,dynamicModals:r}=ri(),i=Symbol("ModalsContainer"),l=ve(()=>{var f;return i===((f=t.value)==null?void 0:f[0])});t.value.push(i),jr(()=>{t.value=t.value.filter(f=>f!==i)});function u(f){var c,d,v;(d=(c=r[f])==null?void 0:c.resolveClosed)==null||d.call(c),(v=r[f])!=null&&v.keepAlive||r.splice(f,1)}function s(f){var c,d;(d=(c=r[f])==null?void 0:c.resolveOpened)==null||d.call(c)}return(f,c)=>l.value?($(!0),I(We,{key:0},bt(w(r),(d,v)=>($(),$e(Yn(d.component),Pn({key:d.id},{displayDirective:d!=null&&d.keepAlive?"show":void 0,...typeof d.attrs=="object"?d.attrs:{}},{modelValue:d.modelValue,"onUpdate:modelValue":m=>d.modelValue=m,onClosed:()=>u(v),onOpened:()=>s(v)}),o$({_:2},[bt(d.slots,(m,y)=>({name:y,fn:it(()=>[w(Ru)(m)?($(),I("div",{key:0,innerHTML:m},null,8,f2)):w(js)(m)?($(),$e(Yn(m.component),Up(Pn({key:1},m.attrs)),null,16)):($(),$e(Yn(m),{key:2}))])}))]),1040,["modelValue","onUpdate:modelValue","onClosed","onOpened"]))),128)):oe("",!0)}});var h2=Object.defineProperty,Xd=Object.getOwnPropertySymbols,p2=Object.prototype.hasOwnProperty,v2=Object.prototype.propertyIsEnumerable,Jd=(e,t,r)=>t in e?h2(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,pv=(e,t)=>{for(var r in t||(t={}))p2.call(t,r)&&Jd(e,r,t[r]);if(Xd)for(var r of Xd(t))v2.call(t,r)&&Jd(e,r,t[r]);return e},Js=e=>typeof e=="function",Zs=e=>typeof e=="string",vv=e=>Zs(e)&&e.trim().length>0,m2=e=>typeof e=="number",Ir=e=>typeof e>"u",ci=e=>typeof e=="object"&&e!==null,g2=e=>Rn(e,"tag")&&vv(e.tag),mv=e=>window.TouchEvent&&e instanceof TouchEvent,gv=e=>Rn(e,"component")&&bv(e.component),b2=e=>Js(e)||ci(e),bv=e=>!Ir(e)&&(Zs(e)||b2(e)||gv(e)),Zd=e=>ci(e)&&["height","width","right","left","top","bottom"].every(t=>m2(e[t])),Rn=(e,t)=>(ci(e)||Js(e))&&t in e,y2=(e=>()=>e++)(0);function Ul(e){return mv(e)?e.targetTouches[0].clientX:e.clientX}function eh(e){return mv(e)?e.targetTouches[0].clientY:e.clientY}var _2=e=>{Ir(e.remove)?e.parentNode&&e.parentNode.removeChild(e):e.remove()},Ci=e=>gv(e)?Ci(e.component):g2(e)?ke({render(){return e}}):typeof e=="string"?e:Su(w(e)),w2=e=>{if(typeof e=="string")return e;const t=Rn(e,"props")&&ci(e.props)?e.props:{},r=Rn(e,"listeners")&&ci(e.listeners)?e.listeners:{};return{component:Ci(e),props:t,listeners:r}},S2=()=>typeof window<"u",Lu=class{constructor(){this.allHandlers={}}getHandlers(e){return this.allHandlers[e]||[]}on(e,t){const r=this.getHandlers(e);r.push(t),this.allHandlers[e]=r}off(e,t){const r=this.getHandlers(e);r.splice(r.indexOf(t)>>>0,1)}emit(e,t){this.getHandlers(e).forEach(i=>i(t))}},$2=e=>["on","off","emit"].every(t=>Rn(e,t)&&Js(e[t])),Jt;(function(e){e.SUCCESS="success",e.ERROR="error",e.WARNING="warning",e.INFO="info",e.DEFAULT="default"})(Jt||(Jt={}));var fi;(function(e){e.TOP_LEFT="top-left",e.TOP_CENTER="top-center",e.TOP_RIGHT="top-right",e.BOTTOM_LEFT="bottom-left",e.BOTTOM_CENTER="bottom-center",e.BOTTOM_RIGHT="bottom-right"})(fi||(fi={}));var Zt;(function(e){e.ADD="add",e.DISMISS="dismiss",e.UPDATE="update",e.CLEAR="clear",e.UPDATE_DEFAULTS="update_defaults"})(Zt||(Zt={}));var _n="Vue-Toastification",bn={type:{type:String,default:Jt.DEFAULT},classNames:{type:[String,Array],default:()=>[]},trueBoolean:{type:Boolean,default:!0}},yv={type:bn.type,customIcon:{type:[String,Boolean,Object,Function],default:!0}},Ls={component:{type:[String,Object,Function,Boolean],default:"button"},classNames:bn.classNames,showOnHover:{type:Boolean,default:!1},ariaLabel:{type:String,default:"close"}},Zl={timeout:{type:[Number,Boolean],default:5e3},hideProgressBar:{type:Boolean,default:!1},isRunning:{type:Boolean,default:!1}},_v={transition:{type:[Object,String],default:"".concat(_n,"__bounce")}},E2={position:{type:String,default:fi.TOP_RIGHT},draggable:bn.trueBoolean,draggablePercent:{type:Number,default:.6},pauseOnFocusLoss:bn.trueBoolean,pauseOnHover:bn.trueBoolean,closeOnClick:bn.trueBoolean,timeout:Zl.timeout,hideProgressBar:Zl.hideProgressBar,toastClassName:bn.classNames,bodyClassName:bn.classNames,icon:yv.customIcon,closeButton:Ls.component,closeButtonClassName:Ls.classNames,showCloseButtonOnHover:Ls.showOnHover,accessibility:{type:Object,default:()=>({toastRole:"alert",closeButtonLabel:"close"})},rtl:{type:Boolean,default:!1},eventBus:{type:Object,required:!1,default:()=>new Lu}},C2={id:{type:[String,Number],required:!0,default:0},type:bn.type,content:{type:[String,Object,Function],required:!0,default:""},onClick:{type:Function,default:void 0},onClose:{type:Function,default:void 0}},T2={container:{type:[Object,Function],default:()=>document.body},newestOnTop:bn.trueBoolean,maxToasts:{type:Number,default:20},transition:_v.transition,toastDefaults:Object,filterBeforeCreate:{type:Function,default:e=>e},filterToasts:{type:Function,default:e=>e},containerClassName:bn.classNames,onMounted:Function,shareAppContext:[Boolean,Object]},Xn={CORE_TOAST:E2,TOAST:C2,CONTAINER:T2,PROGRESS_BAR:Zl,ICON:yv,TRANSITION:_v,CLOSE_BUTTON:Ls},wv=ke({name:"VtProgressBar",props:Xn.PROGRESS_BAR,data(){return{hasClass:!0}},computed:{style(){return{animationDuration:"".concat(this.timeout,"ms"),animationPlayState:this.isRunning?"running":"paused",opacity:this.hideProgressBar?0:1}},cpClass(){return this.hasClass?"".concat(_n,"__progress-bar"):""}},watch:{timeout(){this.hasClass=!1,this.$nextTick(()=>this.hasClass=!0)}},mounted(){this.$el.addEventListener("animationend",this.animationEnded)},beforeUnmount(){this.$el.removeEventListener("animationend",this.animationEnded)},methods:{animationEnded(){this.$emit("close-toast")}}});function A2(e,t){return $(),I("div",{style:qt(e.style),class:nt(e.cpClass)},null,6)}wv.render=A2;var P2=wv,Sv=ke({name:"VtCloseButton",props:Xn.CLOSE_BUTTON,computed:{buttonComponent(){return this.component!==!1?Ci(this.component):"button"},classes(){const e=["".concat(_n,"__close-button")];return this.showOnHover&&e.push("show-on-hover"),e.concat(this.classNames)}}}),R2=we("  ");function k2(e,t){return $(),$e(Yn(e.buttonComponent),Pn({"aria-label":e.ariaLabel,class:e.classes},e.$attrs),{default:it(()=>[R2]),_:1},16,["aria-label","class"])}Sv.render=k2;var O2=Sv,$v={},L2={"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"check-circle",class:"svg-inline--fa fa-check-circle fa-w-16",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},I2=p("path",{fill:"currentColor",d:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"},null,-1),x2=[I2];function D2(e,t){return $(),I("svg",L2,x2)}$v.render=D2;var U2=$v,Ev={},B2={"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"info-circle",class:"svg-inline--fa fa-info-circle fa-w-16",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},N2=p("path",{fill:"currentColor",d:"M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 110c23.196 0 42 18.804 42 42s-18.804 42-42 42-42-18.804-42-42 18.804-42 42-42zm56 254c0 6.627-5.373 12-12 12h-88c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h12v-64h-12c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h64c6.627 0 12 5.373 12 12v100h12c6.627 0 12 5.373 12 12v24z"},null,-1),M2=[N2];function F2(e,t){return $(),I("svg",B2,M2)}Ev.render=F2;var th=Ev,Cv={},z2={"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"exclamation-circle",class:"svg-inline--fa fa-exclamation-circle fa-w-16",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},H2=p("path",{fill:"currentColor",d:"M504 256c0 136.997-111.043 248-248 248S8 392.997 8 256C8 119.083 119.043 8 256 8s248 111.083 248 248zm-248 50c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"},null,-1),j2=[H2];function q2(e,t){return $(),I("svg",z2,j2)}Cv.render=q2;var W2=Cv,Tv={},V2={"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"exclamation-triangle",class:"svg-inline--fa fa-exclamation-triangle fa-w-18",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 576 512"},G2=p("path",{fill:"currentColor",d:"M569.517 440.013C587.975 472.007 564.806 512 527.94 512H48.054c-36.937 0-59.999-40.055-41.577-71.987L246.423 23.985c18.467-32.009 64.72-31.951 83.154 0l239.94 416.028zM288 354c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"},null,-1),K2=[G2];function Q2(e,t){return $(),I("svg",V2,K2)}Tv.render=Q2;var Y2=Tv,Av=ke({name:"VtIcon",props:Xn.ICON,computed:{customIconChildren(){return Rn(this.customIcon,"iconChildren")?this.trimValue(this.customIcon.iconChildren):""},customIconClass(){return Zs(this.customIcon)?this.trimValue(this.customIcon):Rn(this.customIcon,"iconClass")?this.trimValue(this.customIcon.iconClass):""},customIconTag(){return Rn(this.customIcon,"iconTag")?this.trimValue(this.customIcon.iconTag,"i"):"i"},hasCustomIcon(){return this.customIconClass.length>0},component(){return this.hasCustomIcon?this.customIconTag:bv(this.customIcon)?Ci(this.customIcon):this.iconTypeComponent},iconTypeComponent(){return{[Jt.DEFAULT]:th,[Jt.INFO]:th,[Jt.SUCCESS]:U2,[Jt.ERROR]:Y2,[Jt.WARNING]:W2}[this.type]},iconClasses(){const e=["".concat(_n,"__icon")];return this.hasCustomIcon?e.concat(this.customIconClass):e}},methods:{trimValue(e,t=""){return vv(e)?e.trim():t}}});function X2(e,t){return $(),$e(Yn(e.component),{class:nt(e.iconClasses)},{default:it(()=>[we(S(e.customIconChildren),1)]),_:1},8,["class"])}Av.render=X2;var J2=Av,Pv=ke({name:"VtToast",components:{ProgressBar:P2,CloseButton:O2,Icon:J2},inheritAttrs:!1,props:Object.assign({},Xn.CORE_TOAST,Xn.TOAST),data(){return{isRunning:!0,disableTransitions:!1,beingDragged:!1,dragStart:0,dragPos:{x:0,y:0},dragRect:{}}},computed:{classes(){const e=["".concat(_n,"__toast"),"".concat(_n,"__toast--").concat(this.type),"".concat(this.position)].concat(this.toastClassName);return this.disableTransitions&&e.push("disable-transition"),this.rtl&&e.push("".concat(_n,"__toast--rtl")),e},bodyClasses(){return["".concat(_n,"__toast-").concat(Zs(this.content)?"body":"component-body")].concat(this.bodyClassName)},draggableStyle(){return this.dragStart===this.dragPos.x?{}:this.beingDragged?{transform:"translateX(".concat(this.dragDelta,"px)"),opacity:1-Math.abs(this.dragDelta/this.removalDistance)}:{transition:"transform 0.2s, opacity 0.2s",transform:"translateX(0)",opacity:1}},dragDelta(){return this.beingDragged?this.dragPos.x-this.dragStart:0},removalDistance(){return Zd(this.dragRect)?(this.dragRect.right-this.dragRect.left)*this.draggablePercent:0}},mounted(){this.draggable&&this.draggableSetup(),this.pauseOnFocusLoss&&this.focusSetup()},beforeUnmount(){this.draggable&&this.draggableCleanup(),this.pauseOnFocusLoss&&this.focusCleanup()},methods:{hasProp:Rn,getVueComponentFromObj:Ci,closeToast(){this.eventBus.emit(Zt.DISMISS,this.id)},clickHandler(){this.onClick&&this.onClick(this.closeToast),this.closeOnClick&&(!this.beingDragged||this.dragStart===this.dragPos.x)&&this.closeToast()},timeoutHandler(){this.closeToast()},hoverPause(){this.pauseOnHover&&(this.isRunning=!1)},hoverPlay(){this.pauseOnHover&&(this.isRunning=!0)},focusPause(){this.isRunning=!1},focusPlay(){this.isRunning=!0},focusSetup(){addEventListener("blur",this.focusPause),addEventListener("focus",this.focusPlay)},focusCleanup(){removeEventListener("blur",this.focusPause),removeEventListener("focus",this.focusPlay)},draggableSetup(){const e=this.$el;e.addEventListener("touchstart",this.onDragStart,{passive:!0}),e.addEventListener("mousedown",this.onDragStart),addEventListener("touchmove",this.onDragMove,{passive:!1}),addEventListener("mousemove",this.onDragMove),addEventListener("touchend",this.onDragEnd),addEventListener("mouseup",this.onDragEnd)},draggableCleanup(){const e=this.$el;e.removeEventListener("touchstart",this.onDragStart),e.removeEventListener("mousedown",this.onDragStart),removeEventListener("touchmove",this.onDragMove),removeEventListener("mousemove",this.onDragMove),removeEventListener("touchend",this.onDragEnd),removeEventListener("mouseup",this.onDragEnd)},onDragStart(e){this.beingDragged=!0,this.dragPos={x:Ul(e),y:eh(e)},this.dragStart=Ul(e),this.dragRect=this.$el.getBoundingClientRect()},onDragMove(e){this.beingDragged&&(e.preventDefault(),this.isRunning&&(this.isRunning=!1),this.dragPos={x:Ul(e),y:eh(e)})},onDragEnd(){this.beingDragged&&(Math.abs(this.dragDelta)>=this.removalDistance?(this.disableTransitions=!0,this.$nextTick(()=>this.closeToast())):setTimeout(()=>{this.beingDragged=!1,Zd(this.dragRect)&&this.pauseOnHover&&this.dragRect.bottom>=this.dragPos.y&&this.dragPos.y>=this.dragRect.top&&this.dragRect.left<=this.dragPos.x&&this.dragPos.x<=this.dragRect.right?this.isRunning=!1:this.isRunning=!0}))}}}),Z2=["role"];function eC(e,t){const r=$t("Icon"),i=$t("CloseButton"),l=$t("ProgressBar");return $(),I("div",{class:nt(e.classes),style:qt(e.draggableStyle),onClick:t[0]||(t[0]=(...u)=>e.clickHandler&&e.clickHandler(...u)),onMouseenter:t[1]||(t[1]=(...u)=>e.hoverPause&&e.hoverPause(...u)),onMouseleave:t[2]||(t[2]=(...u)=>e.hoverPlay&&e.hoverPlay(...u))},[e.icon?($(),$e(r,{key:0,"custom-icon":e.icon,type:e.type},null,8,["custom-icon","type"])):oe("v-if",!0),p("div",{role:e.accessibility.toastRole||"alert",class:nt(e.bodyClasses)},[typeof e.content=="string"?($(),I(We,{key:0},[we(S(e.content),1)],2112)):($(),$e(Yn(e.getVueComponentFromObj(e.content)),Pn({key:1,"toast-id":e.id},e.hasProp(e.content,"props")?e.content.props:{},Kl(e.hasProp(e.content,"listeners")?e.content.listeners:{}),{onCloseToast:e.closeToast}),null,16,["toast-id","onCloseToast"]))],10,Z2),e.closeButton?($(),$e(i,{key:1,component:e.closeButton,"class-names":e.closeButtonClassName,"show-on-hover":e.showCloseButtonOnHover,"aria-label":e.accessibility.closeButtonLabel,onClick:Wt(e.closeToast,["stop"])},null,8,["component","class-names","show-on-hover","aria-label","onClick"])):oe("v-if",!0),e.timeout?($(),$e(l,{key:2,"is-running":e.isRunning,"hide-progress-bar":e.hideProgressBar,timeout:e.timeout,onCloseToast:e.timeoutHandler},null,8,["is-running","hide-progress-bar","timeout","onCloseToast"])):oe("v-if",!0)],38)}Pv.render=eC;var tC=Pv,Rv=ke({name:"VtTransition",props:Xn.TRANSITION,emits:["leave"],methods:{hasProp:Rn,leave(e){e instanceof HTMLElement&&(e.style.left=e.offsetLeft+"px",e.style.top=e.offsetTop+"px",e.style.width=getComputedStyle(e).width,e.style.position="absolute")}}});function nC(e,t){return $(),$e(i$,{tag:"div","enter-active-class":e.transition.enter?e.transition.enter:"".concat(e.transition,"-enter-active"),"move-class":e.transition.move?e.transition.move:"".concat(e.transition,"-move"),"leave-active-class":e.transition.leave?e.transition.leave:"".concat(e.transition,"-leave-active"),onLeave:e.leave},{default:it(()=>[mo(e.$slots,"default")]),_:3},8,["enter-active-class","move-class","leave-active-class","onLeave"])}Rv.render=nC;var rC=Rv,kv=ke({name:"VueToastification",devtools:{hide:!0},components:{Toast:tC,VtTransition:rC},props:Object.assign({},Xn.CORE_TOAST,Xn.CONTAINER,Xn.TRANSITION),data(){return{count:0,positions:Object.values(fi),toasts:{},defaults:{}}},computed:{toastArray(){return Object.values(this.toasts)},filteredToasts(){return this.defaults.filterToasts(this.toastArray)}},beforeMount(){const e=this.eventBus;e.on(Zt.ADD,this.addToast),e.on(Zt.CLEAR,this.clearToasts),e.on(Zt.DISMISS,this.dismissToast),e.on(Zt.UPDATE,this.updateToast),e.on(Zt.UPDATE_DEFAULTS,this.updateDefaults),this.defaults=this.$props},mounted(){this.setup(this.container)},methods:{async setup(e){Js(e)&&(e=await e()),_2(this.$el),e.appendChild(this.$el)},setToast(e){Ir(e.id)||(this.toasts[e.id]=e)},addToast(e){e.content=w2(e.content);const t=Object.assign({},this.defaults,e.type&&this.defaults.toastDefaults&&this.defaults.toastDefaults[e.type],e),r=this.defaults.filterBeforeCreate(t,this.toastArray);r&&this.setToast(r)},dismissToast(e){const t=this.toasts[e];!Ir(t)&&!Ir(t.onClose)&&t.onClose(),delete this.toasts[e]},clearToasts(){Object.keys(this.toasts).forEach(e=>{this.dismissToast(e)})},getPositionToasts(e){const t=this.filteredToasts.filter(r=>r.position===e).slice(0,this.defaults.maxToasts);return this.defaults.newestOnTop?t.reverse():t},updateDefaults(e){Ir(e.container)||this.setup(e.container),this.defaults=Object.assign({},this.defaults,e)},updateToast({id:e,options:t,create:r}){this.toasts[e]?(t.timeout&&t.timeout===this.toasts[e].timeout&&t.timeout++,this.setToast(Object.assign({},this.toasts[e],t))):r&&this.addToast(Object.assign({},{id:e},t))},getClasses(e){return["".concat(_n,"__container"),e].concat(this.defaults.containerClassName)}}});function oC(e,t){const r=$t("Toast"),i=$t("VtTransition");return $(),I("div",null,[($(!0),I(We,null,bt(e.positions,l=>($(),I("div",{key:l},[Ie(i,{transition:e.defaults.transition,class:nt(e.getClasses(l))},{default:it(()=>[($(!0),I(We,null,bt(e.getPositionToasts(l),u=>($(),$e(r,Pn({key:u.id},u),null,16))),128))]),_:2},1032,["transition","class"])]))),128))])}kv.render=oC;var iC=kv,nh=(e={},t=!0)=>{const r=e.eventBus=e.eventBus||new Lu;t&&Dt(()=>{const u=Bp(iC,pv({},e)),s=u.mount(document.createElement("div")),f=e.onMounted;if(Ir(f)||f(s,u),e.shareAppContext){const c=e.shareAppContext;c===!0?console.warn("[".concat(_n,"] App to share context with was not provided.")):(u._context.components=c._context.components,u._context.directives=c._context.directives,u._context.mixins=c._context.mixins,u._context.provides=c._context.provides,u.config.globalProperties=c.config.globalProperties)}});const i=(u,s)=>{const f=Object.assign({},{id:y2(),type:Jt.DEFAULT},s,{content:u});return r.emit(Zt.ADD,f),f.id};i.clear=()=>r.emit(Zt.CLEAR,void 0),i.updateDefaults=u=>{r.emit(Zt.UPDATE_DEFAULTS,u)},i.dismiss=u=>{r.emit(Zt.DISMISS,u)};function l(u,{content:s,options:f},c=!1){const d=Object.assign({},f,{content:s});r.emit(Zt.UPDATE,{id:u,options:d,create:c})}return i.update=l,i.success=(u,s)=>i(u,Object.assign({},s,{type:Jt.SUCCESS})),i.info=(u,s)=>i(u,Object.assign({},s,{type:Jt.INFO})),i.error=(u,s)=>i(u,Object.assign({},s,{type:Jt.ERROR})),i.warning=(u,s)=>i(u,Object.assign({},s,{type:Jt.WARNING})),i},sC=()=>{const e=()=>console.warn("[".concat(_n,"] This plugin does not support SSR!"));return new Proxy(e,{get(){return e}})};function Ov(e){return S2()?$2(e)?nh({eventBus:e},!1):nh(e,!0):sC()}var Lv=Symbol("VueToastification"),Iv=new Lu,aC=(e,t)=>{(t==null?void 0:t.shareAppContext)===!0&&(t.shareAppContext=e);const r=Ov(pv({eventBus:Iv},t));e.provide(Lv,r)},xv=e=>{const t=Xs()?st(Lv,void 0):void 0;return t||Ov(Iv)},lC=aC,uC=!1;/*!
 * pinia v2.1.7
 * (c) 2023 Eduardo San Martin Morote
 * @license MIT
 */let Dv;const ea=e=>Dv=e,Uv=Symbol();function eu(e){return e&&typeof e=="object"&&Object.prototype.toString.call(e)==="[object Object]"&&typeof e.toJSON!="function"}var oi;(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})(oi||(oi={}));function cC(){const e=Np(!0),t=e.run(()=>ce({}));let r=[],i=[];const l=mr({install(u){ea(l),l._a=u,u.provide(Uv,l),u.config.globalProperties.$pinia=l,i.forEach(s=>r.push(s)),i=[]},use(u){return!this._a&&!uC?i.push(u):r.push(u),this},_p:r,_a:null,_e:e,_s:new Map,state:t});return l}const Bv=()=>{};function rh(e,t,r,i=Bv){e.push(t);const l=()=>{const u=e.indexOf(t);u>-1&&(e.splice(u,1),i())};return!r&&Ip()&&xp(l),l}function lo(e,...t){e.slice().forEach(r=>{r(...t)})}const fC=e=>e();function tu(e,t){e instanceof Map&&t instanceof Map&&t.forEach((r,i)=>e.set(i,r)),e instanceof Set&&t instanceof Set&&t.forEach(e.add,e);for(const r in t){if(!t.hasOwnProperty(r))continue;const i=t[r],l=e[r];eu(l)&&eu(i)&&e.hasOwnProperty(r)&&!li(i)&&!$u(i)?e[r]=tu(l,i):e[r]=i}return e}const dC=Symbol();function hC(e){return!eu(e)||!e.hasOwnProperty(dC)}const{assign:hr}=Object;function pC(e){return!!(li(e)&&e.effect)}function vC(e,t,r,i){const{state:l,actions:u,getters:s}=t,f=r.state.value[e];let c;function d(){f||(r.state.value[e]=l?l():{});const v=a$(r.state.value[e]);return hr(v,u,Object.keys(s||{}).reduce((m,y)=>(m[y]=mr(ve(()=>{ea(r);const E=r._s.get(e);return s[y].call(E,E)})),m),{}))}return c=Nv(e,d,t,r,i,!0),c}function Nv(e,t,r={},i,l,u){let s;const f=hr({actions:{}},r),c={deep:!0};let d,v,m=[],y=[],E;const R=i.state.value[e];!u&&!R&&(i.state.value[e]={}),ce({});let U;function O(J){let K;d=v=!1,typeof J=="function"?(J(i.state.value[e]),K={type:oi.patchFunction,storeId:e,events:E}):(tu(i.state.value[e],J),K={type:oi.patchObject,payload:J,storeId:e,events:E});const se=U=Symbol();Dt().then(()=>{U===se&&(d=!0)}),v=!0,lo(m,K,i.state.value[e])}const T=u?function(){const{state:K}=r,se=K?K():{};this.$patch(le=>{hr(le,se)})}:Bv;function B(){s.stop(),m=[],y=[],i._s.delete(e)}function M(J,K){return function(){ea(i);const se=Array.from(arguments),le=[],N=[];function W(P){le.push(P)}function ue(P){N.push(P)}lo(y,{args:se,name:J,store:j,after:W,onError:ue});let ae;try{ae=K.apply(this&&this.$id===e?this:j,se)}catch(P){throw lo(N,P),P}return ae instanceof Promise?ae.then(P=>(lo(le,P),P)).catch(P=>(lo(N,P),Promise.reject(P))):(lo(le,ae),ae)}}const H={_p:i,$id:e,$onAction:rh.bind(null,y),$patch:O,$reset:T,$subscribe(J,K={}){const se=rh(m,J,K.detached,()=>le()),le=s.run(()=>Xe(()=>i.state.value[e],N=>{(K.flush==="sync"?v:d)&&J({storeId:e,type:oi.direct,events:E},N)},hr({},c,K)));return se},$dispose:B},j=On(H);i._s.set(e,j);const F=(i._a&&i._a.runWithContext||fC)(()=>i._e.run(()=>(s=Np()).run(t)));for(const J in F){const K=F[J];if(li(K)&&!pC(K)||$u(K))u||(R&&hC(K)&&(li(K)?K.value=R[J]:tu(K,R[J])),i.state.value[e][J]=K);else if(typeof K=="function"){const se=M(J,K);F[J]=se,f.actions[J]=K}}return hr(j,F),hr(Su(j),F),Object.defineProperty(j,"$state",{get:()=>i.state.value[e],set:J=>{O(K=>{hr(K,J)})}}),i._p.forEach(J=>{hr(j,s.run(()=>J({store:j,app:i._a,pinia:i,options:f})))}),R&&u&&r.hydrate&&r.hydrate(j.$state,R),d=!0,v=!0,j}function Ti(e,t,r){let i,l;const u=typeof t=="function";typeof e=="string"?(i=e,l=u?r:t):(l=e,i=e.id);function s(f,c){const d=s$();return f=f||(d?st(Uv,null):null),f&&ea(f),f=Dv,f._s.has(i)||(u?Nv(i,t,l,f):vC(i,l,f)),f._s.get(i)}return s.$id=i,s}function Et(e,t){return Array.isArray(t)?t.reduce((r,i)=>(r[i]=function(){return e(this.$pinia)[i]},r),{}):Object.keys(t).reduce((r,i)=>(r[i]=function(){const l=e(this.$pinia),u=t[i];return typeof u=="function"?u.call(this,l):l[u]},r),{})}function Mt(e,t){return Array.isArray(t)?t.reduce((r,i)=>(r[i]=function(...l){return e(this.$pinia)[i](...l)},r),{}):Object.keys(t).reduce((r,i)=>(r[i]=function(...l){return e(this.$pinia)[t[i]](...l)},r),{})}function ta(e,t){return Array.isArray(t)?t.reduce((r,i)=>(r[i]={get(){return e(this.$pinia)[i]},set(l){return e(this.$pinia)[i]=l}},r),{}):Object.keys(t).reduce((r,i)=>(r[i]={get(){return e(this.$pinia)[t[i]]},set(l){return e(this.$pinia)[t[i]]=l}},r),{})}function di(e){{e=Su(e);const t={};for(const r in e){const i=e[r];(li(i)||$u(i))&&(t[r]=ks(e,r))}return t}}function mC(e){const t=cC();return t.use(({store:r})=>{r.router=mr(e)}),t}/*!
  * vue-router v4.3.0
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */const co=typeof document<"u";function gC(e){return e.__esModule||e[Symbol.toStringTag]==="Module"}const Ye=Object.assign;function Bl(e,t){const r={};for(const i in t){const l=t[i];r[i]=wn(l)?l.map(e):e(l)}return r}const ii=()=>{},wn=Array.isArray,Mv=/#/g,bC=/&/g,yC=/\//g,_C=/=/g,wC=/\?/g,Fv=/\+/g,SC=/%5B/g,$C=/%5D/g,zv=/%5E/g,EC=/%60/g,Hv=/%7B/g,CC=/%7C/g,jv=/%7D/g,TC=/%20/g;function Iu(e){return encodeURI(""+e).replace(CC,"|").replace(SC,"[").replace($C,"]")}function AC(e){return Iu(e).replace(Hv,"{").replace(jv,"}").replace(zv,"^")}function nu(e){return Iu(e).replace(Fv,"%2B").replace(TC,"+").replace(Mv,"%23").replace(bC,"%26").replace(EC,"`").replace(Hv,"{").replace(jv,"}").replace(zv,"^")}function PC(e){return nu(e).replace(_C,"%3D")}function RC(e){return Iu(e).replace(Mv,"%23").replace(wC,"%3F")}function kC(e){return e==null?"":RC(e).replace(yC,"%2F")}function hi(e){try{return decodeURIComponent(""+e)}catch(t){}return""+e}const OC=/\/$/,LC=e=>e.replace(OC,"");function Nl(e,t,r="/"){let i,l={},u="",s="";const f=t.indexOf("#");let c=t.indexOf("?");return f<c&&f>=0&&(c=-1),c>-1&&(i=t.slice(0,c),u=t.slice(c+1,f>-1?f:t.length),l=e(u)),f>-1&&(i=i||t.slice(0,f),s=t.slice(f,t.length)),i=UC(i!=null?i:t,r),{fullPath:i+(u&&"?")+u+s,path:i,query:l,hash:hi(s)}}function IC(e,t){const r=t.query?e(t.query):"";return t.path+(r&&"?")+r+(t.hash||"")}function oh(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function xC(e,t,r){const i=t.matched.length-1,l=r.matched.length-1;return i>-1&&i===l&&bo(t.matched[i],r.matched[l])&&qv(t.params,r.params)&&e(t.query)===e(r.query)&&t.hash===r.hash}function bo(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function qv(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(!DC(e[r],t[r]))return!1;return!0}function DC(e,t){return wn(e)?ih(e,t):wn(t)?ih(t,e):e===t}function ih(e,t){return wn(t)?e.length===t.length&&e.every((r,i)=>r===t[i]):e.length===1&&e[0]===t}function UC(e,t){if(e.startsWith("/"))return e;if(!e)return t;const r=t.split("/"),i=e.split("/"),l=i[i.length-1];(l===".."||l===".")&&i.push("");let u=r.length-1,s,f;for(s=0;s<i.length;s++)if(f=i[s],f!==".")if(f==="..")u>1&&u--;else break;return r.slice(0,u).join("/")+"/"+i.slice(s).join("/")}var pi;(function(e){e.pop="pop",e.push="push"})(pi||(pi={}));var si;(function(e){e.back="back",e.forward="forward",e.unknown=""})(si||(si={}));function BC(e){if(!e)if(co){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),LC(e)}const NC=/^[^#]+#/;function MC(e,t){return e.replace(NC,"#")+t}function FC(e,t){const r=document.documentElement.getBoundingClientRect(),i=e.getBoundingClientRect();return{behavior:t.behavior,left:i.left-r.left-(t.left||0),top:i.top-r.top-(t.top||0)}}const na=()=>({left:window.scrollX,top:window.scrollY});function zC(e){let t;if("el"in e){const r=e.el,i=typeof r=="string"&&r.startsWith("#"),l=typeof r=="string"?i?document.getElementById(r.slice(1)):document.querySelector(r):r;if(!l)return;t=FC(l,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.scrollX,t.top!=null?t.top:window.scrollY)}function sh(e,t){return(history.state?history.state.position-t:-1)+e}const ru=new Map;function HC(e,t){ru.set(e,t)}function jC(e){const t=ru.get(e);return ru.delete(e),t}let qC=()=>location.protocol+"//"+location.host;function Wv(e,t){const{pathname:r,search:i,hash:l}=t,u=e.indexOf("#");if(u>-1){let f=l.includes(e.slice(u))?e.slice(u).length:1,c=l.slice(f);return c[0]!=="/"&&(c="/"+c),oh(c,"")}return oh(r,e)+i+l}function WC(e,t,r,i){let l=[],u=[],s=null;const f=({state:y})=>{const E=Wv(e,location),R=r.value,U=t.value;let O=0;if(y){if(r.value=E,t.value=y,s&&s===R){s=null;return}O=U?y.position-U.position:0}else i(E);l.forEach(T=>{T(r.value,R,{delta:O,type:pi.pop,direction:O?O>0?si.forward:si.back:si.unknown})})};function c(){s=r.value}function d(y){l.push(y);const E=()=>{const R=l.indexOf(y);R>-1&&l.splice(R,1)};return u.push(E),E}function v(){const{history:y}=window;y.state&&y.replaceState(Ye({},y.state,{scroll:na()}),"")}function m(){for(const y of u)y();u=[],window.removeEventListener("popstate",f),window.removeEventListener("beforeunload",v)}return window.addEventListener("popstate",f),window.addEventListener("beforeunload",v,{passive:!0}),{pauseListeners:c,listen:d,destroy:m}}function ah(e,t,r,i=!1,l=!1){return{back:e,current:t,forward:r,replaced:i,position:window.history.length,scroll:l?na():null}}function VC(e){const{history:t,location:r}=window,i={value:Wv(e,r)},l={value:t.state};l.value||u(i.value,{back:null,current:i.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function u(c,d,v){const m=e.indexOf("#"),y=m>-1?(r.host&&document.querySelector("base")?e:e.slice(m))+c:qC()+e+c;try{t[v?"replaceState":"pushState"](d,"",y),l.value=d}catch(E){console.error(E),r[v?"replace":"assign"](y)}}function s(c,d){const v=Ye({},t.state,ah(l.value.back,c,l.value.forward,!0),d,{position:l.value.position});u(c,v,!0),i.value=c}function f(c,d){const v=Ye({},l.value,t.state,{forward:c,scroll:na()});u(v.current,v,!0);const m=Ye({},ah(i.value,c,null),{position:v.position+1},d);u(c,m,!1),i.value=c}return{location:i,state:l,push:f,replace:s}}function GC(e){e=BC(e);const t=VC(e),r=WC(e,t.state,t.location,t.replace);function i(u,s=!0){s||r.pauseListeners(),history.go(u)}const l=Ye({location:"",base:e,go:i,createHref:MC.bind(null,e)},t,r);return Object.defineProperty(l,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(l,"state",{enumerable:!0,get:()=>t.state.value}),l}function KC(e){return typeof e=="string"||e&&typeof e=="object"}function Vv(e){return typeof e=="string"||typeof e=="symbol"}const dr={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},Gv=Symbol("");var lh;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(lh||(lh={}));function yo(e,t){return Ye(new Error,{type:e,[Gv]:!0},t)}function Vn(e,t){return e instanceof Error&&Gv in e&&(t==null||!!(e.type&t))}const uh="[^/]+?",QC={sensitive:!1,strict:!1,start:!0,end:!0},YC=/[.+*?^${}()[\]/\\]/g;function XC(e,t){const r=Ye({},QC,t),i=[];let l=r.start?"^":"";const u=[];for(const d of e){const v=d.length?[]:[90];r.strict&&!d.length&&(l+="/");for(let m=0;m<d.length;m++){const y=d[m];let E=40+(r.sensitive?.25:0);if(y.type===0)m||(l+="/"),l+=y.value.replace(YC,"\\$&"),E+=40;else if(y.type===1){const{value:R,repeatable:U,optional:O,regexp:T}=y;u.push({name:R,repeatable:U,optional:O});const B=T||uh;if(B!==uh){E+=10;try{new RegExp("(".concat(B,")"))}catch(H){throw new Error('Invalid custom RegExp for param "'.concat(R,'" (').concat(B,"): ")+H.message)}}let M=U?"((?:".concat(B,")(?:/(?:").concat(B,"))*)"):"(".concat(B,")");m||(M=O&&d.length<2?"(?:/".concat(M,")"):"/"+M),O&&(M+="?"),l+=M,E+=20,O&&(E+=-8),U&&(E+=-20),B===".*"&&(E+=-50)}v.push(E)}i.push(v)}if(r.strict&&r.end){const d=i.length-1;i[d][i[d].length-1]+=.7000000000000001}r.strict||(l+="/?"),r.end?l+="$":r.strict&&(l+="(?:/|$)");const s=new RegExp(l,r.sensitive?"":"i");function f(d){const v=d.match(s),m={};if(!v)return null;for(let y=1;y<v.length;y++){const E=v[y]||"",R=u[y-1];m[R.name]=E&&R.repeatable?E.split("/"):E}return m}function c(d){let v="",m=!1;for(const y of e){(!m||!v.endsWith("/"))&&(v+="/"),m=!1;for(const E of y)if(E.type===0)v+=E.value;else if(E.type===1){const{value:R,repeatable:U,optional:O}=E,T=R in d?d[R]:"";if(wn(T)&&!U)throw new Error('Provided param "'.concat(R,'" is an array but it is not repeatable (* or + modifiers)'));const B=wn(T)?T.join("/"):T;if(!B)if(O)y.length<2&&(v.endsWith("/")?v=v.slice(0,-1):m=!0);else throw new Error('Missing required param "'.concat(R,'"'));v+=B}}return v||"/"}return{re:s,score:i,keys:u,parse:f,stringify:c}}function JC(e,t){let r=0;for(;r<e.length&&r<t.length;){const i=t[r]-e[r];if(i)return i;r++}return e.length<t.length?e.length===1&&e[0]===80?-1:1:e.length>t.length?t.length===1&&t[0]===80?1:-1:0}function ZC(e,t){let r=0;const i=e.score,l=t.score;for(;r<i.length&&r<l.length;){const u=JC(i[r],l[r]);if(u)return u;r++}if(Math.abs(l.length-i.length)===1){if(ch(i))return 1;if(ch(l))return-1}return l.length-i.length}function ch(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const eT={type:0,value:""},tT=/[a-zA-Z0-9_]/;function nT(e){if(!e)return[[]];if(e==="/")return[[eT]];if(!e.startsWith("/"))throw new Error('Invalid path "'.concat(e,'"'));function t(E){throw new Error("ERR (".concat(r,')/"').concat(d,'": ').concat(E))}let r=0,i=r;const l=[];let u;function s(){u&&l.push(u),u=[]}let f=0,c,d="",v="";function m(){d&&(r===0?u.push({type:0,value:d}):r===1||r===2||r===3?(u.length>1&&(c==="*"||c==="+")&&t("A repeatable param (".concat(d,") must be alone in its segment. eg: '/:ids+.")),u.push({type:1,value:d,regexp:v,repeatable:c==="*"||c==="+",optional:c==="*"||c==="?"})):t("Invalid state to consume buffer"),d="")}function y(){d+=c}for(;f<e.length;){if(c=e[f++],c==="\\"&&r!==2){i=r,r=4;continue}switch(r){case 0:c==="/"?(d&&m(),s()):c===":"?(m(),r=1):y();break;case 4:y(),r=i;break;case 1:c==="("?r=2:tT.test(c)?y():(m(),r=0,c!=="*"&&c!=="?"&&c!=="+"&&f--);break;case 2:c===")"?v[v.length-1]=="\\"?v=v.slice(0,-1)+c:r=3:v+=c;break;case 3:m(),r=0,c!=="*"&&c!=="?"&&c!=="+"&&f--,v="";break;default:t("Unknown state");break}}return r===2&&t('Unfinished custom RegExp for param "'.concat(d,'"')),m(),s(),l}function rT(e,t,r){const i=XC(nT(e.path),r),l=Ye(i,{record:e,parent:t,children:[],alias:[]});return t&&!l.record.aliasOf==!t.record.aliasOf&&t.children.push(l),l}function oT(e,t){const r=[],i=new Map;t=hh({strict:!1,end:!0,sensitive:!1},t);function l(v){return i.get(v)}function u(v,m,y){const E=!y,R=iT(v);R.aliasOf=y&&y.record;const U=hh(t,v),O=[R];if("alias"in v){const M=typeof v.alias=="string"?[v.alias]:v.alias;for(const H of M)O.push(Ye({},R,{components:y?y.record.components:R.components,path:H,aliasOf:y?y.record:R}))}let T,B;for(const M of O){const{path:H}=M;if(m&&H[0]!=="/"){const j=m.record.path,re=j[j.length-1]==="/"?"":"/";M.path=m.record.path+(H&&re+H)}if(T=rT(M,m,U),y?y.alias.push(T):(B=B||T,B!==T&&B.alias.push(T),E&&v.name&&!dh(T)&&s(v.name)),R.children){const j=R.children;for(let re=0;re<j.length;re++)u(j[re],T,y&&y.children[re])}y=y||T,(T.record.components&&Object.keys(T.record.components).length||T.record.name||T.record.redirect)&&c(T)}return B?()=>{s(B)}:ii}function s(v){if(Vv(v)){const m=i.get(v);m&&(i.delete(v),r.splice(r.indexOf(m),1),m.children.forEach(s),m.alias.forEach(s))}else{const m=r.indexOf(v);m>-1&&(r.splice(m,1),v.record.name&&i.delete(v.record.name),v.children.forEach(s),v.alias.forEach(s))}}function f(){return r}function c(v){let m=0;for(;m<r.length&&ZC(v,r[m])>=0&&(v.record.path!==r[m].record.path||!Kv(v,r[m]));)m++;r.splice(m,0,v),v.record.name&&!dh(v)&&i.set(v.record.name,v)}function d(v,m){let y,E={},R,U;if("name"in v&&v.name){if(y=i.get(v.name),!y)throw yo(1,{location:v});U=y.record.name,E=Ye(fh(m.params,y.keys.filter(B=>!B.optional).concat(y.parent?y.parent.keys.filter(B=>B.optional):[]).map(B=>B.name)),v.params&&fh(v.params,y.keys.map(B=>B.name))),R=y.stringify(E)}else if(v.path!=null)R=v.path,y=r.find(B=>B.re.test(R)),y&&(E=y.parse(R),U=y.record.name);else{if(y=m.name?i.get(m.name):r.find(B=>B.re.test(m.path)),!y)throw yo(1,{location:v,currentLocation:m});U=y.record.name,E=Ye({},m.params,v.params),R=y.stringify(E)}const O=[];let T=y;for(;T;)O.unshift(T.record),T=T.parent;return{name:U,path:R,params:E,matched:O,meta:aT(O)}}return e.forEach(v=>u(v)),{addRoute:u,resolve:d,removeRoute:s,getRoutes:f,getRecordMatcher:l}}function fh(e,t){const r={};for(const i of t)i in e&&(r[i]=e[i]);return r}function iT(e){return{path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:void 0,beforeEnter:e.beforeEnter,props:sT(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}}}function sT(e){const t={},r=e.props||!1;if("component"in e)t.default=r;else for(const i in e.components)t[i]=typeof r=="object"?r[i]:r;return t}function dh(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function aT(e){return e.reduce((t,r)=>Ye(t,r.meta),{})}function hh(e,t){const r={};for(const i in e)r[i]=i in t?t[i]:e[i];return r}function Kv(e,t){return t.children.some(r=>r===e||Kv(e,r))}function lT(e){const t={};if(e===""||e==="?")return t;const i=(e[0]==="?"?e.slice(1):e).split("&");for(let l=0;l<i.length;++l){const u=i[l].replace(Fv," "),s=u.indexOf("="),f=hi(s<0?u:u.slice(0,s)),c=s<0?null:hi(u.slice(s+1));if(f in t){let d=t[f];wn(d)||(d=t[f]=[d]),d.push(c)}else t[f]=c}return t}function ph(e){let t="";for(let r in e){const i=e[r];if(r=PC(r),i==null){i!==void 0&&(t+=(t.length?"&":"")+r);continue}(wn(i)?i.map(u=>u&&nu(u)):[i&&nu(i)]).forEach(u=>{u!==void 0&&(t+=(t.length?"&":"")+r,u!=null&&(t+="="+u))})}return t}function uT(e){const t={};for(const r in e){const i=e[r];i!==void 0&&(t[r]=wn(i)?i.map(l=>l==null?null:""+l):i==null?i:""+i)}return t}const cT=Symbol(""),vh=Symbol(""),ra=Symbol(""),xu=Symbol(""),ou=Symbol("");function qo(){let e=[];function t(i){return e.push(i),()=>{const l=e.indexOf(i);l>-1&&e.splice(l,1)}}function r(){e=[]}return{add:t,list:()=>e.slice(),reset:r}}function pr(e,t,r,i,l,u=s=>s()){const s=i&&(i.enterCallbacks[l]=i.enterCallbacks[l]||[]);return()=>new Promise((f,c)=>{const d=y=>{y===!1?c(yo(4,{from:r,to:t})):y instanceof Error?c(y):KC(y)?c(yo(2,{from:t,to:y})):(s&&i.enterCallbacks[l]===s&&typeof y=="function"&&s.push(y),f())},v=u(()=>e.call(i&&i.instances[l],t,r,d));let m=Promise.resolve(v);e.length<3&&(m=m.then(d)),m.catch(y=>c(y))})}function Ml(e,t,r,i,l=u=>u()){const u=[];for(const s of e)for(const f in s.components){let c=s.components[f];if(!(t!=="beforeRouteEnter"&&!s.instances[f]))if(fT(c)){const v=(c.__vccOpts||c)[t];v&&u.push(pr(v,r,i,s,f,l))}else{let d=c();u.push(()=>d.then(v=>{if(!v)return Promise.reject(new Error("Couldn't resolve component \"".concat(f,'" at "').concat(s.path,'"')));const m=gC(v)?v.default:v;s.components[f]=m;const E=(m.__vccOpts||m)[t];return E&&pr(E,r,i,s,f,l)()}))}}return u}function fT(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function mh(e){const t=st(ra),r=st(xu),i=ve(()=>t.resolve(w(e.to))),l=ve(()=>{const{matched:c}=i.value,{length:d}=c,v=c[d-1],m=r.matched;if(!v||!m.length)return-1;const y=m.findIndex(bo.bind(null,v));if(y>-1)return y;const E=gh(c[d-2]);return d>1&&gh(v)===E&&m[m.length-1].path!==E?m.findIndex(bo.bind(null,c[d-2])):y}),u=ve(()=>l.value>-1&&vT(r.params,i.value.params)),s=ve(()=>l.value>-1&&l.value===r.matched.length-1&&qv(r.params,i.value.params));function f(c={}){return pT(c)?t[w(e.replace)?"replace":"push"](w(e.to)).catch(ii):Promise.resolve()}return{route:i,href:ve(()=>i.value.href),isActive:u,isExactActive:s,navigate:f}}const dT=ke({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:mh,setup(e,{slots:t}){const r=On(mh(e)),{options:i}=st(ra),l=ve(()=>({[bh(e.activeClass,i.linkActiveClass,"router-link-active")]:r.isActive,[bh(e.exactActiveClass,i.linkExactActiveClass,"router-link-exact-active")]:r.isExactActive}));return()=>{const u=t.default&&t.default(r);return e.custom?u:Dr("a",{"aria-current":r.isExactActive?e.ariaCurrentValue:null,href:r.href,onClick:r.navigate,class:l.value},u)}}}),hT=dT;function pT(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function vT(e,t){for(const r in t){const i=t[r],l=e[r];if(typeof i=="string"){if(i!==l)return!1}else if(!wn(l)||l.length!==i.length||i.some((u,s)=>u!==l[s]))return!1}return!0}function gh(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const bh=(e,t,r)=>e!=null?e:t!=null?t:r,mT=ke({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:r}){const i=st(ou),l=ve(()=>e.route||i.value),u=st(vh,0),s=ve(()=>{let d=w(u);const{matched:v}=l.value;let m;for(;(m=v[d])&&!m.components;)d++;return d}),f=ve(()=>l.value.matched[s.value]);kl(vh,ve(()=>s.value+1)),kl(cT,f),kl(ou,l);const c=ce();return Xe(()=>[c.value,f.value,e.name],([d,v,m],[y,E,R])=>{v&&(v.instances[m]=d,E&&E!==v&&d&&d===y&&(v.leaveGuards.size||(v.leaveGuards=E.leaveGuards),v.updateGuards.size||(v.updateGuards=E.updateGuards))),d&&v&&(!E||!bo(v,E)||!y)&&(v.enterCallbacks[m]||[]).forEach(U=>U(d))},{flush:"post"}),()=>{const d=l.value,v=e.name,m=f.value,y=m&&m.components[v];if(!y)return yh(r.default,{Component:y,route:d});const E=m.props[v],R=E?E===!0?d.params:typeof E=="function"?E(d):E:null,O=Dr(y,Ye({},R,t,{onVnodeUnmounted:T=>{T.component.isUnmounted&&(m.instances[v]=null)},ref:c}));return yh(r.default,{Component:O,route:d})||O}}});function yh(e,t){if(!e)return null;const r=e(t);return r.length===1?r[0]:r}const gT=mT;function bT(e){const t=oT(e.routes,e),r=e.parseQuery||lT,i=e.stringifyQuery||ph,l=e.history,u=qo(),s=qo(),f=qo(),c=Dp(dr);let d=dr;co&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const v=Bl.bind(null,V=>""+V),m=Bl.bind(null,kC),y=Bl.bind(null,hi);function E(V,he){let Z,fe;return Vv(V)?(Z=t.getRecordMatcher(V),fe=he):fe=V,t.addRoute(fe,Z)}function R(V){const he=t.getRecordMatcher(V);he&&t.removeRoute(he)}function U(){return t.getRoutes().map(V=>V.record)}function O(V){return!!t.getRecordMatcher(V)}function T(V,he){if(he=Ye({},he||c.value),typeof V=="string"){const Q=Nl(r,V,he.path),pe=t.resolve({path:Q.path},he),Se=l.createHref(Q.fullPath);return Ye(Q,pe,{params:y(pe.params),hash:hi(Q.hash),redirectedFrom:void 0,href:Se})}let Z;if(V.path!=null)Z=Ye({},V,{path:Nl(r,V.path,he.path).path});else{const Q=Ye({},V.params);for(const pe in Q)Q[pe]==null&&delete Q[pe];Z=Ye({},V,{params:m(Q)}),he.params=m(he.params)}const fe=t.resolve(Z,he),ye=V.hash||"";fe.params=v(y(fe.params));const De=IC(i,Ye({},V,{hash:AC(ye),path:fe.path})),ee=l.createHref(De);return Ye({fullPath:De,hash:ye,query:i===ph?uT(V.query):V.query||{}},fe,{redirectedFrom:void 0,href:ee})}function B(V){return typeof V=="string"?Nl(r,V,c.value.path):Ye({},V)}function M(V,he){if(d!==V)return yo(8,{from:he,to:V})}function H(V){return F(V)}function j(V){return H(Ye(B(V),{replace:!0}))}function re(V){const he=V.matched[V.matched.length-1];if(he&&he.redirect){const{redirect:Z}=he;let fe=typeof Z=="function"?Z(V):Z;return typeof fe=="string"&&(fe=fe.includes("?")||fe.includes("#")?fe=B(fe):{path:fe},fe.params={}),Ye({query:V.query,hash:V.hash,params:fe.path!=null?{}:V.params},fe)}}function F(V,he){const Z=d=T(V),fe=c.value,ye=V.state,De=V.force,ee=V.replace===!0,Q=re(Z);if(Q)return F(Ye(B(Q),{state:typeof Q=="object"?Ye({},ye,Q.state):ye,force:De,replace:ee}),he||Z);const pe=Z;pe.redirectedFrom=he;let Se;return!De&&xC(i,fe,Z)&&(Se=yo(16,{to:pe,from:fe}),X(fe,fe,!0,!1)),(Se?Promise.resolve(Se):se(pe,fe)).catch(_e=>Vn(_e)?Vn(_e,2)?_e:Y(_e):k(_e,pe,fe)).then(_e=>{if(_e){if(Vn(_e,2))return F(Ye({replace:ee},B(_e.to),{state:typeof _e.to=="object"?Ye({},ye,_e.to.state):ye,force:De}),he||pe)}else _e=N(pe,fe,!0,ee,ye);return le(pe,fe,_e),_e})}function J(V,he){const Z=M(V,he);return Z?Promise.reject(Z):Promise.resolve()}function K(V){const he=Ae.values().next().value;return he&&typeof he.runWithContext=="function"?he.runWithContext(V):V()}function se(V,he){let Z;const[fe,ye,De]=yT(V,he);Z=Ml(fe.reverse(),"beforeRouteLeave",V,he);for(const Q of fe)Q.leaveGuards.forEach(pe=>{Z.push(pr(pe,V,he))});const ee=J.bind(null,V,he);return Z.push(ee),Fe(Z).then(()=>{Z=[];for(const Q of u.list())Z.push(pr(Q,V,he));return Z.push(ee),Fe(Z)}).then(()=>{Z=Ml(ye,"beforeRouteUpdate",V,he);for(const Q of ye)Q.updateGuards.forEach(pe=>{Z.push(pr(pe,V,he))});return Z.push(ee),Fe(Z)}).then(()=>{Z=[];for(const Q of De)if(Q.beforeEnter)if(wn(Q.beforeEnter))for(const pe of Q.beforeEnter)Z.push(pr(pe,V,he));else Z.push(pr(Q.beforeEnter,V,he));return Z.push(ee),Fe(Z)}).then(()=>(V.matched.forEach(Q=>Q.enterCallbacks={}),Z=Ml(De,"beforeRouteEnter",V,he,K),Z.push(ee),Fe(Z))).then(()=>{Z=[];for(const Q of s.list())Z.push(pr(Q,V,he));return Z.push(ee),Fe(Z)}).catch(Q=>Vn(Q,8)?Q:Promise.reject(Q))}function le(V,he,Z){f.list().forEach(fe=>K(()=>fe(V,he,Z)))}function N(V,he,Z,fe,ye){const De=M(V,he);if(De)return De;const ee=he===dr,Q=co?history.state:{};Z&&(fe||ee?l.replace(V.fullPath,Ye({scroll:ee&&Q&&Q.scroll},ye)):l.push(V.fullPath,ye)),c.value=V,X(V,he,Z,ee),Y()}let W;function ue(){W||(W=l.listen((V,he,Z)=>{if(!Ve.listening)return;const fe=T(V),ye=re(fe);if(ye){F(Ye(ye,{replace:!0}),fe).catch(ii);return}d=fe;const De=c.value;co&&HC(sh(De.fullPath,Z.delta),na()),se(fe,De).catch(ee=>Vn(ee,12)?ee:Vn(ee,2)?(F(ee.to,fe).then(Q=>{Vn(Q,20)&&!Z.delta&&Z.type===pi.pop&&l.go(-1,!1)}).catch(ii),Promise.reject()):(Z.delta&&l.go(-Z.delta,!1),k(ee,fe,De))).then(ee=>{ee=ee||N(fe,De,!1),ee&&(Z.delta&&!Vn(ee,8)?l.go(-Z.delta,!1):Z.type===pi.pop&&Vn(ee,20)&&l.go(-1,!1)),le(fe,De,ee)}).catch(ii)}))}let ae=qo(),P=qo(),A;function k(V,he,Z){Y(V);const fe=P.list();return fe.length?fe.forEach(ye=>ye(V,he,Z)):console.error(V),Promise.reject(V)}function q(){return A&&c.value!==dr?Promise.resolve():new Promise((V,he)=>{ae.add([V,he])})}function Y(V){return A||(A=!V,ue(),ae.list().forEach(([he,Z])=>V?Z(V):he()),ae.reset()),V}function X(V,he,Z,fe){const{scrollBehavior:ye}=e;if(!co||!ye)return Promise.resolve();const De=!Z&&jC(sh(V.fullPath,0))||(fe||!Z)&&history.state&&history.state.scroll||null;return Dt().then(()=>ye(V,he,De)).then(ee=>ee&&zC(ee)).catch(ee=>k(ee,V,he))}const ge=V=>l.go(V);let Ee;const Ae=new Set,Ve={currentRoute:c,listening:!0,addRoute:E,removeRoute:R,hasRoute:O,getRoutes:U,resolve:T,options:e,push:H,replace:j,go:ge,back:()=>ge(-1),forward:()=>ge(1),beforeEach:u.add,beforeResolve:s.add,afterEach:f.add,onError:P.add,isReady:q,install(V){const he=this;V.component("RouterLink",hT),V.component("RouterView",gT),V.config.globalProperties.$router=he,Object.defineProperty(V.config.globalProperties,"$route",{enumerable:!0,get:()=>w(c)}),co&&!Ee&&c.value===dr&&(Ee=!0,H(l.location).catch(ye=>{}));const Z={};for(const ye in dr)Object.defineProperty(Z,ye,{get:()=>c.value[ye],enumerable:!0});V.provide(ra,he),V.provide(xu,Go(Z)),V.provide(ou,c);const fe=V.unmount;Ae.add(V),V.unmount=function(){Ae.delete(V),Ae.size<1&&(d=dr,W&&W(),W=null,c.value=dr,Ee=!1,A=!1),fe()}}};function Fe(V){return V.reduce((he,Z)=>he.then(()=>K(Z)),Promise.resolve())}return Ve}function yT(e,t){const r=[],i=[],l=[],u=Math.max(t.matched.length,e.matched.length);for(let s=0;s<u;s++){const f=t.matched[s];f&&(e.matched.find(d=>bo(d,f))?i.push(f):r.push(f));const c=e.matched[s];c&&(t.matched.find(d=>bo(d,c))||l.push(c))}return[r,i,l]}function Ai(){return st(ra)}function $n(){return st(xu)}var Qv=typeof global=="object"&&global&&global.Object===Object&&global,_T=typeof self=="object"&&self&&self.Object===Object&&self,Dn=Qv||_T||Function("return this")(),_o=Dn.Symbol,Yv=Object.prototype,wT=Yv.hasOwnProperty,ST=Yv.toString,Wo=_o?_o.toStringTag:void 0;function $T(e){var t=wT.call(e,Wo),r=e[Wo];try{e[Wo]=void 0;var i=!0}catch(u){}var l=ST.call(e);return i&&(t?e[Wo]=r:delete e[Wo]),l}var ET=Object.prototype,CT=ET.toString;function TT(e){return CT.call(e)}var AT="[object Null]",PT="[object Undefined]",_h=_o?_o.toStringTag:void 0;function Pi(e){return e==null?e===void 0?PT:AT:_h&&_h in Object(e)?$T(e):TT(e)}function Ri(e){return e!=null&&typeof e=="object"}var Du=Array.isArray;function ki(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var RT="[object AsyncFunction]",kT="[object Function]",OT="[object GeneratorFunction]",LT="[object Proxy]";function Xv(e){if(!ki(e))return!1;var t=Pi(e);return t==kT||t==OT||t==RT||t==LT}var Fl=Dn["__core-js_shared__"],wh=function(){var e=/[^.]+$/.exec(Fl&&Fl.keys&&Fl.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function IT(e){return!!wh&&wh in e}var xT=Function.prototype,DT=xT.toString;function qr(e){if(e!=null){try{return DT.call(e)}catch(t){}try{return e+""}catch(t){}}return""}var UT=/[\\^$.*+?()[\]{}|]/g,BT=/^\[object .+?Constructor\]$/,NT=Function.prototype,MT=Object.prototype,FT=NT.toString,zT=MT.hasOwnProperty,HT=RegExp("^"+FT.call(zT).replace(UT,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function jT(e){if(!ki(e)||IT(e))return!1;var t=Xv(e)?HT:BT;return t.test(qr(e))}function qT(e,t){return e==null?void 0:e[t]}function Wr(e,t){var r=qT(e,t);return jT(r)?r:void 0}var iu=Wr(Dn,"WeakMap"),Sh=Object.create,WT=function(){function e(){}return function(t){if(!ki(t))return{};if(Sh)return Sh(t);e.prototype=t;var r=new e;return e.prototype=void 0,r}}();function VT(e,t){var r=-1,i=e.length;for(t||(t=Array(i));++r<i;)t[r]=e[r];return t}var $h=function(){try{var e=Wr(Object,"defineProperty");return e({},"",{}),e}catch(t){}}();function GT(e,t){for(var r=-1,i=e==null?0:e.length;++r<i&&t(e[r],r,e)!==!1;);return e}var KT=9007199254740991,QT=/^(?:0|[1-9]\d*)$/;function YT(e,t){var r=typeof e;return t=t==null?KT:t,!!t&&(r=="number"||r!="symbol"&&QT.test(e))&&e>-1&&e%1==0&&e<t}function Jv(e,t,r){t=="__proto__"&&$h?$h(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}function Zv(e,t){return e===t||e!==e&&t!==t}var XT=Object.prototype,JT=XT.hasOwnProperty;function em(e,t,r){var i=e[t];(!(JT.call(e,t)&&Zv(i,r))||r===void 0&&!(t in e))&&Jv(e,t,r)}function oa(e,t,r,i){var l=!r;r||(r={});for(var u=-1,s=t.length;++u<s;){var f=t[u],c=void 0;c===void 0&&(c=e[f]),l?Jv(r,f,c):em(r,f,c)}return r}var ZT=9007199254740991;function tm(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=ZT}function nm(e){return e!=null&&tm(e.length)&&!Xv(e)}var eA=Object.prototype;function Uu(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||eA;return e===r}function tA(e,t){for(var r=-1,i=Array(e);++r<e;)i[r]=t(r);return i}var nA="[object Arguments]";function Eh(e){return Ri(e)&&Pi(e)==nA}var rm=Object.prototype,rA=rm.hasOwnProperty,oA=rm.propertyIsEnumerable,iA=Eh(function(){return arguments}())?Eh:function(e){return Ri(e)&&rA.call(e,"callee")&&!oA.call(e,"callee")};function sA(){return!1}var om=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Ch=om&&typeof module=="object"&&module&&!module.nodeType&&module,aA=Ch&&Ch.exports===om,Th=aA?Dn.Buffer:void 0,lA=Th?Th.isBuffer:void 0,im=lA||sA,uA="[object Arguments]",cA="[object Array]",fA="[object Boolean]",dA="[object Date]",hA="[object Error]",pA="[object Function]",vA="[object Map]",mA="[object Number]",gA="[object Object]",bA="[object RegExp]",yA="[object Set]",_A="[object String]",wA="[object WeakMap]",SA="[object ArrayBuffer]",$A="[object DataView]",EA="[object Float32Array]",CA="[object Float64Array]",TA="[object Int8Array]",AA="[object Int16Array]",PA="[object Int32Array]",RA="[object Uint8Array]",kA="[object Uint8ClampedArray]",OA="[object Uint16Array]",LA="[object Uint32Array]",ot={};ot[EA]=ot[CA]=ot[TA]=ot[AA]=ot[PA]=ot[RA]=ot[kA]=ot[OA]=ot[LA]=!0;ot[uA]=ot[cA]=ot[SA]=ot[fA]=ot[$A]=ot[dA]=ot[hA]=ot[pA]=ot[vA]=ot[mA]=ot[gA]=ot[bA]=ot[yA]=ot[_A]=ot[wA]=!1;function IA(e){return Ri(e)&&tm(e.length)&&!!ot[Pi(e)]}function Bu(e){return function(t){return e(t)}}var sm=typeof exports=="object"&&exports&&!exports.nodeType&&exports,ai=sm&&typeof module=="object"&&module&&!module.nodeType&&module,xA=ai&&ai.exports===sm,zl=xA&&Qv.process,wo=function(){try{var e=ai&&ai.require&&ai.require("util").types;return e||zl&&zl.binding&&zl.binding("util")}catch(t){}}(),Ah=wo&&wo.isTypedArray,DA=Ah?Bu(Ah):IA,UA=Object.prototype,BA=UA.hasOwnProperty;function am(e,t){var r=Du(e),i=!r&&iA(e),l=!r&&!i&&im(e),u=!r&&!i&&!l&&DA(e),s=r||i||l||u,f=s?tA(e.length,String):[],c=f.length;for(var d in e)(t||BA.call(e,d))&&!(s&&(d=="length"||l&&(d=="offset"||d=="parent")||u&&(d=="buffer"||d=="byteLength"||d=="byteOffset")||YT(d,c)))&&f.push(d);return f}function lm(e,t){return function(r){return e(t(r))}}var NA=lm(Object.keys,Object),MA=Object.prototype,FA=MA.hasOwnProperty;function zA(e){if(!Uu(e))return NA(e);var t=[];for(var r in Object(e))FA.call(e,r)&&r!="constructor"&&t.push(r);return t}function Nu(e){return nm(e)?am(e):zA(e)}function HA(e){var t=[];if(e!=null)for(var r in Object(e))t.push(r);return t}var jA=Object.prototype,qA=jA.hasOwnProperty;function WA(e){if(!ki(e))return HA(e);var t=Uu(e),r=[];for(var i in e)i=="constructor"&&(t||!qA.call(e,i))||r.push(i);return r}function Mu(e){return nm(e)?am(e,!0):WA(e)}var vi=Wr(Object,"create");function VA(){this.__data__=vi?vi(null):{},this.size=0}function GA(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var KA="__lodash_hash_undefined__",QA=Object.prototype,YA=QA.hasOwnProperty;function XA(e){var t=this.__data__;if(vi){var r=t[e];return r===KA?void 0:r}return YA.call(t,e)?t[e]:void 0}var JA=Object.prototype,ZA=JA.hasOwnProperty;function eP(e){var t=this.__data__;return vi?t[e]!==void 0:ZA.call(t,e)}var tP="__lodash_hash_undefined__";function nP(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=vi&&t===void 0?tP:t,this}function Nr(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var i=e[t];this.set(i[0],i[1])}}Nr.prototype.clear=VA;Nr.prototype.delete=GA;Nr.prototype.get=XA;Nr.prototype.has=eP;Nr.prototype.set=nP;function rP(){this.__data__=[],this.size=0}function ia(e,t){for(var r=e.length;r--;)if(Zv(e[r][0],t))return r;return-1}var oP=Array.prototype,iP=oP.splice;function sP(e){var t=this.__data__,r=ia(t,e);if(r<0)return!1;var i=t.length-1;return r==i?t.pop():iP.call(t,r,1),--this.size,!0}function aP(e){var t=this.__data__,r=ia(t,e);return r<0?void 0:t[r][1]}function lP(e){return ia(this.__data__,e)>-1}function uP(e,t){var r=this.__data__,i=ia(r,e);return i<0?(++this.size,r.push([e,t])):r[i][1]=t,this}function er(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var i=e[t];this.set(i[0],i[1])}}er.prototype.clear=rP;er.prototype.delete=sP;er.prototype.get=aP;er.prototype.has=lP;er.prototype.set=uP;var mi=Wr(Dn,"Map");function cP(){this.size=0,this.__data__={hash:new Nr,map:new(mi||er),string:new Nr}}function fP(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function sa(e,t){var r=e.__data__;return fP(t)?r[typeof t=="string"?"string":"hash"]:r.map}function dP(e){var t=sa(this,e).delete(e);return this.size-=t?1:0,t}function hP(e){return sa(this,e).get(e)}function pP(e){return sa(this,e).has(e)}function vP(e,t){var r=sa(this,e),i=r.size;return r.set(e,t),this.size+=r.size==i?0:1,this}function $o(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var i=e[t];this.set(i[0],i[1])}}$o.prototype.clear=cP;$o.prototype.delete=dP;$o.prototype.get=hP;$o.prototype.has=pP;$o.prototype.set=vP;function um(e,t){for(var r=-1,i=t.length,l=e.length;++r<i;)e[l+r]=t[r];return e}var cm=lm(Object.getPrototypeOf,Object);function mP(){this.__data__=new er,this.size=0}function gP(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}function bP(e){return this.__data__.get(e)}function yP(e){return this.__data__.has(e)}var _P=200;function wP(e,t){var r=this.__data__;if(r instanceof er){var i=r.__data__;if(!mi||i.length<_P-1)return i.push([e,t]),this.size=++r.size,this;r=this.__data__=new $o(i)}return r.set(e,t),this.size=r.size,this}function Eo(e){var t=this.__data__=new er(e);this.size=t.size}Eo.prototype.clear=mP;Eo.prototype.delete=gP;Eo.prototype.get=bP;Eo.prototype.has=yP;Eo.prototype.set=wP;function SP(e,t){return e&&oa(t,Nu(t),e)}function $P(e,t){return e&&oa(t,Mu(t),e)}var fm=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Ph=fm&&typeof module=="object"&&module&&!module.nodeType&&module,EP=Ph&&Ph.exports===fm,Rh=EP?Dn.Buffer:void 0,kh=Rh?Rh.allocUnsafe:void 0;function CP(e,t){if(t)return e.slice();var r=e.length,i=kh?kh(r):new e.constructor(r);return e.copy(i),i}function TP(e,t){for(var r=-1,i=e==null?0:e.length,l=0,u=[];++r<i;){var s=e[r];t(s,r,e)&&(u[l++]=s)}return u}function dm(){return[]}var AP=Object.prototype,PP=AP.propertyIsEnumerable,Oh=Object.getOwnPropertySymbols,Fu=Oh?function(e){return e==null?[]:(e=Object(e),TP(Oh(e),function(t){return PP.call(e,t)}))}:dm;function RP(e,t){return oa(e,Fu(e),t)}var kP=Object.getOwnPropertySymbols,hm=kP?function(e){for(var t=[];e;)um(t,Fu(e)),e=cm(e);return t}:dm;function OP(e,t){return oa(e,hm(e),t)}function pm(e,t,r){var i=t(e);return Du(e)?i:um(i,r(e))}function LP(e){return pm(e,Nu,Fu)}function IP(e){return pm(e,Mu,hm)}var su=Wr(Dn,"DataView"),au=Wr(Dn,"Promise"),lu=Wr(Dn,"Set"),Lh="[object Map]",xP="[object Object]",Ih="[object Promise]",xh="[object Set]",Dh="[object WeakMap]",Uh="[object DataView]",DP=qr(su),UP=qr(mi),BP=qr(au),NP=qr(lu),MP=qr(iu),Gn=Pi;(su&&Gn(new su(new ArrayBuffer(1)))!=Uh||mi&&Gn(new mi)!=Lh||au&&Gn(au.resolve())!=Ih||lu&&Gn(new lu)!=xh||iu&&Gn(new iu)!=Dh)&&(Gn=function(e){var t=Pi(e),r=t==xP?e.constructor:void 0,i=r?qr(r):"";if(i)switch(i){case DP:return Uh;case UP:return Lh;case BP:return Ih;case NP:return xh;case MP:return Dh}return t});var FP=Object.prototype,zP=FP.hasOwnProperty;function HP(e){var t=e.length,r=new e.constructor(t);return t&&typeof e[0]=="string"&&zP.call(e,"index")&&(r.index=e.index,r.input=e.input),r}var Bh=Dn.Uint8Array;function zu(e){var t=new e.constructor(e.byteLength);return new Bh(t).set(new Bh(e)),t}function jP(e,t){var r=t?zu(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}var qP=/\w*$/;function WP(e){var t=new e.constructor(e.source,qP.exec(e));return t.lastIndex=e.lastIndex,t}var Nh=_o?_o.prototype:void 0,Mh=Nh?Nh.valueOf:void 0;function VP(e){return Mh?Object(Mh.call(e)):{}}function GP(e,t){var r=t?zu(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}var KP="[object Boolean]",QP="[object Date]",YP="[object Map]",XP="[object Number]",JP="[object RegExp]",ZP="[object Set]",eR="[object String]",tR="[object Symbol]",nR="[object ArrayBuffer]",rR="[object DataView]",oR="[object Float32Array]",iR="[object Float64Array]",sR="[object Int8Array]",aR="[object Int16Array]",lR="[object Int32Array]",uR="[object Uint8Array]",cR="[object Uint8ClampedArray]",fR="[object Uint16Array]",dR="[object Uint32Array]";function hR(e,t,r){var i=e.constructor;switch(t){case nR:return zu(e);case KP:case QP:return new i(+e);case rR:return jP(e,r);case oR:case iR:case sR:case aR:case lR:case uR:case cR:case fR:case dR:return GP(e,r);case YP:return new i;case XP:case eR:return new i(e);case JP:return WP(e);case ZP:return new i;case tR:return VP(e)}}function pR(e){return typeof e.constructor=="function"&&!Uu(e)?WT(cm(e)):{}}var vR="[object Map]";function mR(e){return Ri(e)&&Gn(e)==vR}var Fh=wo&&wo.isMap,gR=Fh?Bu(Fh):mR,bR="[object Set]";function yR(e){return Ri(e)&&Gn(e)==bR}var zh=wo&&wo.isSet,_R=zh?Bu(zh):yR,wR=1,SR=2,$R=4,vm="[object Arguments]",ER="[object Array]",CR="[object Boolean]",TR="[object Date]",AR="[object Error]",mm="[object Function]",PR="[object GeneratorFunction]",RR="[object Map]",kR="[object Number]",gm="[object Object]",OR="[object RegExp]",LR="[object Set]",IR="[object String]",xR="[object Symbol]",DR="[object WeakMap]",UR="[object ArrayBuffer]",BR="[object DataView]",NR="[object Float32Array]",MR="[object Float64Array]",FR="[object Int8Array]",zR="[object Int16Array]",HR="[object Int32Array]",jR="[object Uint8Array]",qR="[object Uint8ClampedArray]",WR="[object Uint16Array]",VR="[object Uint32Array]",tt={};tt[vm]=tt[ER]=tt[UR]=tt[BR]=tt[CR]=tt[TR]=tt[NR]=tt[MR]=tt[FR]=tt[zR]=tt[HR]=tt[RR]=tt[kR]=tt[gm]=tt[OR]=tt[LR]=tt[IR]=tt[xR]=tt[jR]=tt[qR]=tt[WR]=tt[VR]=!0;tt[AR]=tt[mm]=tt[DR]=!1;function Is(e,t,r,i,l,u){var s,f=t&wR,c=t&SR,d=t&$R;if(s!==void 0)return s;if(!ki(e))return e;var v=Du(e);if(v){if(s=HP(e),!f)return VT(e,s)}else{var m=Gn(e),y=m==mm||m==PR;if(im(e))return CP(e,f);if(m==gm||m==vm||y&&!l){if(s=c||y?{}:pR(e),!f)return c?OP(e,$P(s,e)):RP(e,SP(s,e))}else{if(!tt[m])return l?e:{};s=hR(e,m,f)}}u||(u=new Eo);var E=u.get(e);if(E)return E;u.set(e,s),_R(e)?e.forEach(function(O){s.add(Is(O,t,r,O,e,u))}):gR(e)&&e.forEach(function(O,T){s.set(T,Is(O,t,r,T,e,u))});var R=d?c?IP:LP:c?Mu:Nu,U=v?void 0:R(e);return GT(U||e,function(O,T){U&&(T=O,O=e[T]),em(s,T,Is(O,t,r,T,e,u))}),s}var GR=1,KR=4;function QR(e){return Is(e,GR|KR)}const yt=Ti("auth",{state:()=>({user:null,jwt:""}),getters:{isLoggedIn:e=>e.user!==null},actions:{setUser(e){if(e===null){this.user=null;return}Od(e.locale||l$()),this.user=e},updateUser(e){e.locale&&Od(e.locale),this.user={...this.user,...QR(e)}},clearUser(){this.$reset()}}});class Xo extends Error{}Xo.prototype.name="InvalidTokenError";function YR(e){return decodeURIComponent(atob(e).replace(/(.)/g,(t,r)=>{let i=r.charCodeAt(0).toString(16).toUpperCase();return i.length<2&&(i="0"+i),"%"+i}))}function XR(e){let t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw new Error("base64 string is not of the correct length")}try{return YR(t)}catch(r){return atob(t)}}function JR(e,t){if(typeof e!="string")throw new Xo("Invalid token specified: must be a string");t||(t={});const r=t.header===!0?0:1,i=e.split(".")[r];if(typeof i!="string")throw new Xo("Invalid token specified: missing part #".concat(r+1));let l;try{l=XR(i)}catch(u){throw new Xo("Invalid token specified: invalid base64 for part #".concat(r+1," (").concat(u.message,")"))}try{return JSON.parse(l)}catch(u){throw new Xo("Invalid token specified: invalid json for part #".concat(r+1," (").concat(u.message,")"))}}function bm(e){const t=JR(e);document.cookie="auth=".concat(e,"; Path=/; SameSite=Strict;"),localStorage.setItem("jwt",e);const r=yt();r.jwt=e,r.setUser(t.user)}async function ZR(){try{localStorage.getItem("jwt")&&await _m(localStorage.getItem("jwt"))}catch(e){throw console.warn("Invalid JWT token in storage"),e}}async function ym(e,t,r){const i={username:e,password:t,recaptcha:r},l=await fetch("".concat(Sn,"/api/login"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)}),u=await l.text();if(l.status===200)bm(u);else throw new Zn(u||"".concat(l.status," ").concat(l.statusText),l.status)}async function _m(e){const t=await fetch("".concat(Sn,"/api/renew"),{method:"POST",headers:{"X-Auth":e}}),r=await t.text();if(t.status===200)bm(r);else throw new Zn(r||"".concat(t.status," ").concat(t.statusText),t.status)}async function ek(e,t){const r={username:e,password:t},i=await fetch("".concat(Sn,"/api/signup"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)});if(i.status!==200)throw new Zn("".concat(i.status," ").concat(i.statusText),i.status)}function wm(){document.cookie="auth=; Max-Age=0; Path=/; SameSite=Strict;",yt().clearUser(),localStorage.setItem("jwt",""),Gp?window.location.reload():Ii.push({path:"/login"})}function tk(e){const t=e.split("/");return t.pop()===""&&t.pop(),t.join("/")}function nk(e){return encodeURIComponent(e).replace(/['()*]/g,t=>"%".concat(t.charCodeAt(0).toString(16).toUpperCase())).replace(/%(7C|60|5E)/g,(t,r)=>String.fromCharCode(parseInt(r,16)))}function Sm(e){return e.split("/").map(t=>encodeURIComponent(t)).join("/")}const In={encodeRFC5987ValueChars:nk,removeLastDir:tk,encodePath:Sm};class Zn extends Error{constructor(t,r){super(t),this.status=r,this.name="StatusError"}}async function dn(e,t,r=!0){const i=yt();t=t||{},t.headers=t.headers||{};const{headers:l,...u}=t;let s;try{s=await fetch("".concat(Sn).concat(e),{headers:{"X-Auth":i.jwt,...l},...u})}catch(f){throw new Zn("000 No connection",0)}if(r&&s.headers.get("X-Renew-Token")==="true"&&await _m(i.jwt),s.status<200||s.status>299){const f=await s.text(),c=new Zn(f||"".concat(s.status," ").concat(s.statusText),s.status);throw r&&s.status==401&&wm(),c}return s}async function Co(e,t){const r=await dn(e,t);if(r.status===200)return r.json();throw new Zn("".concat(r.status," ").concat(r.statusText),r.status)}function tn(e){return e=e.split("/").splice(2).join("/"),e===""&&(e="/"),e[0]!=="/"&&(e="/"+e),e}function Oi(e,t={},r=!0){const i=yt();let l=Sn;l.endsWith("/")||(l=l+"/");const u=new URL(l+Sm(e),origin),s={...r&&{auth:i.jwt},...t};for(const f in s)u.searchParams.set(f,s[f]);return u.toString()}const rk=["src"],ok={key:0,class:"wrong"},ik=["placeholder"],sk=["placeholder"],ak=["placeholder"],lk={key:2,id:"recaptcha"},uk=["value"],ck=ke({__name:"Login",setup(e){const t=ce(!1),r=ce(""),i=ce(""),l=ce(""),u=ce(""),s=$n(),f=Ai(),{t:c}=ht({}),d=()=>t.value=!t.value,v=st("$showError"),m=async y=>{y.preventDefault(),y.stopPropagation();const E=s.query.redirect||"/files/";let R="";if(Ko&&(R=window.grecaptcha.getResponse(),R==="")){r.value=c("login.wrongCredentials");return}if(t.value&&l.value!==u.value){r.value=c("login.passwordsDontMatch");return}try{t.value&&await ek(i.value,l.value),await ym(i.value,l.value,R),f.push({path:E})}catch(U){U instanceof Zn&&(U.status===409?r.value=c("login.usernameTaken"):U.status===403?r.value=c("login.wrongCredentials"):v(U))}};return At(()=>{Ko&&window.grecaptcha.ready(function(){window.grecaptcha.render("recaptcha",{sitekey:m$})})}),(y,E)=>($(),I("div",{id:"login",class:nt({recaptcha:w(Ko)})},[p("form",{onSubmit:m},[p("img",{src:w(Vp),alt:"File Browser"},null,8,rk),p("h1",null,S(w(Tu)),1),r.value!==""?($(),I("div",ok,S(r.value),1)):oe("",!0),Te(p("input",{autofocus:"",class:"input input--block",type:"text",autocapitalize:"off","onUpdate:modelValue":E[0]||(E[0]=R=>i.value=R),placeholder:w(c)("login.username")},null,8,ik),[[ct,i.value]]),Te(p("input",{class:"input input--block",type:"password","onUpdate:modelValue":E[1]||(E[1]=R=>l.value=R),placeholder:w(c)("login.password")},null,8,sk),[[ct,l.value]]),t.value?Te(($(),I("input",{key:1,class:"input input--block",type:"password","onUpdate:modelValue":E[2]||(E[2]=R=>u.value=R),placeholder:w(c)("login.passwordConfirm")},null,8,ak)),[[ct,u.value]]):oe("",!0),w(Ko)?($(),I("div",lk)):oe("",!0),p("input",{class:"button button--block",type:"submit",value:t.value?w(c)("login.signup"):w(c)("login.submit")},null,8,uk),w(Wp)?($(),I("p",{key:3,onClick:d},S(t.value?w(c)("login.loginInstead"):w(c)("login.createAnAccount")),1)):oe("",!0)],32)],2))}}),Me=Ti("layout",{state:()=>({loading:!1,prompts:[],showShell:!1}),getters:{currentPrompt(e){return e.prompts.length>0?e.prompts[e.prompts.length-1]:null},currentPromptName(){var e;return(e=this.currentPrompt)==null?void 0:e.prompt}},actions:{toggleShell(){this.showShell=!this.showShell},showHover(e){if(typeof e!="object"){this.prompts.push({prompt:e,confirm:null,action:void 0,props:null});return}this.prompts.push({prompt:e.prompt,confirm:e==null?void 0:e.confirm,action:e==null?void 0:e.action,props:e==null?void 0:e.props})},showError(){this.prompts.push({prompt:"error",confirm:null,action:void 0,props:null})},showSuccess(){this.prompts.push({prompt:"success",confirm:null,action:void 0,props:null})},closeHovers(){this.prompts.pop()},clearLayout(){this.$reset()}}}),lt=Ti("file",{state:()=>({req:null,oldReq:null,reload:!1,selected:[],multiple:!1,isFiles:!1}),getters:{selectedCount:e=>e.selected.length,isListing:e=>{var t;return e.isFiles&&((t=e==null?void 0:e.req)==null?void 0:t.isDir)}},actions:{toggleMultiple(){this.multiple=!this.multiple},updateRequest(e){var r;const t=this.selected.map(i=>{var l;return(l=this.req)==null?void 0:l.items[i]});this.oldReq=this.req,this.req=e,this.selected=[],(r=this.req)!=null&&r.items&&(this.selected=this.req.items.filter(i=>t.some(l=>(l==null?void 0:l.url)===i.url)).map(i=>i.index))},removeSelected(e){const t=this.selected.indexOf(e);t!==-1&&this.selected.splice(t,1)},clearFile(){this.$reset()}}}),$m="3.7.7",fk=$m,To=typeof Buffer=="function",Hh=typeof TextDecoder=="function"?new TextDecoder:void 0,jh=typeof TextEncoder=="function"?new TextEncoder:void 0,dk="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",Jo=Array.prototype.slice.call(dk),Ps=(e=>{let t={};return e.forEach((r,i)=>t[r]=i),t})(Jo),hk=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/,Ot=String.fromCharCode.bind(String),qh=typeof Uint8Array.from=="function"?Uint8Array.from.bind(Uint8Array):e=>new Uint8Array(Array.prototype.slice.call(e,0)),Em=e=>e.replace(/=/g,"").replace(/[+\/]/g,t=>t=="+"?"-":"_"),Cm=e=>e.replace(/[^A-Za-z0-9\+\/]/g,""),Tm=e=>{let t,r,i,l,u="";const s=e.length%3;for(let f=0;f<e.length;){if((r=e.charCodeAt(f++))>255||(i=e.charCodeAt(f++))>255||(l=e.charCodeAt(f++))>255)throw new TypeError("invalid character found");t=r<<16|i<<8|l,u+=Jo[t>>18&63]+Jo[t>>12&63]+Jo[t>>6&63]+Jo[t&63]}return s?u.slice(0,s-3)+"===".substring(s):u},Hu=typeof btoa=="function"?e=>btoa(e):To?e=>Buffer.from(e,"binary").toString("base64"):Tm,uu=To?e=>Buffer.from(e).toString("base64"):e=>{let r=[];for(let i=0,l=e.length;i<l;i+=4096)r.push(Ot.apply(null,e.subarray(i,i+4096)));return Hu(r.join(""))},xs=(e,t=!1)=>t?Em(uu(e)):uu(e),pk=e=>{if(e.length<2){var t=e.charCodeAt(0);return t<128?e:t<2048?Ot(192|t>>>6)+Ot(128|t&63):Ot(224|t>>>12&15)+Ot(128|t>>>6&63)+Ot(128|t&63)}else{var t=65536+(e.charCodeAt(0)-55296)*1024+(e.charCodeAt(1)-56320);return Ot(240|t>>>18&7)+Ot(128|t>>>12&63)+Ot(128|t>>>6&63)+Ot(128|t&63)}},vk=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,Am=e=>e.replace(vk,pk),Wh=To?e=>Buffer.from(e,"utf8").toString("base64"):jh?e=>uu(jh.encode(e)):e=>Hu(Am(e)),vo=(e,t=!1)=>t?Em(Wh(e)):Wh(e),Vh=e=>vo(e,!0),mk=/[\xC0-\xDF][\x80-\xBF]|[\xE0-\xEF][\x80-\xBF]{2}|[\xF0-\xF7][\x80-\xBF]{3}/g,gk=e=>{switch(e.length){case 4:var t=(7&e.charCodeAt(0))<<18|(63&e.charCodeAt(1))<<12|(63&e.charCodeAt(2))<<6|63&e.charCodeAt(3),r=t-65536;return Ot((r>>>10)+55296)+Ot((r&1023)+56320);case 3:return Ot((15&e.charCodeAt(0))<<12|(63&e.charCodeAt(1))<<6|63&e.charCodeAt(2));default:return Ot((31&e.charCodeAt(0))<<6|63&e.charCodeAt(1))}},Pm=e=>e.replace(mk,gk),Rm=e=>{if(e=e.replace(/\s+/g,""),!hk.test(e))throw new TypeError("malformed base64.");e+="==".slice(2-(e.length&3));let t,r="",i,l;for(let u=0;u<e.length;)t=Ps[e.charAt(u++)]<<18|Ps[e.charAt(u++)]<<12|(i=Ps[e.charAt(u++)])<<6|(l=Ps[e.charAt(u++)]),r+=i===64?Ot(t>>16&255):l===64?Ot(t>>16&255,t>>8&255):Ot(t>>16&255,t>>8&255,t&255);return r},ju=typeof atob=="function"?e=>atob(Cm(e)):To?e=>Buffer.from(e,"base64").toString("binary"):Rm,km=To?e=>qh(Buffer.from(e,"base64")):e=>qh(ju(e).split("").map(t=>t.charCodeAt(0))),Om=e=>km(Lm(e)),bk=To?e=>Buffer.from(e,"base64").toString("utf8"):Hh?e=>Hh.decode(km(e)):e=>Pm(ju(e)),Lm=e=>Cm(e.replace(/[-_]/g,t=>t=="-"?"+":"/")),cu=e=>bk(Lm(e)),yk=e=>{if(typeof e!="string")return!1;const t=e.replace(/\s+/g,"").replace(/={0,2}$/,"");return!/[^\s0-9a-zA-Z\+/]/.test(t)||!/[^\s0-9a-zA-Z\-_]/.test(t)},Im=e=>({value:e,enumerable:!1,writable:!0,configurable:!0}),xm=function(){const e=(t,r)=>Object.defineProperty(String.prototype,t,Im(r));e("fromBase64",function(){return cu(this)}),e("toBase64",function(t){return vo(this,t)}),e("toBase64URI",function(){return vo(this,!0)}),e("toBase64URL",function(){return vo(this,!0)}),e("toUint8Array",function(){return Om(this)})},Dm=function(){const e=(t,r)=>Object.defineProperty(Uint8Array.prototype,t,Im(r));e("toBase64",function(t){return xs(this,t)}),e("toBase64URI",function(){return xs(this,!0)}),e("toBase64URL",function(){return xs(this,!0)})},_k=()=>{xm(),Dm()},qu={version:$m,VERSION:fk,atob:ju,atobPolyfill:Rm,btoa:Hu,btoaPolyfill:Tm,fromBase64:cu,toBase64:vo,encode:vo,encodeURI:Vh,encodeURL:Vh,utob:Am,btou:Pm,decode:cu,isValid:yk,fromUint8Array:xs,toUint8Array:Om,extendString:xm,extendUint8Array:Dm,extendBuiltins:_k};var wk=function(t,r){if(r=r.split(":")[0],t=+t,!t)return!1;switch(r){case"http":case"ws":return t!==80;case"https":case"wss":return t!==443;case"ftp":return t!==21;case"gopher":return t!==70;case"file":return!1}return t!==0},Wu={},Sk=Object.prototype.hasOwnProperty,$k;function Gh(e){try{return decodeURIComponent(e.replace(/\+/g," "))}catch(t){return null}}function Kh(e){try{return encodeURIComponent(e)}catch(t){return null}}function Ek(e){for(var t=/([^=?#&]+)=?([^&]*)/g,r={},i;i=t.exec(e);){var l=Gh(i[1]),u=Gh(i[2]);l===null||u===null||l in r||(r[l]=u)}return r}function Ck(e,t){t=t||"";var r=[],i,l;typeof t!="string"&&(t="?");for(l in e)if(Sk.call(e,l)){if(i=e[l],!i&&(i===null||i===$k||isNaN(i))&&(i=""),l=Kh(l),i=Kh(i),l===null||i===null)continue;r.push(l+"="+i)}return r.length?t+r.join("&"):""}Wu.stringify=Ck;Wu.parse=Ek;var Um=wk,aa=Wu,Tk=/^[\x00-\x20\u00a0\u1680\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]+/,Bm=/[\n\r\t]/g,Ak=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,Nm=/:\d+$/,Pk=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\\/]+)?([\S\s]*)/i,Rk=/^[a-zA-Z]:/;function Vu(e){return(e||"").toString().replace(Tk,"")}var fu=[["#","hash"],["?","query"],function(t,r){return kn(r.protocol)?t.replace(/\\/g,"/"):t},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d*)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],Qh={hash:1,query:1};function Mm(e){var t;typeof window<"u"?t=window:typeof yn<"u"?t=yn:typeof self<"u"?t=self:t={};var r=t.location||{};e=e||r;var i={},l=typeof e,u;if(e.protocol==="blob:")i=new xn(unescape(e.pathname),{});else if(l==="string"){i=new xn(e,{});for(u in Qh)delete i[u]}else if(l==="object"){for(u in e)u in Qh||(i[u]=e[u]);i.slashes===void 0&&(i.slashes=Ak.test(e.href))}return i}function kn(e){return e==="file:"||e==="ftp:"||e==="http:"||e==="https:"||e==="ws:"||e==="wss:"}function Fm(e,t){e=Vu(e),e=e.replace(Bm,""),t=t||{};var r=Pk.exec(e),i=r[1]?r[1].toLowerCase():"",l=!!r[2],u=!!r[3],s=0,f;return l?u?(f=r[2]+r[3]+r[4],s=r[2].length+r[3].length):(f=r[2]+r[4],s=r[2].length):u?(f=r[3]+r[4],s=r[3].length):f=r[4],i==="file:"?s>=2&&(f=f.slice(2)):kn(i)?f=r[4]:i?l&&(f=f.slice(2)):s>=2&&kn(t.protocol)&&(f=r[4]),{protocol:i,slashes:l||kn(i),slashesCount:s,rest:f}}function kk(e,t){if(e==="")return t;for(var r=(t||"/").split("/").slice(0,-1).concat(e.split("/")),i=r.length,l=r[i-1],u=!1,s=0;i--;)r[i]==="."?r.splice(i,1):r[i]===".."?(r.splice(i,1),s++):s&&(i===0&&(u=!0),r.splice(i,1),s--);return u&&r.unshift(""),(l==="."||l==="..")&&r.push(""),r.join("/")}function xn(e,t,r){if(e=Vu(e),e=e.replace(Bm,""),!(this instanceof xn))return new xn(e,t,r);var i,l,u,s,f,c,d=fu.slice(),v=typeof t,m=this,y=0;for(v!=="object"&&v!=="string"&&(r=t,t=null),r&&typeof r!="function"&&(r=aa.parse),t=Mm(t),l=Fm(e||"",t),i=!l.protocol&&!l.slashes,m.slashes=l.slashes||i&&t.slashes,m.protocol=l.protocol||t.protocol||"",e=l.rest,(l.protocol==="file:"&&(l.slashesCount!==2||Rk.test(e))||!l.slashes&&(l.protocol||l.slashesCount<2||!kn(m.protocol)))&&(d[3]=[/(.*)/,"pathname"]);y<d.length;y++){if(s=d[y],typeof s=="function"){e=s(e,m);continue}u=s[0],c=s[1],u!==u?m[c]=e:typeof u=="string"?(f=u==="@"?e.lastIndexOf(u):e.indexOf(u),~f&&(typeof s[2]=="number"?(m[c]=e.slice(0,f),e=e.slice(f+s[2])):(m[c]=e.slice(f),e=e.slice(0,f)))):(f=u.exec(e))&&(m[c]=f[1],e=e.slice(0,f.index)),m[c]=m[c]||i&&s[3]&&t[c]||"",s[4]&&(m[c]=m[c].toLowerCase())}r&&(m.query=r(m.query)),i&&t.slashes&&m.pathname.charAt(0)!=="/"&&(m.pathname!==""||t.pathname!=="")&&(m.pathname=kk(m.pathname,t.pathname)),m.pathname.charAt(0)!=="/"&&kn(m.protocol)&&(m.pathname="/"+m.pathname),Um(m.port,m.protocol)||(m.host=m.hostname,m.port=""),m.username=m.password="",m.auth&&(f=m.auth.indexOf(":"),~f?(m.username=m.auth.slice(0,f),m.username=encodeURIComponent(decodeURIComponent(m.username)),m.password=m.auth.slice(f+1),m.password=encodeURIComponent(decodeURIComponent(m.password))):m.username=encodeURIComponent(decodeURIComponent(m.auth)),m.auth=m.password?m.username+":"+m.password:m.username),m.origin=m.protocol!=="file:"&&kn(m.protocol)&&m.host?m.protocol+"//"+m.host:"null",m.href=m.toString()}function Ok(e,t,r){var i=this;switch(e){case"query":typeof t=="string"&&t.length&&(t=(r||aa.parse)(t)),i[e]=t;break;case"port":i[e]=t,Um(t,i.protocol)?t&&(i.host=i.hostname+":"+t):(i.host=i.hostname,i[e]="");break;case"hostname":i[e]=t,i.port&&(t+=":"+i.port),i.host=t;break;case"host":i[e]=t,Nm.test(t)?(t=t.split(":"),i.port=t.pop(),i.hostname=t.join(":")):(i.hostname=t,i.port="");break;case"protocol":i.protocol=t.toLowerCase(),i.slashes=!r;break;case"pathname":case"hash":if(t){var l=e==="pathname"?"/":"#";i[e]=t.charAt(0)!==l?l+t:t}else i[e]=t;break;case"username":case"password":i[e]=encodeURIComponent(t);break;case"auth":var u=t.indexOf(":");~u?(i.username=t.slice(0,u),i.username=encodeURIComponent(decodeURIComponent(i.username)),i.password=t.slice(u+1),i.password=encodeURIComponent(decodeURIComponent(i.password))):i.username=encodeURIComponent(decodeURIComponent(t))}for(var s=0;s<fu.length;s++){var f=fu[s];f[4]&&(i[f[1]]=i[f[1]].toLowerCase())}return i.auth=i.password?i.username+":"+i.password:i.username,i.origin=i.protocol!=="file:"&&kn(i.protocol)&&i.host?i.protocol+"//"+i.host:"null",i.href=i.toString(),i}function Lk(e){(!e||typeof e!="function")&&(e=aa.stringify);var t,r=this,i=r.host,l=r.protocol;l&&l.charAt(l.length-1)!==":"&&(l+=":");var u=l+(r.protocol&&r.slashes||kn(r.protocol)?"//":"");return r.username?(u+=r.username,r.password&&(u+=":"+r.password),u+="@"):r.password?(u+=":"+r.password,u+="@"):r.protocol!=="file:"&&kn(r.protocol)&&!i&&r.pathname!=="/"&&(u+="@"),(i[i.length-1]===":"||Nm.test(r.hostname)&&!r.port)&&(i+=":"),u+=i+r.pathname,t=typeof r.query=="object"?e(r.query):r.query,t&&(u+=t.charAt(0)!=="?"?"?"+t:t),r.hash&&(u+=r.hash),u}xn.prototype={set:Ok,toString:Lk};xn.extractProtocol=Fm;xn.location=Mm;xn.trimLeft=Vu;xn.qs=aa;var Ik=xn;const xk=Cu(Ik);function du(e){"@babel/helpers - typeof";return du=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},du(e)}function Dk(e,t,r){return Object.defineProperty(e,"prototype",{writable:!1}),e}function Uk(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Bk(e,t,r){return t=bi(t),Nk(e,Gu()?Reflect.construct(t,r||[],bi(e).constructor):t.apply(e,r))}function Nk(e,t){if(t&&(du(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Mk(e)}function Mk(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Fk(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&gi(e,t)}function hu(e){var t=typeof Map=="function"?new Map:void 0;return hu=function(i){if(i===null||!Hk(i))return i;if(typeof i!="function")throw new TypeError("Super expression must either be null or a function");if(typeof t<"u"){if(t.has(i))return t.get(i);t.set(i,l)}function l(){return zk(i,arguments,bi(this).constructor)}return l.prototype=Object.create(i.prototype,{constructor:{value:l,enumerable:!1,writable:!0,configurable:!0}}),gi(l,i)},hu(e)}function zk(e,t,r){if(Gu())return Reflect.construct.apply(null,arguments);var i=[null];i.push.apply(i,t);var l=new(e.bind.apply(e,i));return r&&gi(l,r.prototype),l}function Gu(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(Gu=function(){return!!e})()}function Hk(e){try{return Function.toString.call(e).indexOf("[native code]")!==-1}catch(t){return typeof e=="function"}}function gi(e,t){return gi=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,l){return i.__proto__=l,i},gi(e,t)}function bi(e){return bi=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},bi(e)}var Rs=function(e){Fk(t,e);function t(r){var i,l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null;if(Uk(this,t),i=Bk(this,t,[r]),i.originalRequest=u,i.originalResponse=s,i.causingError=l,l!=null&&(r+=", caused by ".concat(l.toString())),u!=null){var f=u.getHeader("X-Request-ID")||"n/a",c=u.getMethod(),d=u.getURL(),v=s?s.getStatus():"n/a",m=s?s.getBody()||"":"n/a";r+=", originated from request (method: ".concat(c,", url: ").concat(d,", response code: ").concat(v,", response text: ").concat(m,", request id: ").concat(f,")")}return i.message=r,i}return Dk(t)}(hu(Error));function jk(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=Math.random()*16|0,r=e==="x"?t:t&3|8;return r.toString(16)})}function pu(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */pu=function(){return t};var e,t={},r=Object.prototype,i=r.hasOwnProperty,l=Object.defineProperty||function(P,A,k){P[A]=k.value},u=typeof Symbol=="function"?Symbol:{},s=u.iterator||"@@iterator",f=u.asyncIterator||"@@asyncIterator",c=u.toStringTag||"@@toStringTag";function d(P,A,k){return Object.defineProperty(P,A,{value:k,enumerable:!0,configurable:!0,writable:!0}),P[A]}try{d({},"")}catch(P){d=function(k,q,Y){return k[q]=Y}}function v(P,A,k,q){var Y=A&&A.prototype instanceof T?A:T,X=Object.create(Y.prototype),ge=new ue(q||[]);return l(X,"_invoke",{value:se(P,k,ge)}),X}function m(P,A,k){try{return{type:"normal",arg:P.call(A,k)}}catch(q){return{type:"throw",arg:q}}}t.wrap=v;var y="suspendedStart",E="suspendedYield",R="executing",U="completed",O={};function T(){}function B(){}function M(){}var H={};d(H,s,function(){return this});var j=Object.getPrototypeOf,re=j&&j(j(ae([])));re&&re!==r&&i.call(re,s)&&(H=re);var F=M.prototype=T.prototype=Object.create(H);function J(P){["next","throw","return"].forEach(function(A){d(P,A,function(k){return this._invoke(A,k)})})}function K(P,A){function k(Y,X,ge,Ee){var Ae=m(P[Y],P,X);if(Ae.type!=="throw"){var Ve=Ae.arg,Fe=Ve.value;return Fe&&Mr(Fe)=="object"&&i.call(Fe,"__await")?A.resolve(Fe.__await).then(function(V){k("next",V,ge,Ee)},function(V){k("throw",V,ge,Ee)}):A.resolve(Fe).then(function(V){Ve.value=V,ge(Ve)},function(V){return k("throw",V,ge,Ee)})}Ee(Ae.arg)}var q;l(this,"_invoke",{value:function(X,ge){function Ee(){return new A(function(Ae,Ve){k(X,ge,Ae,Ve)})}return q=q?q.then(Ee,Ee):Ee()}})}function se(P,A,k){var q=y;return function(Y,X){if(q===R)throw new Error("Generator is already running");if(q===U){if(Y==="throw")throw X;return{value:e,done:!0}}for(k.method=Y,k.arg=X;;){var ge=k.delegate;if(ge){var Ee=le(ge,k);if(Ee){if(Ee===O)continue;return Ee}}if(k.method==="next")k.sent=k._sent=k.arg;else if(k.method==="throw"){if(q===y)throw q=U,k.arg;k.dispatchException(k.arg)}else k.method==="return"&&k.abrupt("return",k.arg);q=R;var Ae=m(P,A,k);if(Ae.type==="normal"){if(q=k.done?U:E,Ae.arg===O)continue;return{value:Ae.arg,done:k.done}}Ae.type==="throw"&&(q=U,k.method="throw",k.arg=Ae.arg)}}}function le(P,A){var k=A.method,q=P.iterator[k];if(q===e)return A.delegate=null,k==="throw"&&P.iterator.return&&(A.method="return",A.arg=e,le(P,A),A.method==="throw")||k!=="return"&&(A.method="throw",A.arg=new TypeError("The iterator does not provide a '"+k+"' method")),O;var Y=m(q,P.iterator,A.arg);if(Y.type==="throw")return A.method="throw",A.arg=Y.arg,A.delegate=null,O;var X=Y.arg;return X?X.done?(A[P.resultName]=X.value,A.next=P.nextLoc,A.method!=="return"&&(A.method="next",A.arg=e),A.delegate=null,O):X:(A.method="throw",A.arg=new TypeError("iterator result is not an object"),A.delegate=null,O)}function N(P){var A={tryLoc:P[0]};1 in P&&(A.catchLoc=P[1]),2 in P&&(A.finallyLoc=P[2],A.afterLoc=P[3]),this.tryEntries.push(A)}function W(P){var A=P.completion||{};A.type="normal",delete A.arg,P.completion=A}function ue(P){this.tryEntries=[{tryLoc:"root"}],P.forEach(N,this),this.reset(!0)}function ae(P){if(P||P===""){var A=P[s];if(A)return A.call(P);if(typeof P.next=="function")return P;if(!isNaN(P.length)){var k=-1,q=function Y(){for(;++k<P.length;)if(i.call(P,k))return Y.value=P[k],Y.done=!1,Y;return Y.value=e,Y.done=!0,Y};return q.next=q}}throw new TypeError(Mr(P)+" is not iterable")}return B.prototype=M,l(F,"constructor",{value:M,configurable:!0}),l(M,"constructor",{value:B,configurable:!0}),B.displayName=d(M,c,"GeneratorFunction"),t.isGeneratorFunction=function(P){var A=typeof P=="function"&&P.constructor;return!!A&&(A===B||(A.displayName||A.name)==="GeneratorFunction")},t.mark=function(P){return Object.setPrototypeOf?Object.setPrototypeOf(P,M):(P.__proto__=M,d(P,c,"GeneratorFunction")),P.prototype=Object.create(F),P},t.awrap=function(P){return{__await:P}},J(K.prototype),d(K.prototype,f,function(){return this}),t.AsyncIterator=K,t.async=function(P,A,k,q,Y){Y===void 0&&(Y=Promise);var X=new K(v(P,A,k,q),Y);return t.isGeneratorFunction(A)?X:X.next().then(function(ge){return ge.done?ge.value:X.next()})},J(F),d(F,c,"Generator"),d(F,s,function(){return this}),d(F,"toString",function(){return"[object Generator]"}),t.keys=function(P){var A=Object(P),k=[];for(var q in A)k.push(q);return k.reverse(),function Y(){for(;k.length;){var X=k.pop();if(X in A)return Y.value=X,Y.done=!1,Y}return Y.done=!0,Y}},t.values=ae,ue.prototype={constructor:ue,reset:function(A){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(W),!A)for(var k in this)k.charAt(0)==="t"&&i.call(this,k)&&!isNaN(+k.slice(1))&&(this[k]=e)},stop:function(){this.done=!0;var A=this.tryEntries[0].completion;if(A.type==="throw")throw A.arg;return this.rval},dispatchException:function(A){if(this.done)throw A;var k=this;function q(Ve,Fe){return ge.type="throw",ge.arg=A,k.next=Ve,Fe&&(k.method="next",k.arg=e),!!Fe}for(var Y=this.tryEntries.length-1;Y>=0;--Y){var X=this.tryEntries[Y],ge=X.completion;if(X.tryLoc==="root")return q("end");if(X.tryLoc<=this.prev){var Ee=i.call(X,"catchLoc"),Ae=i.call(X,"finallyLoc");if(Ee&&Ae){if(this.prev<X.catchLoc)return q(X.catchLoc,!0);if(this.prev<X.finallyLoc)return q(X.finallyLoc)}else if(Ee){if(this.prev<X.catchLoc)return q(X.catchLoc,!0)}else{if(!Ae)throw new Error("try statement without catch or finally");if(this.prev<X.finallyLoc)return q(X.finallyLoc)}}}},abrupt:function(A,k){for(var q=this.tryEntries.length-1;q>=0;--q){var Y=this.tryEntries[q];if(Y.tryLoc<=this.prev&&i.call(Y,"finallyLoc")&&this.prev<Y.finallyLoc){var X=Y;break}}X&&(A==="break"||A==="continue")&&X.tryLoc<=k&&k<=X.finallyLoc&&(X=null);var ge=X?X.completion:{};return ge.type=A,ge.arg=k,X?(this.method="next",this.next=X.finallyLoc,O):this.complete(ge)},complete:function(A,k){if(A.type==="throw")throw A.arg;return A.type==="break"||A.type==="continue"?this.next=A.arg:A.type==="return"?(this.rval=this.arg=A.arg,this.method="return",this.next="end"):A.type==="normal"&&k&&(this.next=k),O},finish:function(A){for(var k=this.tryEntries.length-1;k>=0;--k){var q=this.tryEntries[k];if(q.finallyLoc===A)return this.complete(q.completion,q.afterLoc),W(q),O}},catch:function(A){for(var k=this.tryEntries.length-1;k>=0;--k){var q=this.tryEntries[k];if(q.tryLoc===A){var Y=q.completion;if(Y.type==="throw"){var X=Y.arg;W(q)}return X}}throw new Error("illegal catch attempt")},delegateYield:function(A,k,q){return this.delegate={iterator:ae(A),resultName:k,nextLoc:q},this.method==="next"&&(this.arg=e),O}},t}function Yh(e,t,r,i,l,u,s){try{var f=e[u](s),c=f.value}catch(d){r(d);return}f.done?t(c):Promise.resolve(c).then(i,l)}function qk(e){return function(){var t=this,r=arguments;return new Promise(function(i,l){var u=e.apply(t,r);function s(c){Yh(u,i,l,s,f,"next",c)}function f(c){Yh(u,i,l,s,f,"throw",c)}s(void 0)})}}function zm(e,t){return Kk(e)||Gk(e,t)||Vk(e,t)||Wk()}function Wk(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Vk(e,t){if(e){if(typeof e=="string")return Xh(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Xh(e,t)}}function Xh(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,i=new Array(t);r<t;r++)i[r]=e[r];return i}function Gk(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var i,l,u,s,f=[],c=!0,d=!1;try{if(u=(r=r.call(e)).next,t!==0)for(;!(c=(i=u.call(r)).done)&&(f.push(i.value),f.length!==t);c=!0);}catch(v){d=!0,l=v}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(d)throw l}}return f}}function Kk(e){if(Array.isArray(e))return e}function Mr(e){"@babel/helpers - typeof";return Mr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mr(e)}function Jh(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),r.push.apply(r,i)}return r}function uo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Jh(Object(r),!0).forEach(function(i){Qk(e,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Jh(Object(r)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(r,i))})}return e}function Qk(e,t,r){return t=Hm(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Yk(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Zh(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,Hm(i.key),i)}}function Xk(e,t,r){return t&&Zh(e.prototype,t),r&&Zh(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Hm(e){var t=Jk(e,"string");return Mr(t)=="symbol"?t:String(t)}function Jk(e,t){if(Mr(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,t||"default");if(Mr(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var vu="tus-v1",Ds="ietf-draft-03",Zk={endpoint:null,uploadUrl:null,metadata:{},fingerprint:null,uploadSize:null,onProgress:null,onChunkComplete:null,onSuccess:null,onError:null,onUploadUrlAvailable:null,overridePatchMethod:!1,headers:{},addRequestId:!1,onBeforeRequest:null,onAfterResponse:null,onShouldRetry:jm,chunkSize:1/0,retryDelays:[0,1e3,3e3,5e3],parallelUploads:1,parallelUploadBoundaries:null,storeFingerprintForResuming:!0,removeFingerprintOnSuccess:!1,uploadLengthDeferred:!1,uploadDataDuringCreation:!1,urlStorage:null,fileReader:null,httpStack:null,protocol:vu},qs=function(){function e(t,r){Yk(this,e),"resume"in r&&console.log("tus: The `resume` option has been removed in tus-js-client v2. Please use the URL storage API instead."),this.options=r,this.options.chunkSize=Number(this.options.chunkSize),this._urlStorage=this.options.urlStorage,this.file=t,this.url=null,this._req=null,this._fingerprint=null,this._urlStorageKey=null,this._offset=null,this._aborted=!1,this._size=null,this._source=null,this._retryAttempt=0,this._retryTimeout=null,this._offsetBeforeRetry=0,this._parallelUploads=null,this._parallelUploadUrls=null}return Xk(e,[{key:"findPreviousUploads",value:function(){var r=this;return this.options.fingerprint(this.file,this.options).then(function(i){return r._urlStorage.findUploadsByFingerprint(i)})}},{key:"resumeFromPreviousUpload",value:function(r){this.url=r.uploadUrl||null,this._parallelUploadUrls=r.parallelUploadUrls||null,this._urlStorageKey=r.urlStorageKey}},{key:"start",value:function(){var r=this,i=this.file;if(!i){this._emitError(new Error("tus: no file or stream to upload provided"));return}if(![vu,Ds].includes(this.options.protocol)){this._emitError(new Error("tus: unsupported protocol ".concat(this.options.protocol)));return}if(!this.options.endpoint&&!this.options.uploadUrl&&!this.url){this._emitError(new Error("tus: neither an endpoint or an upload URL is provided"));return}var l=this.options.retryDelays;if(l!=null&&Object.prototype.toString.call(l)!=="[object Array]"){this._emitError(new Error("tus: the `retryDelays` option must either be an array or null"));return}if(this.options.parallelUploads>1)for(var u=0,s=["uploadUrl","uploadSize","uploadLengthDeferred"];u<s.length;u++){var f=s[u];if(this.options[f]){this._emitError(new Error("tus: cannot use the ".concat(f," option when parallelUploads is enabled")));return}}if(this.options.parallelUploadBoundaries){if(this.options.parallelUploads<=1){this._emitError(new Error("tus: cannot use the `parallelUploadBoundaries` option when `parallelUploads` is disabled"));return}if(this.options.parallelUploads!==this.options.parallelUploadBoundaries.length){this._emitError(new Error("tus: the `parallelUploadBoundaries` must have the same length as the value of `parallelUploads`"));return}}this.options.fingerprint(i,this.options).then(function(c){return r._fingerprint=c,r._source?r._source:r.options.fileReader.openFile(i,r.options.chunkSize)}).then(function(c){if(r._source=c,r.options.uploadLengthDeferred)r._size=null;else if(r.options.uploadSize!=null){if(r._size=Number(r.options.uploadSize),Number.isNaN(r._size)){r._emitError(new Error("tus: cannot convert `uploadSize` option into a number"));return}}else if(r._size=r._source.size,r._size==null){r._emitError(new Error("tus: cannot automatically derive upload's size from input. Specify it manually using the `uploadSize` option or use the `uploadLengthDeferred` option"));return}r.options.parallelUploads>1||r._parallelUploadUrls!=null?r._startParallelUpload():r._startSingleUpload()}).catch(function(c){r._emitError(c)})}},{key:"_startParallelUpload",value:function(){var r,i=this,l=this._size,u=0;this._parallelUploads=[];var s=this._parallelUploadUrls!=null?this._parallelUploadUrls.length:this.options.parallelUploads,f=(r=this.options.parallelUploadBoundaries)!==null&&r!==void 0?r:tO(this._source.size,s);this._parallelUploadUrls&&f.forEach(function(v,m){v.uploadUrl=i._parallelUploadUrls[m]||null}),this._parallelUploadUrls=new Array(f.length);var c=f.map(function(v,m){var y=0;return i._source.slice(v.start,v.end).then(function(E){var R=E.value;return new Promise(function(U,O){var T=uo(uo({},i.options),{},{uploadUrl:v.uploadUrl||null,storeFingerprintForResuming:!1,removeFingerprintOnSuccess:!1,parallelUploads:1,parallelUploadBoundaries:null,metadata:{},headers:uo(uo({},i.options.headers),{},{"Upload-Concat":"partial"}),onSuccess:U,onError:O,onProgress:function(H){u=u-y+H,y=H,i._emitProgress(u,l)},onUploadUrlAvailable:function(){i._parallelUploadUrls[m]=B.url,i._parallelUploadUrls.filter(function(H){return!!H}).length===f.length&&i._saveUploadInUrlStorage()}}),B=new e(R,T);B.start(),i._parallelUploads.push(B)})})}),d;Promise.all(c).then(function(){d=i._openRequest("POST",i.options.endpoint),d.setHeader("Upload-Concat","final;".concat(i._parallelUploadUrls.join(" ")));var v=ep(i.options.metadata);return v!==""&&d.setHeader("Upload-Metadata",v),i._sendRequest(d,null)}).then(function(v){if(!fo(v.getStatus(),200)){i._emitHttpError(d,v,"tus: unexpected response while creating upload");return}var m=v.getHeader("Location");if(m==null){i._emitHttpError(d,v,"tus: invalid or missing Location header");return}i.url=op(i.options.endpoint,m),"Created upload at ".concat(i.url),i._emitSuccess()}).catch(function(v){i._emitError(v)})}},{key:"_startSingleUpload",value:function(){if(this._aborted=!1,this.url!=null){"Resuming upload from previous URL: ".concat(this.url),this._resumeUpload();return}if(this.options.uploadUrl!=null){"Resuming upload from provided URL: ".concat(this.options.uploadUrl),this.url=this.options.uploadUrl,this._resumeUpload();return}this._createUpload()}},{key:"abort",value:function(r){var i=this;return this._parallelUploads!=null&&this._parallelUploads.forEach(function(l){l.abort(r)}),this._req!==null&&this._req.abort(),this._aborted=!0,this._retryTimeout!=null&&(clearTimeout(this._retryTimeout),this._retryTimeout=null),!r||this.url==null?Promise.resolve():e.terminate(this.url,this.options).then(function(){return i._removeFromUrlStorage()})}},{key:"_emitHttpError",value:function(r,i,l,u){this._emitError(new Rs(l,u,r,i))}},{key:"_emitError",value:function(r){var i=this;if(!this._aborted){if(this.options.retryDelays!=null){var l=this._offset!=null&&this._offset>this._offsetBeforeRetry;if(l&&(this._retryAttempt=0),rp(r,this._retryAttempt,this.options)){var u=this.options.retryDelays[this._retryAttempt++];this._offsetBeforeRetry=this._offset,this._retryTimeout=setTimeout(function(){i.start()},u);return}}if(typeof this.options.onError=="function")this.options.onError(r);else throw r}}},{key:"_emitSuccess",value:function(){this.options.removeFingerprintOnSuccess&&this._removeFromUrlStorage(),typeof this.options.onSuccess=="function"&&this.options.onSuccess()}},{key:"_emitProgress",value:function(r,i){typeof this.options.onProgress=="function"&&this.options.onProgress(r,i)}},{key:"_emitChunkComplete",value:function(r,i,l){typeof this.options.onChunkComplete=="function"&&this.options.onChunkComplete(r,i,l)}},{key:"_createUpload",value:function(){var r=this;if(!this.options.endpoint){this._emitError(new Error("tus: unable to create upload because no endpoint is provided"));return}var i=this._openRequest("POST",this.options.endpoint);this.options.uploadLengthDeferred?i.setHeader("Upload-Defer-Length",1):i.setHeader("Upload-Length",this._size);var l=ep(this.options.metadata);l!==""&&i.setHeader("Upload-Metadata",l);var u;this.options.uploadDataDuringCreation&&!this.options.uploadLengthDeferred?(this._offset=0,u=this._addChunkToRequest(i)):(this.options.protocol===Ds&&i.setHeader("Upload-Complete","?0"),u=this._sendRequest(i,null)),u.then(function(s){if(!fo(s.getStatus(),200)){r._emitHttpError(i,s,"tus: unexpected response while creating upload");return}var f=s.getHeader("Location");if(f==null){r._emitHttpError(i,s,"tus: invalid or missing Location header");return}if(r.url=op(r.options.endpoint,f),"Created upload at ".concat(r.url),typeof r.options.onUploadUrlAvailable=="function"&&r.options.onUploadUrlAvailable(),r._size===0){r._emitSuccess(),r._source.close();return}r._saveUploadInUrlStorage().then(function(){r.options.uploadDataDuringCreation?r._handleUploadResponse(i,s):(r._offset=0,r._performUpload())})}).catch(function(s){r._emitHttpError(i,null,"tus: failed to create upload",s)})}},{key:"_resumeUpload",value:function(){var r=this,i=this._openRequest("HEAD",this.url),l=this._sendRequest(i,null);l.then(function(u){var s=u.getStatus();if(!fo(s,200)){if(s===423){r._emitHttpError(i,u,"tus: upload is currently locked; retry later");return}if(fo(s,400)&&r._removeFromUrlStorage(),!r.options.endpoint){r._emitHttpError(i,u,"tus: unable to resume upload (new upload cannot be created without an endpoint)");return}r.url=null,r._createUpload();return}var f=parseInt(u.getHeader("Upload-Offset"),10);if(Number.isNaN(f)){r._emitHttpError(i,u,"tus: invalid or missing offset value");return}var c=parseInt(u.getHeader("Upload-Length"),10);if(Number.isNaN(c)&&!r.options.uploadLengthDeferred&&r.options.protocol===vu){r._emitHttpError(i,u,"tus: invalid or missing length value");return}typeof r.options.onUploadUrlAvailable=="function"&&r.options.onUploadUrlAvailable(),r._saveUploadInUrlStorage().then(function(){if(f===c){r._emitProgress(c,c),r._emitSuccess();return}r._offset=f,r._performUpload()})}).catch(function(u){r._emitHttpError(i,null,"tus: failed to resume upload",u)})}},{key:"_performUpload",value:function(){var r=this;if(!this._aborted){var i;this.options.overridePatchMethod?(i=this._openRequest("POST",this.url),i.setHeader("X-HTTP-Method-Override","PATCH")):i=this._openRequest("PATCH",this.url),i.setHeader("Upload-Offset",this._offset);var l=this._addChunkToRequest(i);l.then(function(u){if(!fo(u.getStatus(),200)){r._emitHttpError(i,u,"tus: unexpected response while uploading chunk");return}r._handleUploadResponse(i,u)}).catch(function(u){r._aborted||r._emitHttpError(i,null,"tus: failed to upload chunk at offset ".concat(r._offset),u)})}}},{key:"_addChunkToRequest",value:function(r){var i=this,l=this._offset,u=this._offset+this.options.chunkSize;return r.setProgressHandler(function(s){i._emitProgress(l+s,i._size)}),r.setHeader("Content-Type","application/offset+octet-stream"),(u===1/0||u>this._size)&&!this.options.uploadLengthDeferred&&(u=this._size),this._source.slice(l,u).then(function(s){var f=s.value,c=s.done,d=f&&f.size?f.size:0;i.options.uploadLengthDeferred&&c&&(i._size=i._offset+d,r.setHeader("Upload-Length",i._size));var v=i._offset+d;return!i.options.uploadLengthDeferred&&c&&v!==i._size?Promise.reject(new Error("upload was configured with a size of ".concat(i._size," bytes, but the source is done after ").concat(v," bytes"))):f===null?i._sendRequest(r):(i.options.protocol===Ds&&r.setHeader("Upload-Complete",c?"?1":"?0"),i._emitProgress(i._offset,i._size),i._sendRequest(r,f))})}},{key:"_handleUploadResponse",value:function(r,i){var l=parseInt(i.getHeader("Upload-Offset"),10);if(Number.isNaN(l)){this._emitHttpError(r,i,"tus: invalid or missing offset value");return}if(this._emitProgress(l,this._size),this._emitChunkComplete(l-this._offset,l,this._size),this._offset=l,l===this._size){this._emitSuccess(),this._source.close();return}this._performUpload()}},{key:"_openRequest",value:function(r,i){var l=tp(r,i,this.options);return this._req=l,l}},{key:"_removeFromUrlStorage",value:function(){var r=this;this._urlStorageKey&&(this._urlStorage.removeUpload(this._urlStorageKey).catch(function(i){r._emitError(i)}),this._urlStorageKey=null)}},{key:"_saveUploadInUrlStorage",value:function(){var r=this;if(!this.options.storeFingerprintForResuming||!this._fingerprint||this._urlStorageKey!==null)return Promise.resolve();var i={size:this._size,metadata:this.options.metadata,creationTime:new Date().toString()};return this._parallelUploads?i.parallelUploadUrls=this._parallelUploadUrls:i.uploadUrl=this.url,this._urlStorage.addUpload(this._fingerprint,i).then(function(l){r._urlStorageKey=l})}},{key:"_sendRequest",value:function(r){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return np(r,i,this.options)}}],[{key:"terminate",value:function(r){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},l=tp("DELETE",r,i);return np(l,null,i).then(function(u){if(u.getStatus()!==204)throw new Rs("tus: unexpected response while terminating upload",null,l,u)}).catch(function(u){if(u instanceof Rs||(u=new Rs("tus: failed to terminate upload",u,l,null)),!rp(u,0,i))throw u;var s=i.retryDelays[0],f=i.retryDelays.slice(1),c=uo(uo({},i),{},{retryDelays:f});return new Promise(function(d){return setTimeout(d,s)}).then(function(){return e.terminate(r,c)})})}}]),e}();function ep(e){return Object.entries(e).map(function(t){var r=zm(t,2),i=r[0],l=r[1];return"".concat(i," ").concat(qu.encode(String(l)))}).join(",")}function fo(e,t){return e>=t&&e<t+100}function tp(e,t,r){var i=r.httpStack.createRequest(e,t);r.protocol===Ds?i.setHeader("Upload-Draft-Interop-Version","5"):i.setHeader("Tus-Resumable","1.0.0");var l=r.headers||{};if(Object.entries(l).forEach(function(s){var f=zm(s,2),c=f[0],d=f[1];i.setHeader(c,d)}),r.addRequestId){var u=jk();i.setHeader("X-Request-ID",u)}return i}function np(e,t,r){return mu.apply(this,arguments)}function mu(){return mu=qk(pu().mark(function e(t,r,i){var l;return pu().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:if(typeof i.onBeforeRequest!="function"){s.next=3;break}return s.next=3,i.onBeforeRequest(t);case 3:return s.next=5,t.send(r);case 5:if(l=s.sent,typeof i.onAfterResponse!="function"){s.next=9;break}return s.next=9,i.onAfterResponse(t,l);case 9:return s.abrupt("return",l);case 10:case"end":return s.stop()}},e)})),mu.apply(this,arguments)}function eO(){var e=!0;return typeof navigator<"u"&&navigator.onLine===!1&&(e=!1),e}function rp(e,t,r){return r.retryDelays==null||t>=r.retryDelays.length||e.originalRequest==null?!1:r&&typeof r.onShouldRetry=="function"?r.onShouldRetry(e,t,r):jm(e)}function jm(e){var t=e.originalResponse?e.originalResponse.getStatus():0;return(!fo(t,400)||t===409||t===423)&&eO()}function op(e,t){return new xk(t,e).toString()}function tO(e,t){for(var r=Math.floor(e/t),i=[],l=0;l<t;l++)i.push({start:r*l,end:r*(l+1)});return i[t-1].end=e,i}qs.defaultOptions=Zk;function yi(e){"@babel/helpers - typeof";return yi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yi(e)}function nO(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function rO(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,iO(i.key),i)}}function oO(e,t,r){return t&&rO(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function iO(e){var t=sO(e,"string");return yi(t)=="symbol"?t:String(t)}function sO(e,t){if(yi(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,t);if(yi(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var aO=function(){function e(){nO(this,e)}return oO(e,[{key:"listAllUploads",value:function(){return Promise.resolve([])}},{key:"findUploadsByFingerprint",value:function(r){return Promise.resolve([])}},{key:"removeUpload",value:function(r){return Promise.resolve()}},{key:"addUpload",value:function(r,i){return Promise.resolve(null)}}]),e}();function _i(e){"@babel/helpers - typeof";return _i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_i(e)}function lO(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function uO(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,fO(i.key),i)}}function cO(e,t,r){return t&&uO(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function fO(e){var t=dO(e,"string");return _i(t)=="symbol"?t:String(t)}function dO(e,t){if(_i(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,t);if(_i(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var gu=!1;try{gu="localStorage"in window;var Hl="tusSupport",ip=localStorage.getItem(Hl);localStorage.setItem(Hl,ip),ip===null&&localStorage.removeItem(Hl)}catch(e){if(e.code===e.SECURITY_ERR||e.code===e.QUOTA_EXCEEDED_ERR)gu=!1;else throw e}var hO=gu,pO=function(){function e(){lO(this,e)}return cO(e,[{key:"findAllUploads",value:function(){var r=this._findEntries("tus::");return Promise.resolve(r)}},{key:"findUploadsByFingerprint",value:function(r){var i=this._findEntries("tus::".concat(r,"::"));return Promise.resolve(i)}},{key:"removeUpload",value:function(r){return localStorage.removeItem(r),Promise.resolve()}},{key:"addUpload",value:function(r,i){var l=Math.round(Math.random()*1e12),u="tus::".concat(r,"::").concat(l);return localStorage.setItem(u,JSON.stringify(i)),Promise.resolve(u)}},{key:"_findEntries",value:function(r){for(var i=[],l=0;l<localStorage.length;l++){var u=localStorage.key(l);if(u.indexOf(r)===0)try{var s=JSON.parse(localStorage.getItem(u));s.urlStorageKey=u,i.push(s)}catch(f){}}return i}}]),e}();function wi(e){"@babel/helpers - typeof";return wi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wi(e)}function Ku(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function vO(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,mO(i.key),i)}}function Qu(e,t,r){return t&&vO(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function mO(e){var t=gO(e,"string");return wi(t)=="symbol"?t:String(t)}function gO(e,t){if(wi(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,t);if(wi(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var bO=function(){function e(){Ku(this,e)}return Qu(e,[{key:"createRequest",value:function(r,i){return new yO(r,i)}},{key:"getName",value:function(){return"XHRHttpStack"}}]),e}(),yO=function(){function e(t,r){Ku(this,e),this._xhr=new XMLHttpRequest,this._xhr.open(t,r,!0),this._method=t,this._url=r,this._headers={}}return Qu(e,[{key:"getMethod",value:function(){return this._method}},{key:"getURL",value:function(){return this._url}},{key:"setHeader",value:function(r,i){this._xhr.setRequestHeader(r,i),this._headers[r]=i}},{key:"getHeader",value:function(r){return this._headers[r]}},{key:"setProgressHandler",value:function(r){"upload"in this._xhr&&(this._xhr.upload.onprogress=function(i){i.lengthComputable&&r(i.loaded)})}},{key:"send",value:function(){var r=this,i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;return new Promise(function(l,u){r._xhr.onload=function(){l(new _O(r._xhr))},r._xhr.onerror=function(s){u(s)},r._xhr.send(i)})}},{key:"abort",value:function(){return this._xhr.abort(),Promise.resolve()}},{key:"getUnderlyingObject",value:function(){return this._xhr}}]),e}(),_O=function(){function e(t){Ku(this,e),this._xhr=t}return Qu(e,[{key:"getStatus",value:function(){return this._xhr.status}},{key:"getHeader",value:function(r){return this._xhr.getResponseHeader(r)}},{key:"getBody",value:function(){return this._xhr.responseText}},{key:"getUnderlyingObject",value:function(){return this._xhr}}]),e}(),qm=function(){return typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative"};function wO(e){return new Promise(function(t,r){var i=new XMLHttpRequest;i.responseType="blob",i.onload=function(){var l=i.response;t(l)},i.onerror=function(l){r(l)},i.open("GET",e),i.send()})}var SO=function(){return typeof window<"u"&&(typeof window.PhoneGap<"u"||typeof window.Cordova<"u"||typeof window.cordova<"u")};function $O(e){return new Promise(function(t,r){var i=new FileReader;i.onload=function(){var l=new Uint8Array(i.result);t({value:l})},i.onerror=function(l){r(l)},i.readAsArrayBuffer(e)})}function Si(e){"@babel/helpers - typeof";return Si=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Si(e)}function EO(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function CO(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,AO(i.key),i)}}function TO(e,t,r){return t&&CO(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function AO(e){var t=PO(e,"string");return Si(t)=="symbol"?t:String(t)}function PO(e,t){if(Si(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,t);if(Si(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var sp=function(){function e(t){EO(this,e),this._file=t,this.size=t.size}return TO(e,[{key:"slice",value:function(r,i){if(SO())return $O(this._file.slice(r,i));var l=this._file.slice(r,i),u=i>=this.size;return Promise.resolve({value:l,done:u})}},{key:"close",value:function(){}}]),e}();function $i(e){"@babel/helpers - typeof";return $i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$i(e)}function RO(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function kO(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,LO(i.key),i)}}function OO(e,t,r){return t&&kO(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function LO(e){var t=IO(e,"string");return $i(t)=="symbol"?t:String(t)}function IO(e,t){if($i(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,t);if($i(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function ap(e){return e===void 0?0:e.size!==void 0?e.size:e.length}function xO(e,t){if(e.concat)return e.concat(t);if(e instanceof Blob)return new Blob([e,t],{type:e.type});if(e.set){var r=new e.constructor(e.length+t.length);return r.set(e),r.set(t,e.length),r}throw new Error("Unknown data type")}var DO=function(){function e(t){RO(this,e),this._buffer=void 0,this._bufferOffset=0,this._reader=t,this._done=!1}return OO(e,[{key:"slice",value:function(r,i){return r<this._bufferOffset?Promise.reject(new Error("Requested data is before the reader's current offset")):this._readUntilEnoughDataOrDone(r,i)}},{key:"_readUntilEnoughDataOrDone",value:function(r,i){var l=this,u=i<=this._bufferOffset+ap(this._buffer);if(this._done||u){var s=this._getDataFromBuffer(r,i),f=s==null?this._done:!1;return Promise.resolve({value:s,done:f})}return this._reader.read().then(function(c){var d=c.value,v=c.done;return v?l._done=!0:l._buffer===void 0?l._buffer=d:l._buffer=xO(l._buffer,d),l._readUntilEnoughDataOrDone(r,i)})}},{key:"_getDataFromBuffer",value:function(r,i){r>this._bufferOffset&&(this._buffer=this._buffer.slice(r-this._bufferOffset),this._bufferOffset=r);var l=ap(this._buffer)===0;return this._done&&l?null:this._buffer.slice(0,i-r)}},{key:"close",value:function(){this._reader.cancel&&this._reader.cancel()}}]),e}();function Fr(e){"@babel/helpers - typeof";return Fr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fr(e)}function bu(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */bu=function(){return t};var e,t={},r=Object.prototype,i=r.hasOwnProperty,l=Object.defineProperty||function(P,A,k){P[A]=k.value},u=typeof Symbol=="function"?Symbol:{},s=u.iterator||"@@iterator",f=u.asyncIterator||"@@asyncIterator",c=u.toStringTag||"@@toStringTag";function d(P,A,k){return Object.defineProperty(P,A,{value:k,enumerable:!0,configurable:!0,writable:!0}),P[A]}try{d({},"")}catch(P){d=function(k,q,Y){return k[q]=Y}}function v(P,A,k,q){var Y=A&&A.prototype instanceof T?A:T,X=Object.create(Y.prototype),ge=new ue(q||[]);return l(X,"_invoke",{value:se(P,k,ge)}),X}function m(P,A,k){try{return{type:"normal",arg:P.call(A,k)}}catch(q){return{type:"throw",arg:q}}}t.wrap=v;var y="suspendedStart",E="suspendedYield",R="executing",U="completed",O={};function T(){}function B(){}function M(){}var H={};d(H,s,function(){return this});var j=Object.getPrototypeOf,re=j&&j(j(ae([])));re&&re!==r&&i.call(re,s)&&(H=re);var F=M.prototype=T.prototype=Object.create(H);function J(P){["next","throw","return"].forEach(function(A){d(P,A,function(k){return this._invoke(A,k)})})}function K(P,A){function k(Y,X,ge,Ee){var Ae=m(P[Y],P,X);if(Ae.type!=="throw"){var Ve=Ae.arg,Fe=Ve.value;return Fe&&Fr(Fe)=="object"&&i.call(Fe,"__await")?A.resolve(Fe.__await).then(function(V){k("next",V,ge,Ee)},function(V){k("throw",V,ge,Ee)}):A.resolve(Fe).then(function(V){Ve.value=V,ge(Ve)},function(V){return k("throw",V,ge,Ee)})}Ee(Ae.arg)}var q;l(this,"_invoke",{value:function(X,ge){function Ee(){return new A(function(Ae,Ve){k(X,ge,Ae,Ve)})}return q=q?q.then(Ee,Ee):Ee()}})}function se(P,A,k){var q=y;return function(Y,X){if(q===R)throw new Error("Generator is already running");if(q===U){if(Y==="throw")throw X;return{value:e,done:!0}}for(k.method=Y,k.arg=X;;){var ge=k.delegate;if(ge){var Ee=le(ge,k);if(Ee){if(Ee===O)continue;return Ee}}if(k.method==="next")k.sent=k._sent=k.arg;else if(k.method==="throw"){if(q===y)throw q=U,k.arg;k.dispatchException(k.arg)}else k.method==="return"&&k.abrupt("return",k.arg);q=R;var Ae=m(P,A,k);if(Ae.type==="normal"){if(q=k.done?U:E,Ae.arg===O)continue;return{value:Ae.arg,done:k.done}}Ae.type==="throw"&&(q=U,k.method="throw",k.arg=Ae.arg)}}}function le(P,A){var k=A.method,q=P.iterator[k];if(q===e)return A.delegate=null,k==="throw"&&P.iterator.return&&(A.method="return",A.arg=e,le(P,A),A.method==="throw")||k!=="return"&&(A.method="throw",A.arg=new TypeError("The iterator does not provide a '"+k+"' method")),O;var Y=m(q,P.iterator,A.arg);if(Y.type==="throw")return A.method="throw",A.arg=Y.arg,A.delegate=null,O;var X=Y.arg;return X?X.done?(A[P.resultName]=X.value,A.next=P.nextLoc,A.method!=="return"&&(A.method="next",A.arg=e),A.delegate=null,O):X:(A.method="throw",A.arg=new TypeError("iterator result is not an object"),A.delegate=null,O)}function N(P){var A={tryLoc:P[0]};1 in P&&(A.catchLoc=P[1]),2 in P&&(A.finallyLoc=P[2],A.afterLoc=P[3]),this.tryEntries.push(A)}function W(P){var A=P.completion||{};A.type="normal",delete A.arg,P.completion=A}function ue(P){this.tryEntries=[{tryLoc:"root"}],P.forEach(N,this),this.reset(!0)}function ae(P){if(P||P===""){var A=P[s];if(A)return A.call(P);if(typeof P.next=="function")return P;if(!isNaN(P.length)){var k=-1,q=function Y(){for(;++k<P.length;)if(i.call(P,k))return Y.value=P[k],Y.done=!1,Y;return Y.value=e,Y.done=!0,Y};return q.next=q}}throw new TypeError(Fr(P)+" is not iterable")}return B.prototype=M,l(F,"constructor",{value:M,configurable:!0}),l(M,"constructor",{value:B,configurable:!0}),B.displayName=d(M,c,"GeneratorFunction"),t.isGeneratorFunction=function(P){var A=typeof P=="function"&&P.constructor;return!!A&&(A===B||(A.displayName||A.name)==="GeneratorFunction")},t.mark=function(P){return Object.setPrototypeOf?Object.setPrototypeOf(P,M):(P.__proto__=M,d(P,c,"GeneratorFunction")),P.prototype=Object.create(F),P},t.awrap=function(P){return{__await:P}},J(K.prototype),d(K.prototype,f,function(){return this}),t.AsyncIterator=K,t.async=function(P,A,k,q,Y){Y===void 0&&(Y=Promise);var X=new K(v(P,A,k,q),Y);return t.isGeneratorFunction(A)?X:X.next().then(function(ge){return ge.done?ge.value:X.next()})},J(F),d(F,c,"Generator"),d(F,s,function(){return this}),d(F,"toString",function(){return"[object Generator]"}),t.keys=function(P){var A=Object(P),k=[];for(var q in A)k.push(q);return k.reverse(),function Y(){for(;k.length;){var X=k.pop();if(X in A)return Y.value=X,Y.done=!1,Y}return Y.done=!0,Y}},t.values=ae,ue.prototype={constructor:ue,reset:function(A){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(W),!A)for(var k in this)k.charAt(0)==="t"&&i.call(this,k)&&!isNaN(+k.slice(1))&&(this[k]=e)},stop:function(){this.done=!0;var A=this.tryEntries[0].completion;if(A.type==="throw")throw A.arg;return this.rval},dispatchException:function(A){if(this.done)throw A;var k=this;function q(Ve,Fe){return ge.type="throw",ge.arg=A,k.next=Ve,Fe&&(k.method="next",k.arg=e),!!Fe}for(var Y=this.tryEntries.length-1;Y>=0;--Y){var X=this.tryEntries[Y],ge=X.completion;if(X.tryLoc==="root")return q("end");if(X.tryLoc<=this.prev){var Ee=i.call(X,"catchLoc"),Ae=i.call(X,"finallyLoc");if(Ee&&Ae){if(this.prev<X.catchLoc)return q(X.catchLoc,!0);if(this.prev<X.finallyLoc)return q(X.finallyLoc)}else if(Ee){if(this.prev<X.catchLoc)return q(X.catchLoc,!0)}else{if(!Ae)throw new Error("try statement without catch or finally");if(this.prev<X.finallyLoc)return q(X.finallyLoc)}}}},abrupt:function(A,k){for(var q=this.tryEntries.length-1;q>=0;--q){var Y=this.tryEntries[q];if(Y.tryLoc<=this.prev&&i.call(Y,"finallyLoc")&&this.prev<Y.finallyLoc){var X=Y;break}}X&&(A==="break"||A==="continue")&&X.tryLoc<=k&&k<=X.finallyLoc&&(X=null);var ge=X?X.completion:{};return ge.type=A,ge.arg=k,X?(this.method="next",this.next=X.finallyLoc,O):this.complete(ge)},complete:function(A,k){if(A.type==="throw")throw A.arg;return A.type==="break"||A.type==="continue"?this.next=A.arg:A.type==="return"?(this.rval=this.arg=A.arg,this.method="return",this.next="end"):A.type==="normal"&&k&&(this.next=k),O},finish:function(A){for(var k=this.tryEntries.length-1;k>=0;--k){var q=this.tryEntries[k];if(q.finallyLoc===A)return this.complete(q.completion,q.afterLoc),W(q),O}},catch:function(A){for(var k=this.tryEntries.length-1;k>=0;--k){var q=this.tryEntries[k];if(q.tryLoc===A){var Y=q.completion;if(Y.type==="throw"){var X=Y.arg;W(q)}return X}}throw new Error("illegal catch attempt")},delegateYield:function(A,k,q){return this.delegate={iterator:ae(A),resultName:k,nextLoc:q},this.method==="next"&&(this.arg=e),O}},t}function lp(e,t,r,i,l,u,s){try{var f=e[u](s),c=f.value}catch(d){r(d);return}f.done?t(c):Promise.resolve(c).then(i,l)}function UO(e){return function(){var t=this,r=arguments;return new Promise(function(i,l){var u=e.apply(t,r);function s(c){lp(u,i,l,s,f,"next",c)}function f(c){lp(u,i,l,s,f,"throw",c)}s(void 0)})}}function BO(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function NO(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,FO(i.key),i)}}function MO(e,t,r){return t&&NO(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function FO(e){var t=zO(e,"string");return Fr(t)=="symbol"?t:String(t)}function zO(e,t){if(Fr(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,t);if(Fr(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var HO=function(){function e(){BO(this,e)}return MO(e,[{key:"openFile",value:function(){var t=UO(bu().mark(function i(l,u){var s;return bu().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:if(!(qm()&&l&&typeof l.uri<"u")){c.next=11;break}return c.prev=1,c.next=4,wO(l.uri);case 4:return s=c.sent,c.abrupt("return",new sp(s));case 8:throw c.prev=8,c.t0=c.catch(1),new Error("tus: cannot fetch `file.uri` as Blob, make sure the uri is correct and accessible. ".concat(c.t0));case 11:if(!(typeof l.slice=="function"&&typeof l.size<"u")){c.next=13;break}return c.abrupt("return",Promise.resolve(new sp(l)));case 13:if(typeof l.read!="function"){c.next=18;break}if(u=Number(u),Number.isFinite(u)){c.next=17;break}return c.abrupt("return",Promise.reject(new Error("cannot create source for stream without a finite value for the `chunkSize` option")));case 17:return c.abrupt("return",Promise.resolve(new DO(l,u)));case 18:return c.abrupt("return",Promise.reject(new Error("source object may only be an instance of File, Blob, or Reader in this environment")));case 19:case"end":return c.stop()}},i,null,[[1,8]])}));function r(i,l){return t.apply(this,arguments)}return r}()}]),e}();function jO(e,t){return qm()?Promise.resolve(qO(e,t)):Promise.resolve(["tus-br",e.name,e.type,e.size,e.lastModified,t.endpoint].join("-"))}function qO(e,t){var r=e.exif?WO(JSON.stringify(e.exif)):"noexif";return["tus-rn",e.name||"noname",e.size||"nosize",r,t.endpoint].join("/")}function WO(e){var t=0;if(e.length===0)return t;for(var r=0;r<e.length;r++){var i=e.charCodeAt(r);t=(t<<5)-t+i,t&=t}return t}function So(e){"@babel/helpers - typeof";return So=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},So(e)}function VO(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function GO(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,Vm(i.key),i)}}function KO(e,t,r){return r&&GO(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function QO(e,t,r){return t=Ws(t),YO(e,Wm()?Reflect.construct(t,r||[],Ws(e).constructor):t.apply(e,r))}function YO(e,t){if(t&&(So(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return XO(e)}function XO(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Wm(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(Wm=function(){return!!e})()}function Ws(e){return Ws=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ws(e)}function JO(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&yu(e,t)}function yu(e,t){return yu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,l){return i.__proto__=l,i},yu(e,t)}function up(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),r.push.apply(r,i)}return r}function ho(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?up(Object(r),!0).forEach(function(i){ZO(e,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):up(Object(r)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(r,i))})}return e}function ZO(e,t,r){return t=Vm(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Vm(e){var t=eL(e,"string");return So(t)=="symbol"?t:String(t)}function eL(e,t){if(So(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,t||"default");if(So(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var cp=ho(ho({},qs.defaultOptions),{},{httpStack:new bO,fileReader:new HO,urlStorage:hO?new pO:new aO,fingerprint:jO}),tL=function(e){JO(t,e);function t(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return VO(this,t),i=ho(ho({},cp),i),QO(this,t,[r,i])}return KO(t,null,[{key:"terminate",value:function(i){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return l=ho(ho({},cp),l),qs.terminate(i,l)}}]),t}(qs),nL=typeof XMLHttpRequest=="function"&&typeof Blob=="function"&&typeof Blob.prototype.slice=="function";const rL=1e3,fp=2e4,oL=1e3,Gm=.2,iL=1-Gm,sL=5,aL=1024*1024,Lt={};async function lL(e,t="",r=!1,i){if(!Ol)throw new Error("Tus.io settings are not defined");e=tn(e);const l="".concat(y$).concat(e,"?override=").concat(r);await uL(l);const u=yt();return t===""?!1:new Promise((s,f)=>{const c=new tL(t,{uploadUrl:"".concat(Sn).concat(l),chunkSize:Ol.chunkSize,retryDelays:cL(Ol),parallelUploads:1,storeFingerprintForResuming:!1,headers:{"X-Auth":u.jwt},onError:function(d){Lt[e].interval&&clearInterval(Lt[e].interval),delete Lt[e],f(new Error("Upload failed: ".concat(d.message)))},onProgress:function(d){const v=Lt[e];v.currentBytesUploaded=d,v.hasStarted||(v.hasStarted=!0,v.lastProgressTimestamp=Date.now(),v.interval=window.setInterval(()=>{vL(e)},oL)),typeof i=="function"&&i({loaded:d})},onSuccess:function(){Lt[e].interval&&clearInterval(Lt[e].interval),delete Lt[e],s()}});Lt[e]={upload:c,recentSpeeds:[],initialBytesUploaded:0,currentBytesUploaded:0,currentAverageSpeed:0,lastProgressTimestamp:null,sumOfRecentSpeeds:0,hasStarted:!1,interval:void 0},c.start()})}async function uL(e){const t=await dn(e,{method:"POST"});if(t.status!==201)throw new Error("Failed to create an upload: ".concat(t.status," ").concat(t.statusText))}function cL(e){if(!e.retryCount||e.retryCount<1)return;const t=[];let r=0;for(let i=0;i<e.retryCount;i++)t.push(Math.min(r,fp)),r=r===0?rL:Math.min(r*2,fp);return t}async function fL(e){return dL()&&e instanceof Blob}function dL(){return nL===!0}function hL(e,t){if(e.speedMbyte===0)return 1/0;const r=e.sizes.reduce((s,f)=>s+f,0),i=e.progress.reduce((s,f)=>typeof f=="number"?s+f:s,0),l=r-i,u=(t!=null?t:e.speedMbyte)*1024*1024;return l/u}function pL(){const e=zr();let t=0,r=0;for(const u in Lt)t+=Lt[u].currentAverageSpeed,r++;if(r===0)return{speed:0,eta:1/0};const i=t/r,l=hL(e,i);return{speed:i,eta:l}}function vL(e){var d,v;const t=zr(),r=Lt[e],i=(Date.now()-((d=r.lastProgressTimestamp)!=null?d:0))/1e3,u=(r.currentBytesUploaded-r.initialBytesUploaded)/aL/i;r.recentSpeeds.length>=sL&&(r.sumOfRecentSpeeds-=(v=r.recentSpeeds.shift())!=null?v:0),r.recentSpeeds.push(u),r.sumOfRecentSpeeds+=u;const s=r.sumOfRecentSpeeds/r.recentSpeeds.length;r.currentAverageSpeed=Gm*s+iL*r.currentAverageSpeed;const{speed:f,eta:c}=pL();t.setUploadSpeed(f),t.setETA(c),r.initialBytesUploaded=r.currentBytesUploaded,r.lastProgressTimestamp=Date.now()}function mL(){for(const e in Lt)Lt[e].interval&&clearInterval(Lt[e].interval),Lt[e].upload&&Lt[e].upload.abort(!0),delete Lt[e]}async function Vr(e){e=tn(e);const r=await(await dn("/api/resources".concat(e),{})).json();return r.url="/files".concat(e),r.isDir&&(r.url.endsWith("/")||(r.url+="/"),r.items=r.items.map((i,l)=>(i.index=l,i.url="".concat(r.url).concat(encodeURIComponent(i.name)),i.isDir&&(i.url+="/"),i))),r}async function la(e,t,r){e=tn(e);const i={method:t};return r&&(i.body=r),await dn("/api/resources".concat(e),i)}async function dp(e){return la(e,"DELETE")}async function NF(e,t=""){return la(e,"PUT",t)}function hp(e,...t){let r="".concat(Sn,"/api/raw");if(t.length===1)r+=tn(t[0])+"?";else{let l="";for(const u of t)l+=tn(u)+",";l=l.substring(0,l.length-1),l=encodeURIComponent(l),r+="/?files=".concat(l,"&")}e&&(r+="algo=".concat(e,"&"));const i=yt();i.jwt&&(r+="auth=".concat(i.jwt,"&")),window.open(r)}async function Vs(e,t="",r=!1,i=()=>{}){return e.endsWith("/")||t instanceof Blob&&!["http:","https:"].includes(window.location.protocol)||!await fL(t)?gL(e,t,r,i):lL(e,t,r,i)}async function gL(e,t="",r=!1,i){e=tn(e);let l;t instanceof Blob&&!["http:","https:"].includes(window.location.protocol)&&(l=await new Response(t).arrayBuffer());const u=yt();return new Promise((s,f)=>{const c=new XMLHttpRequest;c.open("POST","".concat(Sn,"/api/resources").concat(e,"?override=").concat(r),!0),c.setRequestHeader("X-Auth",u.jwt),typeof i=="function"&&(c.upload.onprogress=i),c.onload=()=>{c.status===200?s(c.responseText):c.status===409?f(c.status):f(c.responseText)},c.onerror=()=>{f(new Error("001 Connection aborted"))},c.send(l||t)})}function Km(e,t=!1,r=!1,i=!1){var u;const l=[];for(const s of e){const f=s.from,c=encodeURIComponent(tn((u=s.to)!=null?u:"")),d="".concat(f,"?action=").concat(t?"copy":"rename","&destination=").concat(c,"&override=").concat(r,"&rename=").concat(i);l.push(la(d,"PATCH"))}return Promise.all(l)}function ua(e,t=!1,r=!1){return Km(e,!1,t,r)}function Qm(e,t=!1,r=!1){return Km(e,!0,t,r)}async function bL(e,t){return(await(await la("".concat(e,"?checksum=").concat(t),"GET")).json()).checksums[t]}function MF(e,t){const r={inline:"true"};return Oi("api/raw"+e.path,r)}function yL(e,t){const r={inline:"true",key:Date.parse(e.modified)};return Oi("api/preview/"+t+e.path,r)}function FF(e){var r;const t={inline:"true"};return(r=e.subtitles)==null?void 0:r.map(i=>Oi("api/subtitle"+i,t))}async function _L(e){return e=tn(e),await(await dn("/api/usage".concat(e),{})).json()}async function wL(){return Co("/api/shares")}async function SL(e){return e=tn(e),Co("/api/share".concat(e))}async function Ym(e){await dn("/api/share/".concat(e),{method:"DELETE"})}async function pp(e,t="",r="",i="hours"){e=tn(e),e="/api/share".concat(e),r!==""&&(e+="?expires=".concat(r,"&unit=").concat(i));let l="{}";return(t!=""||r!==""||i!=="hours")&&(l=JSON.stringify({password:t,expires:r.toString(),unit:i})),Co(e,{method:"POST",body:l})}function Xm(e){return Oi("share/"+e.hash,{},!1)}async function Jm(){return Co("/api/users",{})}async function $L(e){return Co("/api/users/".concat(e),{})}async function EL(e){const t=await dn("/api/users",{method:"POST",body:JSON.stringify({what:"user",which:[],data:e})});if(t.status===201)return t.headers.get("Location");throw new Zn(await t.text(),t.status)}async function Ei(e,t=["all"]){await dn("/api/users/".concat(e.id),{method:"PUT",body:JSON.stringify({what:"user",which:t,data:e})})}async function CL(e){await dn("/api/users/".concat(e),{method:"DELETE"})}function Zm(){return Co("/api/settings",{})}async function TL(e){await dn("/api/settings",{method:"PUT",body:JSON.stringify(e)})}async function AL(e,t=""){e=tn(e);const i=await(await dn("/api/public/share".concat(e),{headers:{"X-SHARE-PASSWORD":encodeURIComponent(t)}},!1)).json();return i.url="/share".concat(e),i.isDir&&(i.url.endsWith("/")||(i.url+="/"),i.items=i.items.map((l,u)=>(l.index=u,l.url="".concat(i.url).concat(encodeURIComponent(l.name)),l.isDir&&(l.url+="/"),l))),i}function vp(e,t,r,...i){let l="".concat(Sn,"/api/public/dl/").concat(t);if(i.length===1)l+=encodeURIComponent(i[0])+"?";else{let u="";for(const s of i)u+=encodeURIComponent(s)+",";u=u.substring(0,u.length-1),u=encodeURIComponent(u),l+="/?files=".concat(u,"&")}e&&(l+="algo=".concat(e,"&")),r&&(l+="token=".concat(r,"&")),window.open(l)}function Us(e,t=!1){const r={...t&&{inline:"true"},...e.token&&{token:e.token}};return Oi("api/public/dl/"+e.hash+e.path,r,!1)}async function PL(e,t){e=tn(e),t=encodeURIComponent(t),e.endsWith("/")||(e+="/");let i=await(await dn("/api/search".concat(e,"?query=").concat(t),{})).json();return i=i.map(l=>(l.url="/files".concat(e)+In.encodePath(l.path),l.dir&&(l.url+="/"),l)),i}const RL=window.location.protocol==="https:",kL=RL?"wss:":"ws:";function OL(e,t,r,i){const l=yt();e=tn(e),e="".concat(kL,"//").concat(window.location.host).concat(Sn,"/api/command").concat(e,"?auth=").concat(l.jwt);const u=new window.WebSocket(e);u.onopen=()=>u.send(t),u.onmessage=r,u.onclose=i}function LL(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Yu=LL,IL=typeof yn=="object"&&yn&&yn.Object===Object&&yn,xL=IL,DL=xL,UL=typeof self=="object"&&self&&self.Object===Object&&self,BL=DL||UL||Function("return this")(),eg=BL,NL=eg,ML=function(){return NL.Date.now()},FL=ML,zL=/\s/;function HL(e){for(var t=e.length;t--&&zL.test(e.charAt(t)););return t}var jL=HL,qL=jL,WL=/^\s+/;function VL(e){return e&&e.slice(0,qL(e)+1).replace(WL,"")}var GL=VL,KL=eg,QL=KL.Symbol,tg=QL,mp=tg,ng=Object.prototype,YL=ng.hasOwnProperty,XL=ng.toString,Vo=mp?mp.toStringTag:void 0;function JL(e){var t=YL.call(e,Vo),r=e[Vo];try{e[Vo]=void 0;var i=!0}catch(u){}var l=XL.call(e);return i&&(t?e[Vo]=r:delete e[Vo]),l}var ZL=JL,eI=Object.prototype,tI=eI.toString;function nI(e){return tI.call(e)}var rI=nI,gp=tg,oI=ZL,iI=rI,sI="[object Null]",aI="[object Undefined]",bp=gp?gp.toStringTag:void 0;function lI(e){return e==null?e===void 0?aI:sI:bp&&bp in Object(e)?oI(e):iI(e)}var uI=lI;function cI(e){return e!=null&&typeof e=="object"}var fI=cI,dI=uI,hI=fI,pI="[object Symbol]";function vI(e){return typeof e=="symbol"||hI(e)&&dI(e)==pI}var mI=vI,gI=GL,yp=Yu,bI=mI,_p=NaN,yI=/^[-+]0x[0-9a-f]+$/i,_I=/^0b[01]+$/i,wI=/^0o[0-7]+$/i,SI=parseInt;function $I(e){if(typeof e=="number")return e;if(bI(e))return _p;if(yp(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=yp(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=gI(e);var r=_I.test(e);return r||wI.test(e)?SI(e.slice(2),r?2:8):yI.test(e)?_p:+e}var EI=$I,CI=Yu,jl=FL,wp=EI,TI="Expected a function",AI=Math.max,PI=Math.min;function RI(e,t,r){var i,l,u,s,f,c,d=0,v=!1,m=!1,y=!0;if(typeof e!="function")throw new TypeError(TI);t=wp(t)||0,CI(r)&&(v=!!r.leading,m="maxWait"in r,u=m?AI(wp(r.maxWait)||0,t):u,y="trailing"in r?!!r.trailing:y);function E(re){var F=i,J=l;return i=l=void 0,d=re,s=e.apply(J,F),s}function R(re){return d=re,f=setTimeout(T,t),v?E(re):s}function U(re){var F=re-c,J=re-d,K=t-F;return m?PI(K,u-J):K}function O(re){var F=re-c,J=re-d;return c===void 0||F>=t||F<0||m&&J>=u}function T(){var re=jl();if(O(re))return B(re);f=setTimeout(T,U(re))}function B(re){return f=void 0,y&&i?E(re):(i=l=void 0,s)}function M(){f!==void 0&&clearTimeout(f),d=0,i=c=l=f=void 0}function H(){return f===void 0?s:B(jl())}function j(){var re=jl(),F=O(re);if(i=arguments,l=this,c=re,F){if(f===void 0)return R(c);if(m)return clearTimeout(f),f=setTimeout(T,t),E(c)}return f===void 0&&(f=setTimeout(T,t)),s}return j.cancel=M,j.flush=H,j}var rg=RI;const zF=Cu(rg);var kI=rg,OI=Yu,LI="Expected a function";function II(e,t,r){var i=!0,l=!0;if(typeof e!="function")throw new TypeError(LI);return OI(r)&&(i="leading"in r?!!r.leading:i,l="trailing"in r?!!r.trailing:l),kI(e,t,{leading:i,maxWait:t,trailing:l})}var xI=II;const _u=Cu(xI);function DI(e){const t=document.querySelector("#".concat(e,"-button > i"));if(t==null){console.log("Error getting button "+e);return}t.innerHTML=="autorenew"||t.innerHTML=="done"||(t.dataset.icon=t.innerHTML,t.style.opacity="0",setTimeout(()=>{t&&(t.classList.add("spin"),t.innerHTML="autorenew",t.style.opacity="1")},100))}function UI(e){const t=document.querySelector("#".concat(e,"-button > i"));if(t==null){console.log("Error getting button "+e);return}t.style.opacity="0",setTimeout(()=>{var r;t!==null&&(t.classList.remove("spin"),t.innerHTML=((r=t==null?void 0:t.dataset)==null?void 0:r.icon)||"",t.style.opacity="1")},100)}function BI(e){const t=document.querySelector("#".concat(e,"-button > i"));if(t==null){console.log("Error getting button "+e);return}t.style.opacity="0",setTimeout(()=>{t!==null&&(t.classList.remove("spin"),t.innerHTML="done",t.style.opacity="1"),setTimeout(()=>{t&&(t.style.opacity="0"),setTimeout(()=>{var r;t!==null&&(t.innerHTML=((r=t==null?void 0:t.dataset)==null?void 0:r.icon)||"",t.style.opacity="1")},100)},500)},100)}const en={loading:DI,done:UI,success:BI},NI=5,Sp=e=>{e.preventDefault()};function $p(e){if(e===0)return"0.00 Bytes";const t=1024,r=["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"],i=Math.floor(Math.log(e)/Math.log(t));return(e/t**i).toFixed(2)+" "+r[i]}const zr=Ti("upload",{state:()=>({id:0,sizes:[],progress:[],queue:[],uploads:{},speedMbyte:0,eta:0,error:null}),getters:{getProgress:e=>{if(e.progress.length===0)return 0;const t=e.sizes.reduce((i,l)=>i+l,0),r=e.progress.reduce((i,l)=>+i+ +l);return Math.ceil(r/t*100)},getProgressDecimal:e=>{if(e.progress.length===0)return 0;const t=e.sizes.reduce((i,l)=>i+l,0);return(e.progress.reduce((i,l)=>+i+ +l)/t*100).toFixed(2)},getTotalProgressBytes:e=>{if(e.progress.length===0||e.sizes.length===0)return"0 Bytes";const t=e.progress.reduce((r,i)=>+r+ +i,0);return $p(t)},getTotalSize:e=>{if(e.sizes.length===0)return"0 Bytes";const t=e.sizes.reduce((r,i)=>r+i,0);return $p(t)},filesInUploadCount:e=>Object.keys(e.uploads).length+e.queue.length,filesInUpload:e=>{const t=[];for(const r in e.uploads){const i=e.uploads[r],l=i.id,u=i.type,s=i.file.name,f=e.sizes[l],c=i.file.isDir,d=c?100:Math.ceil(e.progress[l]/f*100);t.push({id:l,name:s,progress:d,type:u,isDir:c})}return t.sort((r,i)=>r.progress-i.progress)},uploadSpeed:e=>e.speedMbyte,getETA:e=>e.eta},actions:{setProgress({id:e,loaded:t}){this.progress[e]=t},setError(e){this.error=e},reset(){this.id=0,this.sizes=[],this.progress=[],this.queue=[],this.uploads={},this.speedMbyte=0,this.eta=0,this.error=null},addJob(e){this.queue.push(e),this.sizes[this.id]=e.file.size,this.id++},moveJob(){const e=this.queue[0];this.queue.shift(),this.uploads[e.id]=e},removeJob(e){delete this.uploads[e]},upload(e){const t=Object.keys(this.uploads).length,r=this.queue.length==0,i=t==0;r&&i&&(window.addEventListener("beforeunload",Sp),en.loading("upload")),this.addJob(e),this.processUploads()},finishUpload(e){this.setProgress({id:e.id,loaded:e.file.size>0}),this.removeJob(e.id),this.processUploads()},async processUploads(){const e=Object.keys(this.uploads).length,t=e<NI,r=this.queue.length==0,i=e==0,l=r&&i,u=t&&!r;if(l){const s=lt();window.removeEventListener("beforeunload",Sp),en.success("upload"),this.reset(),s.reload=!0}if(u){const s=this.queue[0];if(this.moveJob(),s.file.isDir)await Vs(s.path).catch(this.setError);else{const f=_u(c=>this.setProgress({id:s.id,loaded:c.loaded}),100,{leading:!0,trailing:!1});await Vs(s.path,s.file.file,s.overwrite,f).catch(this.setError)}this.finishUpload(s)}},setUploadSpeed(e){this.speedMbyte=e},setETA(e){this.eta=e},clearUpload(){this.$reset()}}}),pt=(e,t)=>{const r=e.__vccOpts||e;for(const[i,l]of t)r[i]=l;return r};var ql=function(e){return!isNaN(parseFloat(e))&&isFinite(e)};const MI={name:"progress-bar",props:{val:{default:0},max:{default:100},size:{default:3},"bg-color":{type:String,default:"#eee"},"bar-color":{type:String,default:"#2196f3"},"bar-transition":{type:String,default:"all 0.5s ease"},"bar-border-radius":{type:Number,default:0},spacing:{type:Number,default:4},text:{type:String,default:""},"text-align":{type:String,default:"center"},"text-position":{type:String,default:"bottom"},"font-size":{type:Number,default:13},"text-fg-color":{type:String,default:"#222"}},computed:{pct(){var e=this.val/this.max*100;return e=e.toFixed(2),Math.min(e,this.max)},size_px(){switch(this.size){case"tiny":return 2;case"small":return 4;case"medium":return 8;case"large":return 12;case"big":return 16;case"huge":return 32;case"massive":return 64}return ql(this.size)?this.size:32},text_padding(){switch(this.size){case"tiny":case"small":case"medium":case"large":case"big":case"huge":case"massive":return Math.min(Math.max(Math.ceil(this.size_px/8),3),12)}return ql(this.spacing)?this.spacing:4},text_font_size(){switch(this.size){case"tiny":case"small":case"medium":case"large":case"big":case"huge":case"massive":return Math.min(Math.max(Math.ceil(this.size_px*1.4),11),32)}return ql(this.fontSize)?this.fontSize:13},progress_style(){var e={background:this.bgColor};return(this.textPosition=="middle"||this.textPosition=="inside")&&(e.position="relative",e["min-height"]=this.size_px+"px",e["z-index"]="-2"),this.barBorderRadius>0&&(e["border-radius"]=this.barBorderRadius+"px"),e},bar_style(){var e={background:this.barColor,width:this.pct+"%",height:this.size_px+"px",transition:this.barTransition};return this.barBorderRadius>0&&(e["border-radius"]=this.barBorderRadius+"px"),(this.textPosition=="middle"||this.textPosition=="inside")&&(e.position="absolute",e.top="0",e.height="100%",e["min-height"]=this.size_px+"px",e["z-index"]="-1"),e},text_style(){var e={color:this.textFgColor,"font-size":this.text_font_size+"px","text-align":this.textAlign};return(this.textPosition=="top"||this.textPosition=="middle"||this.textPosition=="inside")&&(e["padding-bottom"]=this.text_padding+"px"),(this.textPosition=="bottom"||this.textPosition=="middle"||this.textPosition=="inside")&&(e["padding-top"]=this.text_padding+"px"),e}}};function FI(e,t,r,i,l,u){return $(),I("div",null,[r.text.length>0&&e.textPosition=="top"?($(),I("div",{key:0,class:"vue-simple-progress-text",style:qt(u.text_style)},S(r.text),5)):oe("",!0),p("div",{class:"vue-simple-progress",style:qt(u.progress_style)},[r.text.length>0&&e.textPosition=="middle"?($(),I("div",{key:0,class:"vue-simple-progress-text",style:qt(u.text_style)},S(r.text),5)):oe("",!0),r.text.length>0&&e.textPosition=="inside"?($(),I("div",{key:1,style:qt([{position:"relative",left:"-9999px"},u.text_style])},S(r.text),5)):oe("",!0),p("div",{class:"vue-simple-progress-bar",style:qt(u.bar_style)},[r.text.length>0&&e.textPosition=="inside"?($(),I("div",{key:0,style:qt(u.text_style)},S(r.text),5)):oe("",!0)],4)],4),r.text.length>0&&e.textPosition=="bottom"?($(),I("div",{key:1,class:"vue-simple-progress-text",style:qt(u.text_style)},S(r.text),5)):oe("",!0)])}const zI=pt(MI,[["render",FI]]),HI=["B","kB","MB","GB","TB","PB","EB","ZB","YB"],jI=["B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"],qI=["b","kbit","Mbit","Gbit","Tbit","Pbit","Ebit","Zbit","Ybit"],WI=["b","kibit","Mibit","Gibit","Tibit","Pibit","Eibit","Zibit","Yibit"],Ep=(e,t,r)=>{let i=e;return typeof t=="string"||Array.isArray(t)?i=e.toLocaleString(t,r):(t===!0||r!==void 0)&&(i=e.toLocaleString(void 0,r)),i};function Cp(e,t){if(!Number.isFinite(e))throw new TypeError("Expected a finite number, got ".concat(typeof e,": ").concat(e));t={bits:!1,binary:!1,space:!0,...t};const r=t.bits?t.binary?WI:qI:t.binary?jI:HI,i=t.space?" ":"";if(t.signed&&e===0)return" 0".concat(i).concat(r[0]);const l=e<0,u=l?"-":t.signed?"+":"";l&&(e=-e);let s;if(t.minimumFractionDigits!==void 0&&(s={minimumFractionDigits:t.minimumFractionDigits}),t.maximumFractionDigits!==void 0&&(s={maximumFractionDigits:t.maximumFractionDigits,...s}),e<1){const v=Ep(e,t.locale,s);return u+v+i+r[0]}const f=Math.min(Math.floor(t.binary?Math.log(e)/Math.log(1024):Math.log10(e)/3),r.length-1);e/=(t.binary?1024:1e3)**f,s||(e=e.toPrecision(3));const c=Ep(Number(e),t.locale,s),d=r[f];return u+c+i+d}const Tp={used:"0 B",total:"0 B",usedPercentage:0},VI={name:"sidebar",setup(){return{usage:On(Tp)}},components:{ProgressBar:zI},inject:["$showError"],computed:{...Et(yt,["user","isLoggedIn"]),...Et(lt,["isFiles","reload"]),...Et(Me,["currentPromptName"]),active(){return this.currentPromptName==="sidebar"},signup:()=>Wp,version:()=>g$,disableExternal:()=>qp,disableUsedPercentage:()=>p$,canLogout:()=>!Gp&&Kp},methods:{...Mt(Me,["closeHovers","showHover"]),async fetchUsage(){let e=this.$route.path.endsWith("/")?this.$route.path:this.$route.path+"/",t=Tp;if(this.disableUsedPercentage)return Object.assign(this.usage,t);try{let r=await _L(e);t={used:Cp(r.used,{binary:!0}),total:Cp(r.total,{binary:!0}),usedPercentage:Math.round(r.used/r.total*100)}}catch(r){this.$showError(r)}return Object.assign(this.usage,t)},toRoot(){this.$router.push({path:"/files"}),this.closeHovers()},toSettings(){this.$router.push({path:"/settings"}),this.closeHovers()},help(){this.showHover("help")},logout:wm},watch:{isFiles(e){e&&this.fetchUsage()}}},GI=["aria-label","title"],KI=p("i",{class:"material-icons"},"folder",-1),QI={key:0},YI=["aria-label","title"],XI=p("i",{class:"material-icons"},"create_new_folder",-1),JI=["aria-label","title"],ZI=p("i",{class:"material-icons"},"note_add",-1),ex=["aria-label","title"],tx=p("i",{class:"material-icons"},"settings_applications",-1),nx=["aria-label","title"],rx=p("i",{class:"material-icons"},"exit_to_app",-1),ox=p("i",{class:"material-icons"},"exit_to_app",-1),ix=p("i",{class:"material-icons"},"person_add",-1),sx={key:2,class:"credits",style:{width:"90%",margin:"2em 2.5em 3em 2.5em"}},ax=p("br",null,null,-1),lx={class:"credits"},ux={key:0},cx={key:1,rel:"noopener noreferrer",target:"_blank",href:"https://github.com/filebrowser/filebrowser"};function fx(e,t,r,i,l,u){const s=$t("router-link"),f=$t("progress-bar");return $(),I(We,null,[Te(p("div",{onClick:t[0]||(t[0]=(...c)=>e.closeHovers&&e.closeHovers(...c)),class:"overlay"},null,512),[[xr,u.active]]),p("nav",{class:nt({active:u.active})},[e.isLoggedIn?($(),I(We,{key:0},[p("button",{class:"action",onClick:t[1]||(t[1]=(...c)=>u.toRoot&&u.toRoot(...c)),"aria-label":e.$t("sidebar.myFiles"),title:e.$t("sidebar.myFiles")},[KI,p("span",null,S(e.$t("sidebar.myFiles")),1)],8,GI),e.user.perm.create?($(),I("div",QI,[p("button",{onClick:t[2]||(t[2]=c=>e.showHover("newDir")),class:"action","aria-label":e.$t("sidebar.newFolder"),title:e.$t("sidebar.newFolder")},[XI,p("span",null,S(e.$t("sidebar.newFolder")),1)],8,YI),p("button",{onClick:t[3]||(t[3]=c=>e.showHover("newFile")),class:"action","aria-label":e.$t("sidebar.newFile"),title:e.$t("sidebar.newFile")},[ZI,p("span",null,S(e.$t("sidebar.newFile")),1)],8,JI)])):oe("",!0),p("div",null,[p("button",{class:"action",onClick:t[4]||(t[4]=(...c)=>u.toSettings&&u.toSettings(...c)),"aria-label":e.$t("sidebar.settings"),title:e.$t("sidebar.settings")},[tx,p("span",null,S(e.$t("sidebar.settings")),1)],8,ex),u.canLogout?($(),I("button",{key:0,onClick:t[5]||(t[5]=(...c)=>u.logout&&u.logout(...c)),class:"action",id:"logout","aria-label":e.$t("sidebar.logout"),title:e.$t("sidebar.logout")},[rx,p("span",null,S(e.$t("sidebar.logout")),1)],8,nx)):oe("",!0)])],64)):($(),I(We,{key:1},[Ie(s,{class:"action",to:"/login","aria-label":e.$t("sidebar.login"),title:e.$t("sidebar.login")},{default:it(()=>[ox,p("span",null,S(e.$t("sidebar.login")),1)]),_:1},8,["aria-label","title"]),u.signup?($(),$e(s,{key:0,class:"action",to:"/login","aria-label":e.$t("sidebar.signup"),title:e.$t("sidebar.signup")},{default:it(()=>[ix,p("span",null,S(e.$t("sidebar.signup")),1)]),_:1},8,["aria-label","title"])):oe("",!0)],64)),e.isFiles&&!u.disableUsedPercentage?($(),I("div",sx,[Ie(f,{val:i.usage.usedPercentage,size:"small"},null,8,["val"]),ax,we(" "+S(i.usage.used)+" of "+S(i.usage.total)+" used ",1)])):oe("",!0),p("p",lx,[p("span",null,[u.disableExternal?($(),I("span",ux,"File Browser")):($(),I("a",cx,"File Browser")),p("span",null,S(" ")+" "+S(u.version),1)]),p("span",null,[p("a",{onClick:t[6]||(t[6]=(...c)=>u.help&&u.help(...c))},S(e.$t("sidebar.help")),1)])])],2)],64)}const dx=pt(VI,[["render",fx]]),hx=ke({__name:"BaseModal",setup(e){const t=Me();return(r,i)=>($(),$e(w(hv),{class:"vfm-modal","overlay-transition":"vfm-fade","content-transition":"vfm-fade",onClosed:w(t).closeHovers,"focus-trap":{initialFocus:"#focus-prompt",fallbackFocus:"div.vfm__content"}},{default:it(()=>[mo(r.$slots,"default")]),_:3},8,["onClosed","focus-trap"]))}}),px={name:"help",methods:{...Mt(Me,["closeHovers"])}},vx={class:"card floating help"},mx={class:"card-title"},gx={class:"card-content"},bx=p("strong",null,"F1",-1),yx=p("strong",null,"F2",-1),_x=p("strong",null,"DEL",-1),wx=p("strong",null,"ESC",-1),Sx=p("strong",null,"CTRL + S",-1),$x=p("strong",null,"CTRL + F",-1),Ex=p("strong",null,"CTRL + Click",-1),Cx=p("strong",null,"Click",-1),Tx=p("strong",null,"Double click",-1),Ax={class:"card-action"},Px=["aria-label","title"];function Rx(e,t,r,i,l,u){return $(),I("div",vx,[p("div",mx,[p("h2",null,S(e.$t("help.help")),1)]),p("div",gx,[p("ul",null,[p("li",null,[bx,we(" - "+S(e.$t("help.f1")),1)]),p("li",null,[yx,we(" - "+S(e.$t("help.f2")),1)]),p("li",null,[_x,we(" - "+S(e.$t("help.del")),1)]),p("li",null,[wx,we(" - "+S(e.$t("help.esc")),1)]),p("li",null,[Sx,we(" - "+S(e.$t("help.ctrl.s")),1)]),p("li",null,[$x,we(" - "+S(e.$t("help.ctrl.f")),1)]),p("li",null,[Ex,we(" - "+S(e.$t("help.ctrl.click")),1)]),p("li",null,[Cx,we(" - "+S(e.$t("help.click")),1)]),p("li",null,[Tx,we(" - "+S(e.$t("help.doubleClick")),1)])])]),p("div",Ax,[p("button",{id:"focus-prompt",type:"submit",onClick:t[0]||(t[0]=(...s)=>e.closeHovers&&e.closeHovers(...s)),class:"button button--flat","aria-label":e.$t("buttons.ok"),title:e.$t("buttons.ok"),tabindex:"1"},S(e.$t("buttons.ok")),9,Px)])])}const kx=pt(px,[["render",Rx]]);/**
 * filesize
 *
 * @copyright 2024 Jason Mulligan <jason.mulligan@avoidwork.com>
 * @license BSD-3-Clause
 * @version 10.1.1
 */const Ox="array",Lx="bit",Ap="bits",Ix="byte",Pp="bytes",Kn="",xx="exponent",Dx="function",Rp="iec",Ux="Invalid number",Bx="Invalid rounding method",Wl="jedec",Nx="object",kp=".",og="round",Mx="s",Fx="si",zx="kbit",Hx="kB",ig=" ",sg="string",jx="0",Vl={symbol:{iec:{bits:["bit","Kibit","Mibit","Gibit","Tibit","Pibit","Eibit","Zibit","Yibit"],bytes:["B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"]},jedec:{bits:["bit","Kbit","Mbit","Gbit","Tbit","Pbit","Ebit","Zbit","Ybit"],bytes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"]}},fullform:{iec:["","kibi","mebi","gibi","tebi","pebi","exbi","zebi","yobi"],jedec:["","kilo","mega","giga","tera","peta","exa","zetta","yotta"]}};function qx(e,{bits:t=!1,pad:r=!1,base:i=-1,round:l=2,locale:u=Kn,localeOptions:s={},separator:f=Kn,spacer:c=ig,symbols:d={},standard:v=Kn,output:m=sg,fullform:y=!1,fullforms:E=[],exponent:R=-1,roundingMethod:U=og,precision:O=0}={}){let T=R,B=Number(e),M=[],H=0,j=Kn;v===Fx?(i=10,v=Wl):v===Rp||v===Wl?i=2:i===2?v=Rp:(i=10,v=Wl);const re=i===10?1e3:1024,F=y===!0,J=B<0,K=Math[U];if(typeof e!="bigint"&&isNaN(e))throw new TypeError(Ux);if(typeof K!==Dx)throw new TypeError(Bx);if(J&&(B=-B),(T===-1||isNaN(T))&&(T=Math.floor(Math.log(B)/Math.log(re)),T<0&&(T=0)),T>8&&(O>0&&(O+=8-T),T=8),m===xx)return T;if(B===0)M[0]=0,j=M[1]=Vl.symbol[v][t?Ap:Pp][T];else{H=B/(i===2?Math.pow(2,T*10):Math.pow(1e3,T)),t&&(H=H*8,H>=re&&T<8&&(H=H/re,T++));const se=Math.pow(10,T>0?l:0);M[0]=K(H*se)/se,M[0]===re&&T<8&&R===-1&&(M[0]=1,T++),j=M[1]=i===10&&T===1?t?zx:Hx:Vl.symbol[v][t?Ap:Pp][T]}if(J&&(M[0]=-M[0]),O>0&&(M[0]=M[0].toPrecision(O)),M[1]=d[M[1]]||M[1],u===!0?M[0]=M[0].toLocaleString():u.length>0?M[0]=M[0].toLocaleString(u,s):f.length>0&&(M[0]=M[0].toString().replace(kp,f)),r&&Number.isInteger(M[0])===!1&&l>0){const se=f||kp,le=M[0].toString().split(se),N=le[1]||Kn,W=N.length,ue=l-W;M[0]="".concat(le[0]).concat(se).concat(N.padEnd(W+ue,jx))}return F&&(M[1]=E[T]?E[T]:Vl.fullform[v][T]+(t?Lx:Ix)+(M[0]===1?Kn:Mx)),m===Ox?M:m===Nx?{value:M[0],symbol:M[1],exponent:T,unit:j}:M.join(c)}function Wx({bits:e=!1,pad:t=!1,base:r=-1,round:i=2,locale:l=Kn,localeOptions:u={},separator:s=Kn,spacer:f=ig,symbols:c={},standard:d=Kn,output:v=sg,fullform:m=!1,fullforms:y=[],exponent:E=-1,roundingMethod:R=og,precision:U=0}={}){return O=>qx(O,{bits:e,pad:t,base:r,round:i,locale:l,localeOptions:u,separator:s,spacer:f,symbols:c,standard:d,output:v,fullform:m,fullforms:y,exponent:E,roundingMethod:R,precision:U})}const Gs=Wx({base:2}),Vx={name:"info",inject:["$showError"],computed:{...Et(lt,["req","selected","selectedCount","isListing"]),humanSize:function(){if(this.selectedCount===0||!this.isListing)return Gs(this.req.size);let e=0;for(let t of this.selected)e+=this.req.items[t].size;return Gs(e)},humanTime:function(){return this.selectedCount===0?Ln(this.req.modified).fromNow():Ln(this.req.items[this.selected[0]].modified).fromNow()},modTime:function(){return this.selectedCount===0?new Date(Date.parse(this.req.modified)).toLocaleString():new Date(Date.parse(this.req.items[this.selected[0]].modified)).toLocaleString()},name:function(){return this.selectedCount===0?this.req.name:this.req.items[this.selected[0]].name},dir:function(){return this.selectedCount>1||(this.selectedCount===0?this.req.isDir:this.req.items[this.selected[0]].isDir)},resolution:function(){if(this.selectedCount===1){const e=this.req.items[this.selected[0]];if(e&&e.type==="image")return e.resolution}else if(this.req&&this.req.type==="image")return this.req.resolution;return null}},methods:{...Mt(Me,["closeHovers"]),checksum:async function(e,t){e.preventDefault();let r;this.selectedCount?r=this.req.items[this.selected[0]].url:r=this.$route.path;try{const i=await bL(r,t);e.target.textContent=i}catch(i){this.$showError(i)}}}},Gx={class:"card floating"},Kx={class:"card-title"},Qx={class:"card-content"},Yx={key:0},Xx={key:1,class:"break-word"},Jx={key:2},Zx=p("span",{id:"content_length"},null,-1),e3={key:3},t3=["title"],n3=p("strong",null,"MD5: ",-1),r3=p("strong",null,"SHA1: ",-1),o3=p("strong",null,"SHA256: ",-1),i3=p("strong",null,"SHA512: ",-1),s3={class:"card-action"},a3=["aria-label","title"];function l3(e,t,r,i,l,u){return $(),I("div",Gx,[p("div",Kx,[p("h2",null,S(e.$t("prompts.fileInfo")),1)]),p("div",Qx,[e.selected.length>1?($(),I("p",Yx,S(e.$t("prompts.filesSelected",{count:e.selected.length})),1)):oe("",!0),e.selected.length<2?($(),I("p",Xx,[p("strong",null,S(e.$t("prompts.displayName")),1),we(" "+S(u.name),1)])):oe("",!0),!u.dir||e.selected.length>1?($(),I("p",Jx,[p("strong",null,S(e.$t("prompts.size"))+":",1),Zx,we(" "+S(u.humanSize),1)])):oe("",!0),u.resolution?($(),I("div",e3,[p("strong",null,S(e.$t("prompts.resolution"))+":",1),we(" "+S(u.resolution.width)+" x "+S(u.resolution.height),1)])):oe("",!0),e.selected.length<2?($(),I("p",{key:4,title:u.modTime},[p("strong",null,S(e.$t("prompts.lastModified"))+":",1),we(" "+S(u.humanTime),1)],8,t3)):oe("",!0),u.dir&&e.selected.length===0?($(),I(We,{key:5},[p("p",null,[p("strong",null,S(e.$t("prompts.numberFiles"))+":",1),we(" "+S(e.req.numFiles),1)]),p("p",null,[p("strong",null,S(e.$t("prompts.numberDirs"))+":",1),we(" "+S(e.req.numDirs),1)])],64)):oe("",!0),u.dir?oe("",!0):($(),I(We,{key:6},[p("p",null,[n3,p("code",null,[p("a",{onClick:t[0]||(t[0]=s=>u.checksum(s,"md5")),onKeypress:t[1]||(t[1]=Tt(s=>u.checksum(s,"md5"),["enter"])),tabindex:"2"},S(e.$t("prompts.show")),33)])]),p("p",null,[r3,p("code",null,[p("a",{onClick:t[2]||(t[2]=s=>u.checksum(s,"sha1")),onKeypress:t[3]||(t[3]=Tt(s=>u.checksum(s,"sha1"),["enter"])),tabindex:"3"},S(e.$t("prompts.show")),33)])]),p("p",null,[o3,p("code",null,[p("a",{onClick:t[4]||(t[4]=s=>u.checksum(s,"sha256")),onKeypress:t[5]||(t[5]=Tt(s=>u.checksum(s,"sha256"),["enter"])),tabindex:"4"},S(e.$t("prompts.show")),33)])]),p("p",null,[i3,p("code",null,[p("a",{onClick:t[6]||(t[6]=s=>u.checksum(s,"sha512")),onKeypress:t[7]||(t[7]=Tt(s=>u.checksum(s,"sha512"),["enter"])),tabindex:"5"},S(e.$t("prompts.show")),33)])])],64))]),p("div",s3,[p("button",{id:"focus-prompt",type:"submit",onClick:t[8]||(t[8]=(...s)=>e.closeHovers&&e.closeHovers(...s)),class:"button button--flat","aria-label":e.$t("buttons.ok"),title:e.$t("buttons.ok")},S(e.$t("buttons.ok")),9,a3)])])}const u3=pt(Vx,[["render",l3]]),c3={name:"delete",inject:["$showError"],computed:{...Et(lt,["isListing","selectedCount","req","selected","currentPrompt"]),...ta(lt,["reload"])},methods:{...Mt(Me,["closeHovers"]),submit:async function(){var e;en.loading("delete"),window.sessionStorage.setItem("modified","true");try{if(!this.isListing){await dp(this.$route.path),en.success("delete"),(e=this.currentPrompt)==null||e.confirm(),this.closeHovers();return}if(this.closeHovers(),this.selectedCount===0)return;let t=[];for(let r of this.selected)t.push(dp(this.req.items[r].url));await Promise.all(t),en.success("delete"),this.reload=!0}catch(t){en.done("delete"),this.$showError(t),this.isListing&&(this.reload=!0)}}}},f3={class:"card floating"},d3={class:"card-content"},h3={key:0},p3={key:1},v3={class:"card-action"},m3=["aria-label","title"],g3=["aria-label","title"];function b3(e,t,r,i,l,u){return $(),I("div",f3,[p("div",d3,[!this.isListing||e.selectedCount===1?($(),I("p",h3,S(e.$t("prompts.deleteMessageSingle")),1)):($(),I("p",p3,S(e.$t("prompts.deleteMessageMultiple",{count:e.selectedCount})),1))]),p("div",v3,[p("button",{onClick:t[0]||(t[0]=(...s)=>e.closeHovers&&e.closeHovers(...s)),class:"button button--flat button--grey","aria-label":e.$t("buttons.cancel"),title:e.$t("buttons.cancel"),tabindex:"2"},S(e.$t("buttons.cancel")),9,m3),p("button",{id:"focus-prompt",onClick:t[1]||(t[1]=(...s)=>u.submit&&u.submit(...s)),class:"button button--flat button--red","aria-label":e.$t("buttons.delete"),title:e.$t("buttons.delete"),tabindex:"1"},S(e.$t("buttons.delete")),9,g3)])])}const y3=pt(c3,[["render",b3]]),_3={class:"card floating"},w3={class:"card-content"},S3={class:"card-action"},$3=["aria-label","title"],E3=ke({__name:"DeleteUser",setup(e){const t=Me(),{t:r}=ht();return(i,l)=>($(),I("div",_3,[p("div",w3,[p("p",null,S(w(r)("prompts.deleteUser")),1)]),p("div",S3,[p("button",{id:"focus-prompt",class:"button button--flat button--grey",onClick:l[0]||(l[0]=(...u)=>w(t).closeHovers&&w(t).closeHovers(...u)),"aria-label":w(r)("buttons.cancel"),title:w(r)("buttons.cancel"),tabindex:"1"},S(w(r)("buttons.cancel")),9,$3),p("button",{class:"button button--flat",onClick:l[1]||(l[1]=(...u)=>{var s,f;return((s=w(t).currentPrompt)==null?void 0:s.confirm)&&((f=w(t).currentPrompt)==null?void 0:f.confirm(...u))}),tabindex:"2"},S(w(r)("buttons.delete")),1)])]))}}),C3={class:"card floating",id:"download"},T3={class:"card-title"},A3={class:"card-content"},P3=["onClick"],R3=ke({__name:"Download",setup(e){const t=Me(),{t:r}=ht(),i={zip:"zip",tar:"tar",targz:"tar.gz",tarbz2:"tar.bz2",tarxz:"tar.xz",tarlz4:"tar.lz4",tarsz:"tar.sz"};return(l,u)=>($(),I("div",C3,[p("div",T3,[p("h2",null,S(w(r)("prompts.download")),1)]),p("div",A3,[p("p",null,S(w(r)("prompts.downloadMessage")),1),($(),I(We,null,bt(i,(s,f)=>p("button",{id:"focus-prompt",key:f,class:"button button--block",onClick:c=>{var d;return(d=w(t).currentPrompt)==null?void 0:d.confirm(f)}},S(s),9,P3)),64))])]))}}),k3={name:"rename",data:function(){return{name:""}},created(){this.name=this.oldName()},inject:["$showError"],computed:{...Et(lt,["req","selected","selectedCount","isListing"]),...ta(lt,["reload"])},methods:{...Mt(Me,["closeHovers"]),cancel:function(){this.closeHovers()},oldName:function(){if(!this.isListing)return this.req.name;if(!(this.selectedCount===0||this.selectedCount>1))return this.req.items[this.selected[0]].name},submit:async function(){let e="",t="";this.isListing?e=this.req.items[this.selected[0]].url:e=this.req.url,t=In.removeLastDir(e)+"/"+encodeURIComponent(this.name),window.sessionStorage.setItem("modified","true");try{if(await ua([{from:e,to:t}]),!this.isListing){this.$router.push({path:t});return}this.reload=!0}catch(r){this.$showError(r)}this.closeHovers()}}},O3={class:"card floating"},L3={class:"card-title"},I3={class:"card-content"},x3={class:"card-action"},D3=["aria-label","title"],U3=["aria-label","title"];function B3(e,t,r,i,l,u){return $(),I("div",O3,[p("div",L3,[p("h2",null,S(e.$t("prompts.rename")),1)]),p("div",I3,[p("p",null,[we(S(e.$t("prompts.renameMessage"))+" ",1),p("code",null,S(u.oldName()),1),we(": ")]),Te(p("input",{id:"focus-prompt",class:"input input--block",type:"text",onKeyup:t[0]||(t[0]=Tt((...s)=>u.submit&&u.submit(...s),["enter"])),"onUpdate:modelValue":t[1]||(t[1]=s=>e.name=s)},null,544),[[ct,e.name,void 0,{trim:!0}]])]),p("div",x3,[p("button",{class:"button button--flat button--grey",onClick:t[2]||(t[2]=(...s)=>e.closeHovers&&e.closeHovers(...s)),"aria-label":e.$t("buttons.cancel"),title:e.$t("buttons.cancel")},S(e.$t("buttons.cancel")),9,D3),p("button",{onClick:t[3]||(t[3]=(...s)=>u.submit&&u.submit(...s)),class:"button button--flat",type:"submit","aria-label":e.$t("buttons.rename"),title:e.$t("buttons.rename")},S(e.$t("buttons.rename")),9,U3)])])}const N3=pt(k3,[["render",B3]]),M3={name:"file-list",data:function(){return{items:[],touches:{id:"",count:0},selected:null,current:window.location.pathname}},inject:["$showError"],computed:{...Et(yt,["user"]),...Et(lt,["req"]),nav(){return decodeURIComponent(this.current)}},mounted(){this.fillOptions(this.req)},methods:{fillOptions(e){if(this.current=e.url,this.items=[],this.$emit("update:selected",this.current),e.url!=="/files/"&&this.items.push({name:"..",url:In.removeLastDir(e.url)+"/"}),e.items!==null)for(let t of e.items)t.isDir&&this.items.push({name:t.name,url:t.url})},next:function(e){let t=e.currentTarget.dataset.url;Vr(t).then(this.fillOptions).catch(this.$showError)},touchstart(e){let t=e.currentTarget.dataset.url;if(setTimeout(()=>{this.touches.count=0},300),this.touches.id!==t){this.touches.id=t,this.touches.count=1;return}this.touches.count++,this.touches.count>1&&this.next(e)},itemClick:function(e){this.user.singleClick?this.next(e):this.select(e)},select:function(e){if(this.selected===e.currentTarget.dataset.url){this.selected=null,this.$emit("update:selected",this.current);return}this.selected=e.currentTarget.dataset.url,this.$emit("update:selected",this.selected)},createDir:async function(){this.$store.commit("showHover",{prompt:"newDir",action:null,confirm:null,props:{redirect:!1,base:this.current===this.$route.path?null:this.current}})}}},F3={class:"file-list"},z3=["aria-label","aria-selected","data-url"];function H3(e,t,r,i,l,u){return $(),I("div",null,[p("ul",F3,[($(!0),I(We,null,bt(e.items,s=>($(),I("li",{onClick:t[0]||(t[0]=(...f)=>u.itemClick&&u.itemClick(...f)),onTouchstart:t[1]||(t[1]=(...f)=>u.touchstart&&u.touchstart(...f)),onDblclick:t[2]||(t[2]=(...f)=>u.next&&u.next(...f)),role:"button",tabindex:"0","aria-label":s.name,"aria-selected":e.selected==s.url,key:s.name,"data-url":s.url},S(s.name),41,z3))),128))]),p("p",null,[we(S(e.$t("prompts.currentlyNavigating"))+" ",1),p("code",null,S(u.nav),1),we(". ")])])}const ag=pt(M3,[["render",H3]]);function Ur(e,t){var l;(typeof t>"u"||t===null)&&(t=[]);const r=e[0].fullPath!==void 0,i=new Set;for(let u=0;u<e.length;u++){const s=e[u];let f=s.name;if(r){const c=(l=s.fullPath)==null?void 0:l.split("/");c&&c.length>1&&(f=c[0])}i.add(f)}return t.some(u=>i.has(u.name))}function j3(e){return new Promise(t=>{let r=0;const i=[];if(e.items)for(let s=0;s<e.items.length;s++){const f=e.items[s];if(f.kind==="file"&&typeof f.webkitGetAsEntry=="function"){const c=f.webkitGetAsEntry();c&&l(c)}}else t(e.files);function l(s,f=""){if(s.isFile)r++,s.file(c=>{r--,i.push({file:c,name:c.name,size:c.size,isDir:!1,fullPath:"".concat(f).concat(c.name)}),r===0&&t(i)});else if(s.isDirectory){const c={isDir:!0,size:0,fullPath:"".concat(f).concat(s.name),name:s.name};i.push(c),u(s.createReader(),"".concat(f).concat(s.name))}}function u(s,f){r++,s.readEntries(c=>{if(r--,c.length>0){for(const d of c)l(d,"".concat(f,"/"));u(s,"".concat(f,"/"))}r===0&&t(i)})}})}function q3(e){return e.startsWith("video")?"video":e.startsWith("audio")?"audio":e.startsWith("image")?"image":e.startsWith("pdf")?"pdf":e.startsWith("text")?"text":"blob"}function Qn(e,t,r=!1){const i=zr();for(const l of e){const u=i.id;let s=t;l.fullPath!==void 0?s+=In.encodePath(l.fullPath):s+=In.encodeRFC5987ValueChars(l.name),l.isDir&&(s+="/");const f={id:u,path:s,file:l,overwrite:r,...!l.isDir&&{type:q3(l.file.type)}};i.upload(f)}}const W3={name:"move",components:{FileList:ag},data:function(){return{current:window.location.pathname,dest:null}},inject:["$showError"],computed:{...Et(lt,["req","selected"]),...Et(yt,["user"])},methods:{...Mt(Me,["showHover","closeHovers"]),move:async function(e){e.preventDefault();let t=[];for(let f of this.selected)t.push({from:this.req.items[f].url,to:this.dest+encodeURIComponent(this.req.items[f].name),name:this.req.items[f].name});let r=async(f,c)=>{en.loading("move"),await ua(t,f,c).then(()=>{en.success("move"),this.$router.push({path:this.dest})}).catch(d=>{en.done("move"),this.$showError(d)})},i=(await Vr(this.dest)).items,l=Ur(t,i),u=!1,s=!1;if(l){this.showHover({prompt:"replace-rename",confirm:(f,c)=>{u=c=="overwrite",s=c=="rename",f.preventDefault(),this.closeHovers(),r(u,s)}});return}r(u,s)}}},V3={class:"card floating"},G3={class:"card-title"},K3={class:"card-content"},Q3={class:"card-action",style:{display:"flex","align-items":"center","justify-content":"space-between"}},Y3=["aria-label","title"],X3=["aria-label","title"],J3=["disabled","aria-label","title"];function Z3(e,t,r,i,l,u){const s=$t("file-list");return $(),I("div",V3,[p("div",G3,[p("h2",null,S(e.$t("prompts.move")),1)]),p("div",K3,[Ie(s,{ref:"fileList","onUpdate:selected":t[0]||(t[0]=f=>e.dest=f),tabindex:"1"},null,512)]),p("div",Q3,[e.user.perm.create?($(),I("button",{key:0,class:"button button--flat",onClick:t[1]||(t[1]=f=>e.$refs.fileList.createDir()),"aria-label":e.$t("sidebar.newFolder"),title:e.$t("sidebar.newFolder"),style:{"justify-self":"left"}},[p("span",null,S(e.$t("sidebar.newFolder")),1)],8,Y3)):oe("",!0),p("div",null,[p("button",{class:"button button--flat button--grey",onClick:t[2]||(t[2]=(...f)=>e.closeHovers&&e.closeHovers(...f)),"aria-label":e.$t("buttons.cancel"),title:e.$t("buttons.cancel"),tabindex:"3"},S(e.$t("buttons.cancel")),9,X3),p("button",{id:"focus-prompt",class:"button button--flat",onClick:t[3]||(t[3]=(...f)=>u.move&&u.move(...f)),disabled:e.$route.path===e.dest,"aria-label":e.$t("buttons.move"),title:e.$t("buttons.move"),tabindex:"2"},S(e.$t("buttons.move")),9,J3)])])])}const eD=pt(W3,[["render",Z3]]),tD={name:"copy",components:{FileList:ag},data:function(){return{current:window.location.pathname,dest:null}},inject:["$showError"],computed:{...Et(lt,["req","selected"]),...Et(yt,["user"]),...ta(lt,["reload"])},methods:{...Mt(Me,["showHover","closeHovers"]),copy:async function(e){e.preventDefault();let t=[];for(let f of this.selected)t.push({from:this.req.items[f].url,to:this.dest+encodeURIComponent(this.req.items[f].name),name:this.req.items[f].name});let r=async(f,c)=>{en.loading("copy"),await Qm(t,f,c).then(()=>{if(en.success("copy"),this.$route.path===this.dest){this.reload=!0;return}this.$router.push({path:this.dest})}).catch(d=>{en.done("copy"),this.$showError(d)})};if(this.$route.path===this.dest){this.closeHovers(),r(!1,!0);return}let i=(await Vr(this.dest)).items,l=Ur(t,i),u=!1,s=!1;if(l){this.showHover({prompt:"replace-rename",confirm:(f,c)=>{u=c=="overwrite",s=c=="rename",f.preventDefault(),this.closeHovers(),r(u,s)}});return}r(u,s)}}},nD={class:"card floating"},rD={class:"card-title"},oD={class:"card-content"},iD={class:"card-action",style:{display:"flex","align-items":"center","justify-content":"space-between"}},sD=["aria-label","title"],aD=["aria-label","title"],lD=["aria-label","title"];function uD(e,t,r,i,l,u){const s=$t("file-list");return $(),I("div",nD,[p("div",rD,[p("h2",null,S(e.$t("prompts.copy")),1)]),p("div",oD,[p("p",null,S(e.$t("prompts.copyMessage")),1),Ie(s,{ref:"fileList","onUpdate:selected":t[0]||(t[0]=f=>e.dest=f),tabindex:"1"},null,512)]),p("div",iD,[e.user.perm.create?($(),I("button",{key:0,class:"button button--flat",onClick:t[1]||(t[1]=f=>e.$refs.fileList.createDir()),"aria-label":e.$t("sidebar.newFolder"),title:e.$t("sidebar.newFolder"),style:{"justify-self":"left"}},[p("span",null,S(e.$t("sidebar.newFolder")),1)],8,sD)):oe("",!0),p("div",null,[p("button",{class:"button button--flat button--grey",onClick:t[2]||(t[2]=(...f)=>e.closeHovers&&e.closeHovers(...f)),"aria-label":e.$t("buttons.cancel"),title:e.$t("buttons.cancel"),tabindex:"3"},S(e.$t("buttons.cancel")),9,aD),p("button",{id:"focus-prompt",class:"button button--flat",onClick:t[3]||(t[3]=(...f)=>u.copy&&u.copy(...f)),"aria-label":e.$t("buttons.copy"),title:e.$t("buttons.copy"),tabindex:"2"},S(e.$t("buttons.copy")),9,lD)])])])}const cD=pt(tD,[["render",uD]]),fD={class:"card floating"},dD={class:"card-title"},hD={class:"card-content"},pD={class:"card-action"},vD=["aria-label","title"],mD=["aria-label","title"],gD=ke({__name:"NewFile",setup(e){const t=st("$showError"),r=lt(),i=Me(),l=$n(),u=Ai(),{t:s}=ht(),f=ce(""),c=async d=>{if(d.preventDefault(),f.value==="")return;let v=r.isFiles?l.path+"/":"/";r.isListing||(v=In.removeLastDir(v)+"/"),v+=encodeURIComponent(f.value),v=v.replace("//","/");try{await Vs(v),u.push({path:v})}catch(m){m instanceof Error&&t(m)}i.closeHovers()};return(d,v)=>($(),I("div",fD,[p("div",dD,[p("h2",null,S(w(s)("prompts.newFile")),1)]),p("div",hD,[p("p",null,S(w(s)("prompts.newFileMessage")),1),Te(p("input",{id:"focus-prompt",class:"input input--block",type:"text",onKeyup:Tt(c,["enter"]),"onUpdate:modelValue":v[0]||(v[0]=m=>f.value=m)},null,544),[[ct,f.value,void 0,{trim:!0}]])]),p("div",pD,[p("button",{class:"button button--flat button--grey",onClick:v[1]||(v[1]=(...m)=>w(i).closeHovers&&w(i).closeHovers(...m)),"aria-label":w(s)("buttons.cancel"),title:w(s)("buttons.cancel")},S(w(s)("buttons.cancel")),9,vD),p("button",{class:"button button--flat",onClick:c,"aria-label":w(s)("buttons.create"),title:w(s)("buttons.create")},S(w(s)("buttons.create")),9,mD)])]))}}),bD={class:"card floating"},yD={class:"card-title"},_D={class:"card-content"},wD={class:"card-action"},SD=["aria-label","title"],$D=["aria-label","title"],ED=ke({__name:"NewDir",props:{base:String,redirect:{type:Boolean,default:!0}},setup(e){const t=st("$showError"),r=e,i=lt(),l=Me(),u=$n(),s=Ai(),{t:f}=ht(),c=ce(""),d=async v=>{if(v.preventDefault(),c.value==="")return;let m;r.base?m=r.base:i.isFiles?m=u.path+"/":m="/",i.isListing||(m=In.removeLastDir(m)+"/"),m+=encodeURIComponent(c.value)+"/",m=m.replace("//","/");try{if(await Vs(m),r.redirect)s.push({path:m});else if(!r.base){const y=await Vr(In.removeLastDir(m)+"/");i.updateRequest(y)}}catch(y){y instanceof Error&&t(y)}l.closeHovers()};return(v,m)=>($(),I("div",bD,[p("div",yD,[p("h2",null,S(w(f)("prompts.newDir")),1)]),p("div",_D,[p("p",null,S(w(f)("prompts.newDirMessage")),1),Te(p("input",{id:"focus-prompt",class:"input input--block",type:"text",onKeyup:Tt(d,["enter"]),"onUpdate:modelValue":m[0]||(m[0]=y=>c.value=y),tabindex:"1"},null,544),[[ct,c.value,void 0,{trim:!0}]])]),p("div",wD,[p("button",{class:"button button--flat button--grey",onClick:m[1]||(m[1]=(...y)=>w(l).closeHovers&&w(l).closeHovers(...y)),"aria-label":w(f)("buttons.cancel"),title:w(f)("buttons.cancel"),tabindex:"3"},S(w(f)("buttons.cancel")),9,SD),p("button",{class:"button button--flat","aria-label":v.$t("buttons.create"),title:w(f)("buttons.create"),onClick:d,tabindex:"2"},S(w(f)("buttons.create")),9,$D)])]))}}),CD={name:"replace",computed:{...Et(Me,["currentPrompt"])},methods:{...Mt(Me,["closeHovers"])}},TD={class:"card floating"},AD={class:"card-title"},PD={class:"card-content"},RD={class:"card-action"},kD=["aria-label","title"],OD=["aria-label","title"],LD=["aria-label","title"];function ID(e,t,r,i,l,u){return $(),I("div",TD,[p("div",AD,[p("h2",null,S(e.$t("prompts.replace")),1)]),p("div",PD,[p("p",null,S(e.$t("prompts.replaceMessage")),1)]),p("div",RD,[p("button",{class:"button button--flat button--grey",onClick:t[0]||(t[0]=(...s)=>e.closeHovers&&e.closeHovers(...s)),"aria-label":e.$t("buttons.cancel"),title:e.$t("buttons.cancel"),tabindex:"3"},S(e.$t("buttons.cancel")),9,kD),p("button",{class:"button button--flat button--blue",onClick:t[1]||(t[1]=(...s)=>e.currentPrompt.action&&e.currentPrompt.action(...s)),"aria-label":e.$t("buttons.continue"),title:e.$t("buttons.continue"),tabindex:"2"},S(e.$t("buttons.continue")),9,OD),p("button",{id:"focus-prompt",class:"button button--flat button--red",onClick:t[2]||(t[2]=(...s)=>e.currentPrompt.confirm&&e.currentPrompt.confirm(...s)),"aria-label":e.$t("buttons.replace"),title:e.$t("buttons.replace"),tabindex:"1"},S(e.$t("buttons.replace")),9,LD)])])}const xD=pt(CD,[["render",ID]]),DD={name:"replace-rename",computed:{...Et(Me,["currentPrompt"])},methods:{...Mt(Me,["closeHovers"])}},UD={class:"card floating"},BD={class:"card-title"},ND={class:"card-content"},MD={class:"card-action"},FD=["aria-label","title"],zD=["aria-label","title"],HD=["aria-label","title"];function jD(e,t,r,i,l,u){return $(),I("div",UD,[p("div",BD,[p("h2",null,S(e.$t("prompts.replace")),1)]),p("div",ND,[p("p",null,S(e.$t("prompts.replaceMessage")),1)]),p("div",MD,[p("button",{class:"button button--flat button--grey",onClick:t[0]||(t[0]=(...s)=>e.closeHovers&&e.closeHovers(...s)),"aria-label":e.$t("buttons.cancel"),title:e.$t("buttons.cancel"),tabindex:"3"},S(e.$t("buttons.cancel")),9,FD),p("button",{class:"button button--flat button--blue",onClick:t[1]||(t[1]=s=>e.currentPrompt.confirm(s,"rename")),"aria-label":e.$t("buttons.rename"),title:e.$t("buttons.rename"),tabindex:"2"},S(e.$t("buttons.rename")),9,zD),p("button",{id:"focus-prompt",class:"button button--flat button--red",onClick:t[2]||(t[2]=s=>e.currentPrompt.confirm(s,"overwrite")),"aria-label":e.$t("buttons.replace"),title:e.$t("buttons.replace"),tabindex:"1"},S(e.$t("buttons.replace")),9,HD)])])}const qD=pt(DD,[["render",jD]]);function Xu(e){return new Promise((t,r)=>{if(window.isSecureContext&&typeof navigator.clipboard<"u"&&navigator.permissions!=="undefined")navigator.permissions.query({name:"clipboard-write"}).then(i=>{i.state==="granted"||i.state==="prompt"?navigator.clipboard.writeText(e).then(t).catch(r):r(new Error("Permission not granted!"))}).catch(i=>{navigator.userAgent.indexOf("Firefox")!=-1?navigator.clipboard.writeText(e).then(t).catch(r):r(i)});else if(document.queryCommandSupported&&document.queryCommandSupported("copy")){const i=VD(e),l=document.activeElement||document.body;try{l.appendChild(i),i.focus(),i.select(),document.execCommand("copy"),t()}catch(u){r(u)}finally{l.removeChild(i)}}else r(new Error("None of copying methods are supported by this browser!"))})}const WD={fontSize:"12pt",position:"fixed",top:0,left:0,width:"2em",height:"2em",padding:0,margin:0,border:"none",outline:"none",boxShadow:"none",background:"transparent"},VD=e=>{const t=document.createElement("textarea");return t.value=e,t.setAttribute("readonly",""),Object.assign(t.style,WD),t},GD={name:"share",data:function(){return{time:0,unit:"hours",links:[],clip:null,password:"",listing:!0}},inject:["$showError","$showSuccess"],computed:{...Et(lt,["req","selected","selectedCount","isListing"]),url(){if(!this.isListing)return this.$route.path;if(!(this.selectedCount===0||this.selectedCount>1))return this.req.items[this.selected[0]].url}},async beforeMount(){try{const e=await SL(this.url);this.links=e,this.sort(),this.links.length==0&&(this.listing=!1)}catch(e){this.$showError(e)}},methods:{...Mt(Me,["closeHovers"]),copyToClipboard:function(e){Xu(e).then(()=>{this.$showSuccess(this.$t("success.linkCopied"))},()=>{})},submit:async function(){try{let e=null;this.time?e=await pp(this.url,this.password,this.time,this.unit):e=await pp(this.url,this.password),this.links.push(e),this.sort(),this.time=0,this.unit="hours",this.password="",this.listing=!0}catch(e){this.$showError(e)}},deleteLink:async function(e,t){e.preventDefault();try{await Ym(t.hash),this.links=this.links.filter(r=>r.hash!==t.hash),this.links.length==0&&(this.listing=!1)}catch(r){this.$showError(r)}},humanTime(e){return Ln(e*1e3).fromNow()},buildLink(e){return Xm(e)},hasDownloadLink(){return this.selected.length===1&&!this.req.items[this.selected[0]].isDir},buildDownloadLink(e){return Us(e)},sort(){this.links=this.links.sort((e,t)=>e.expire===0?-1:t.expire===0?1:new Date(e.expire)-new Date(t.expire))},switchListing(){this.links.length==0&&!this.listing&&this.closeHovers(),this.listing=!this.listing}}},KD={class:"card floating",id:"share"},QD={class:"card-title"},YD={class:"card-content"},XD=p("th",null,"#",-1),JD=p("th",null,null,-1),ZD=p("th",null,null,-1),e8={class:"small"},t8=["aria-label","title","onClick"],n8=p("i",{class:"material-icons"},"content_paste",-1),r8=[n8],o8={key:0,class:"small"},i8=["aria-label","title","onClick"],s8=p("i",{class:"material-icons"},"content_paste_go",-1),a8=[s8],l8={class:"small"},u8=["onClick","aria-label","title"],c8=p("i",{class:"material-icons"},"delete",-1),f8=[c8],d8={class:"card-action"},h8=["aria-label","title"],p8=["aria-label","title"],v8={class:"card-content"},m8={class:"input-group input"},g8=["aria-label"],b8={value:"seconds"},y8={value:"minutes"},_8={value:"hours"},w8={value:"days"},S8={class:"card-action"},$8=["aria-label","title"],E8=["aria-label","title"];function C8(e,t,r,i,l,u){const s=$t("vue-number-input");return $(),I("div",KD,[p("div",QD,[p("h2",null,S(e.$t("buttons.share")),1)]),e.listing?($(),I(We,{key:0},[p("div",YD,[p("table",null,[p("tr",null,[XD,p("th",null,S(e.$t("settings.shareDuration")),1),JD,ZD]),($(!0),I(We,null,bt(e.links,f=>($(),I("tr",{key:f.hash},[p("td",null,S(f.hash),1),p("td",null,[f.expire!==0?($(),I(We,{key:0},[we(S(u.humanTime(f.expire)),1)],64)):($(),I(We,{key:1},[we(S(e.$t("permanent")),1)],64))]),p("td",e8,[p("button",{class:"action copy-clipboard","aria-label":e.$t("buttons.copyToClipboard"),title:e.$t("buttons.copyToClipboard"),onClick:c=>u.copyToClipboard(u.buildLink(f))},r8,8,t8)]),u.hasDownloadLink()?($(),I("td",o8,[p("button",{class:"action copy-clipboard","aria-label":e.$t("buttons.copyDownloadLinkToClipboard"),title:e.$t("buttons.copyDownloadLinkToClipboard"),onClick:c=>u.copyToClipboard(u.buildDownloadLink(f))},a8,8,i8)])):oe("",!0),p("td",l8,[p("button",{class:"action",onClick:c=>u.deleteLink(c,f),"aria-label":e.$t("buttons.delete"),title:e.$t("buttons.delete")},f8,8,u8)])]))),128))])]),p("div",d8,[p("button",{class:"button button--flat button--grey",onClick:t[0]||(t[0]=(...f)=>e.closeHovers&&e.closeHovers(...f)),"aria-label":e.$t("buttons.close"),title:e.$t("buttons.close"),tabindex:"2"},S(e.$t("buttons.close")),9,h8),p("button",{id:"focus-prompt",class:"button button--flat button--blue",onClick:t[1]||(t[1]=()=>u.switchListing()),"aria-label":e.$t("buttons.new"),title:e.$t("buttons.new"),tabindex:"1"},S(e.$t("buttons.new")),9,p8)])],64)):($(),I(We,{key:1},[p("div",v8,[p("p",null,S(e.$t("settings.shareDuration")),1),p("div",m8,[Ie(s,{center:"",controls:"",size:"small",max:2147483647,min:0,onKeyup:Tt(u.submit,["enter"]),modelValue:e.time,"onUpdate:modelValue":t[2]||(t[2]=f=>e.time=f),tabindex:"1"},null,8,["onKeyup","modelValue"]),Te(p("select",{class:"right","onUpdate:modelValue":t[3]||(t[3]=f=>e.unit=f),"aria-label":e.$t("time.unit"),tabindex:"2"},[p("option",b8,S(e.$t("time.seconds")),1),p("option",y8,S(e.$t("time.minutes")),1),p("option",_8,S(e.$t("time.hours")),1),p("option",w8,S(e.$t("time.days")),1)],8,g8),[[u$,e.unit]])]),p("p",null,S(e.$t("prompts.optionalPassword")),1),Te(p("input",{class:"input input--block",type:"password","onUpdate:modelValue":t[4]||(t[4]=f=>e.password=f),tabindex:"3"},null,512),[[ct,e.password,void 0,{trim:!0}]])]),p("div",S8,[p("button",{class:"button button--flat button--grey",onClick:t[5]||(t[5]=()=>u.switchListing()),"aria-label":e.$t("buttons.cancel"),title:e.$t("buttons.cancel"),tabindex:"5"},S(e.$t("buttons.cancel")),9,$8),p("button",{id:"focus-prompt",class:"button button--flat button--blue",onClick:t[6]||(t[6]=(...f)=>u.submit&&u.submit(...f)),"aria-label":e.$t("buttons.share"),title:e.$t("buttons.share"),tabindex:"4"},S(e.$t("buttons.share")),9,E8)])],64))])}const T8=pt(GD,[["render",C8]]),A8={name:"share-delete",computed:{...Et(Me,["currentPrompt"])},methods:{...Mt(Me,["closeHovers"]),submit:function(){var e;(e=this.currentPrompt)==null||e.confirm()}}},P8={class:"card floating"},R8={class:"card-content"},k8={class:"card-action"},O8=["aria-label","title"],L8=["aria-label","title"];function I8(e,t,r,i,l,u){return $(),I("div",P8,[p("div",R8,[p("p",null,S(e.$t("prompts.deleteMessageShare",{path:""})),1)]),p("div",k8,[p("button",{onClick:t[0]||(t[0]=(...s)=>e.closeHovers&&e.closeHovers(...s)),class:"button button--flat button--grey","aria-label":e.$t("buttons.cancel"),title:e.$t("buttons.cancel"),tabindex:"2"},S(e.$t("buttons.cancel")),9,O8),p("button",{id:"focus-prompt",onClick:t[1]||(t[1]=(...s)=>u.submit&&u.submit(...s)),class:"button button--flat button--red","aria-label":e.$t("buttons.delete"),title:e.$t("buttons.delete"),tabindex:"1"},S(e.$t("buttons.delete")),9,L8)])])}const x8=pt(A8,[["render",I8]]),D8={class:"card floating"},U8={class:"card-title"},B8={class:"card-content"},N8={class:"card-action full"},M8=p("i",{class:"material-icons"},"insert_drive_file",-1),F8={class:"title"},z8=p("i",{class:"material-icons"},"folder",-1),H8={class:"title"},j8=ke({__name:"Upload",setup(e){const{t}=ht(),r=$n(),i=lt(),l=Me(),u=d=>{var U;l.closeHovers();let v=(U=d.currentTarget)==null?void 0:U.files;if(v===null)return;let m=!!v[0].webkitRelativePath;const y=[];for(let O=0;O<v.length;O++){const T=v[O],B=m?T.webkitRelativePath:void 0;y.push({file:T,name:T.name,size:T.size,isDir:!1,fullPath:B})}let E=r.path.endsWith("/")?r.path:r.path+"/";if(Ur(y,i.req.items)){l.showHover({prompt:"replace",action:O=>{O.preventDefault(),l.closeHovers(),Qn(y,E,!1)},confirm:O=>{O.preventDefault(),l.closeHovers(),Qn(y,E,!0)}});return}Qn(y,E)},s=d=>{const v=document.createElement("input");v.type="file",v.multiple=!0,v.webkitdirectory=d,v.onchange=u,v.click()},f=()=>{s(!1)},c=()=>{s(!0)};return(d,v)=>($(),I("div",D8,[p("div",U8,[p("h2",null,S(w(t)("prompts.upload")),1)]),p("div",B8,[p("p",null,S(w(t)("prompts.uploadMessage")),1)]),p("div",N8,[p("div",{onClick:f,onKeypress:Tt(f,["enter"]),class:"action",id:"focus-prompt",tabindex:"1"},[M8,p("div",F8,S(w(t)("buttons.file")),1)],32),p("div",{onClick:c,onKeypress:Tt(c,["enter"]),class:"action",tabindex:"2"},[z8,p("div",H8,S(w(t)("buttons.folder")),1)],32)])]))}}),q8={name:"discardEditorChanges",methods:{...Mt(Me,["closeHovers"]),...Mt(lt,["updateRequest"]),submit:async function(){this.updateRequest(null);let e=In.removeLastDir(this.$route.path)+"/";this.$router.push({path:e})}}},W8={class:"card floating"},V8={class:"card-content"},G8={class:"card-action"},K8=["aria-label","title"],Q8=["aria-label","title"];function Y8(e,t,r,i,l,u){return $(),I("div",W8,[p("div",V8,[p("p",null,S(e.$t("prompts.discardEditorChanges")),1)]),p("div",G8,[p("button",{class:"button button--flat button--grey",onClick:t[0]||(t[0]=(...s)=>e.closeHovers&&e.closeHovers(...s)),"aria-label":e.$t("buttons.cancel"),title:e.$t("buttons.cancel"),tabindex:"2"},S(e.$t("buttons.cancel")),9,K8),p("button",{id:"focus-prompt",onClick:t[1]||(t[1]=(...s)=>u.submit&&u.submit(...s)),class:"button button--flat button--red","aria-label":e.$t("buttons.discardChanges"),title:e.$t("buttons.discardChanges"),tabindex:"1"},S(e.$t("buttons.discardChanges")),9,Q8)])])}const X8=pt(q8,[["render",Y8]]),J8=ke({__name:"Prompts",setup(e){const t=Me(),{currentPromptName:r}=di(t),i=ce(),l=new Map([["info",u3],["help",kx],["delete",y3],["rename",N3],["move",eD],["copy",cD],["newFile",gD],["newDir",ED],["download",R3],["replace",xD],["replace-rename",qD],["share",T8],["upload",j8],["share-delete",x8],["deleteUser",E3],["discardEditorChanges",X8]]);return Xe(r,u=>{i.value&&(i.value(),i.value=void 0);const s=l.get(u);if(!s)return;const{open:f,close:c}=c2({component:hx,slots:{default:s}});i.value=c,f()}),window.addEventListener("keydown",u=>{t.currentPrompt&&u.key==="Escape"&&(u.stopImmediatePropagation(),t.closeHovers())}),(u,s)=>($(),$e(w(d2)))}});var Ks={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */Ks.exports;(function(e,t){(function(){var r,i="4.17.21",l=200,u="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",s="Expected a function",f="Invalid `variable` option passed into `_.template`",c="__lodash_hash_undefined__",d=500,v="__lodash_placeholder__",m=1,y=2,E=4,R=1,U=2,O=1,T=2,B=4,M=8,H=16,j=32,re=64,F=128,J=256,K=512,se=30,le="...",N=800,W=16,ue=1,ae=2,P=3,A=1/0,k=9007199254740991,q=17976931348623157e292,Y=NaN,X=4294967295,ge=X-1,Ee=X>>>1,Ae=[["ary",F],["bind",O],["bindKey",T],["curry",M],["curryRight",H],["flip",K],["partial",j],["partialRight",re],["rearg",J]],Ve="[object Arguments]",Fe="[object Array]",V="[object AsyncFunction]",he="[object Boolean]",Z="[object Date]",fe="[object DOMException]",ye="[object Error]",De="[object Function]",ee="[object GeneratorFunction]",Q="[object Map]",pe="[object Number]",Se="[object Null]",_e="[object Object]",ft="[object Promise]",Pt="[object Proxy]",xe="[object RegExp]",Je="[object Set]",nn="[object String]",yr="[object Symbol]",xi="[object Undefined]",tr="[object WeakMap]",Di="[object WeakSet]",nr="[object ArrayBuffer]",Un="[object DataView]",je="[object Float32Array]",ca="[object Float64Array]",fa="[object Int8Array]",da="[object Int16Array]",ha="[object Int32Array]",pa="[object Uint8Array]",va="[object Uint8ClampedArray]",ma="[object Uint16Array]",ga="[object Uint32Array]",wg=/\b__p \+= '';/g,Sg=/\b(__p \+=) '' \+/g,$g=/(__e\(.*?\)|\b__t\)) \+\n'';/g,ec=/&(?:amp|lt|gt|quot|#39);/g,tc=/[&<>"']/g,Eg=RegExp(ec.source),Cg=RegExp(tc.source),Tg=/<%-([\s\S]+?)%>/g,Ag=/<%([\s\S]+?)%>/g,nc=/<%=([\s\S]+?)%>/g,Pg=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Rg=/^\w*$/,kg=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ba=/[\\^$.*+?()[\]{}|]/g,Og=RegExp(ba.source),ya=/^\s+/,Lg=/\s/,Ig=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,xg=/\{\n\/\* \[wrapped with (.+)\] \*/,Dg=/,? & /,Ug=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Bg=/[()=,{}\[\]\/\s]/,Ng=/\\(\\)?/g,Mg=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,rc=/\w*$/,Fg=/^[-+]0x[0-9a-f]+$/i,zg=/^0b[01]+$/i,Hg=/^\[object .+?Constructor\]$/,jg=/^0o[0-7]+$/i,qg=/^(?:0|[1-9]\d*)$/,Wg=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Ui=/($^)/,Vg=/['\n\r\u2028\u2029\\]/g,Bi="\\ud800-\\udfff",Gg="\\u0300-\\u036f",Kg="\\ufe20-\\ufe2f",Qg="\\u20d0-\\u20ff",oc=Gg+Kg+Qg,ic="\\u2700-\\u27bf",sc="a-z\\xdf-\\xf6\\xf8-\\xff",Yg="\\xac\\xb1\\xd7\\xf7",Xg="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Jg="\\u2000-\\u206f",Zg=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",ac="A-Z\\xc0-\\xd6\\xd8-\\xde",lc="\\ufe0e\\ufe0f",uc=Yg+Xg+Jg+Zg,_a="[']",eb="["+Bi+"]",cc="["+uc+"]",Ni="["+oc+"]",fc="\\d+",tb="["+ic+"]",dc="["+sc+"]",hc="[^"+Bi+uc+fc+ic+sc+ac+"]",wa="\\ud83c[\\udffb-\\udfff]",nb="(?:"+Ni+"|"+wa+")",pc="[^"+Bi+"]",Sa="(?:\\ud83c[\\udde6-\\uddff]){2}",$a="[\\ud800-\\udbff][\\udc00-\\udfff]",Gr="["+ac+"]",vc="\\u200d",mc="(?:"+dc+"|"+hc+")",rb="(?:"+Gr+"|"+hc+")",gc="(?:"+_a+"(?:d|ll|m|re|s|t|ve))?",bc="(?:"+_a+"(?:D|LL|M|RE|S|T|VE))?",yc=nb+"?",_c="["+lc+"]?",ob="(?:"+vc+"(?:"+[pc,Sa,$a].join("|")+")"+_c+yc+")*",ib="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",sb="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",wc=_c+yc+ob,ab="(?:"+[tb,Sa,$a].join("|")+")"+wc,lb="(?:"+[pc+Ni+"?",Ni,Sa,$a,eb].join("|")+")",ub=RegExp(_a,"g"),cb=RegExp(Ni,"g"),Ea=RegExp(wa+"(?="+wa+")|"+lb+wc,"g"),fb=RegExp([Gr+"?"+dc+"+"+gc+"(?="+[cc,Gr,"$"].join("|")+")",rb+"+"+bc+"(?="+[cc,Gr+mc,"$"].join("|")+")",Gr+"?"+mc+"+"+gc,Gr+"+"+bc,sb,ib,fc,ab].join("|"),"g"),db=RegExp("["+vc+Bi+oc+lc+"]"),hb=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,pb=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],vb=-1,rt={};rt[je]=rt[ca]=rt[fa]=rt[da]=rt[ha]=rt[pa]=rt[va]=rt[ma]=rt[ga]=!0,rt[Ve]=rt[Fe]=rt[nr]=rt[he]=rt[Un]=rt[Z]=rt[ye]=rt[De]=rt[Q]=rt[pe]=rt[_e]=rt[xe]=rt[Je]=rt[nn]=rt[tr]=!1;var et={};et[Ve]=et[Fe]=et[nr]=et[Un]=et[he]=et[Z]=et[je]=et[ca]=et[fa]=et[da]=et[ha]=et[Q]=et[pe]=et[_e]=et[xe]=et[Je]=et[nn]=et[yr]=et[pa]=et[va]=et[ma]=et[ga]=!0,et[ye]=et[De]=et[tr]=!1;var mb={:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"},gb={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},bb={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},yb={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},_b=parseFloat,wb=parseInt,Sc=typeof yn=="object"&&yn&&yn.Object===Object&&yn,Sb=typeof self=="object"&&self&&self.Object===Object&&self,Rt=Sc||Sb||Function("return this")(),Ca=t&&!t.nodeType&&t,_r=Ca&&!0&&e&&!e.nodeType&&e,$c=_r&&_r.exports===Ca,Ta=$c&&Sc.process,rn=function(){try{var x=_r&&_r.require&&_r.require("util").types;return x||Ta&&Ta.binding&&Ta.binding("util")}catch(G){}}(),Ec=rn&&rn.isArrayBuffer,Cc=rn&&rn.isDate,Tc=rn&&rn.isMap,Ac=rn&&rn.isRegExp,Pc=rn&&rn.isSet,Rc=rn&&rn.isTypedArray;function Vt(x,G,z){switch(z.length){case 0:return x.call(G);case 1:return x.call(G,z[0]);case 2:return x.call(G,z[0],z[1]);case 3:return x.call(G,z[0],z[1],z[2])}return x.apply(G,z)}function $b(x,G,z,me){for(var Oe=-1,Ge=x==null?0:x.length;++Oe<Ge;){var _t=x[Oe];G(me,_t,z(_t),x)}return me}function on(x,G){for(var z=-1,me=x==null?0:x.length;++z<me&&G(x[z],z,x)!==!1;);return x}function Eb(x,G){for(var z=x==null?0:x.length;z--&&G(x[z],z,x)!==!1;);return x}function kc(x,G){for(var z=-1,me=x==null?0:x.length;++z<me;)if(!G(x[z],z,x))return!1;return!0}function rr(x,G){for(var z=-1,me=x==null?0:x.length,Oe=0,Ge=[];++z<me;){var _t=x[z];G(_t,z,x)&&(Ge[Oe++]=_t)}return Ge}function Mi(x,G){var z=x==null?0:x.length;return!!z&&Kr(x,G,0)>-1}function Aa(x,G,z){for(var me=-1,Oe=x==null?0:x.length;++me<Oe;)if(z(G,x[me]))return!0;return!1}function at(x,G){for(var z=-1,me=x==null?0:x.length,Oe=Array(me);++z<me;)Oe[z]=G(x[z],z,x);return Oe}function or(x,G){for(var z=-1,me=G.length,Oe=x.length;++z<me;)x[Oe+z]=G[z];return x}function Pa(x,G,z,me){var Oe=-1,Ge=x==null?0:x.length;for(me&&Ge&&(z=x[++Oe]);++Oe<Ge;)z=G(z,x[Oe],Oe,x);return z}function Cb(x,G,z,me){var Oe=x==null?0:x.length;for(me&&Oe&&(z=x[--Oe]);Oe--;)z=G(z,x[Oe],Oe,x);return z}function Ra(x,G){for(var z=-1,me=x==null?0:x.length;++z<me;)if(G(x[z],z,x))return!0;return!1}var Tb=ka("length");function Ab(x){return x.split("")}function Pb(x){return x.match(Ug)||[]}function Oc(x,G,z){var me;return z(x,function(Oe,Ge,_t){if(G(Oe,Ge,_t))return me=Ge,!1}),me}function Fi(x,G,z,me){for(var Oe=x.length,Ge=z+(me?1:-1);me?Ge--:++Ge<Oe;)if(G(x[Ge],Ge,x))return Ge;return-1}function Kr(x,G,z){return G===G?Fb(x,G,z):Fi(x,Lc,z)}function Rb(x,G,z,me){for(var Oe=z-1,Ge=x.length;++Oe<Ge;)if(me(x[Oe],G))return Oe;return-1}function Lc(x){return x!==x}function Ic(x,G){var z=x==null?0:x.length;return z?La(x,G)/z:Y}function ka(x){return function(G){return G==null?r:G[x]}}function Oa(x){return function(G){return x==null?r:x[G]}}function xc(x,G,z,me,Oe){return Oe(x,function(Ge,_t,Ze){z=me?(me=!1,Ge):G(z,Ge,_t,Ze)}),z}function kb(x,G){var z=x.length;for(x.sort(G);z--;)x[z]=x[z].value;return x}function La(x,G){for(var z,me=-1,Oe=x.length;++me<Oe;){var Ge=G(x[me]);Ge!==r&&(z=z===r?Ge:z+Ge)}return z}function Ia(x,G){for(var z=-1,me=Array(x);++z<x;)me[z]=G(z);return me}function Ob(x,G){return at(G,function(z){return[z,x[z]]})}function Dc(x){return x&&x.slice(0,Mc(x)+1).replace(ya,"")}function Gt(x){return function(G){return x(G)}}function xa(x,G){return at(G,function(z){return x[z]})}function Ao(x,G){return x.has(G)}function Uc(x,G){for(var z=-1,me=x.length;++z<me&&Kr(G,x[z],0)>-1;);return z}function Bc(x,G){for(var z=x.length;z--&&Kr(G,x[z],0)>-1;);return z}function Lb(x,G){for(var z=x.length,me=0;z--;)x[z]===G&&++me;return me}var Ib=Oa(mb),xb=Oa(gb);function Db(x){return"\\"+yb[x]}function Ub(x,G){return x==null?r:x[G]}function Qr(x){return db.test(x)}function Bb(x){return hb.test(x)}function Nb(x){for(var G,z=[];!(G=x.next()).done;)z.push(G.value);return z}function Da(x){var G=-1,z=Array(x.size);return x.forEach(function(me,Oe){z[++G]=[Oe,me]}),z}function Nc(x,G){return function(z){return x(G(z))}}function ir(x,G){for(var z=-1,me=x.length,Oe=0,Ge=[];++z<me;){var _t=x[z];(_t===G||_t===v)&&(x[z]=v,Ge[Oe++]=z)}return Ge}function zi(x){var G=-1,z=Array(x.size);return x.forEach(function(me){z[++G]=me}),z}function Mb(x){var G=-1,z=Array(x.size);return x.forEach(function(me){z[++G]=[me,me]}),z}function Fb(x,G,z){for(var me=z-1,Oe=x.length;++me<Oe;)if(x[me]===G)return me;return-1}function zb(x,G,z){for(var me=z+1;me--;)if(x[me]===G)return me;return me}function Yr(x){return Qr(x)?jb(x):Tb(x)}function pn(x){return Qr(x)?qb(x):Ab(x)}function Mc(x){for(var G=x.length;G--&&Lg.test(x.charAt(G)););return G}var Hb=Oa(bb);function jb(x){for(var G=Ea.lastIndex=0;Ea.test(x);)++G;return G}function qb(x){return x.match(Ea)||[]}function Wb(x){return x.match(fb)||[]}var Vb=function x(G){G=G==null?Rt:Xr.defaults(Rt.Object(),G,Xr.pick(Rt,pb));var z=G.Array,me=G.Date,Oe=G.Error,Ge=G.Function,_t=G.Math,Ze=G.Object,Ua=G.RegExp,Gb=G.String,sn=G.TypeError,Hi=z.prototype,Kb=Ge.prototype,Jr=Ze.prototype,ji=G["__core-js_shared__"],qi=Kb.toString,Qe=Jr.hasOwnProperty,Qb=0,Fc=function(){var n=/[^.]+$/.exec(ji&&ji.keys&&ji.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}(),Wi=Jr.toString,Yb=qi.call(Ze),Xb=Rt._,Jb=Ua("^"+qi.call(Qe).replace(ba,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Vi=$c?G.Buffer:r,sr=G.Symbol,Gi=G.Uint8Array,zc=Vi?Vi.allocUnsafe:r,Ki=Nc(Ze.getPrototypeOf,Ze),Hc=Ze.create,jc=Jr.propertyIsEnumerable,Qi=Hi.splice,qc=sr?sr.isConcatSpreadable:r,Po=sr?sr.iterator:r,wr=sr?sr.toStringTag:r,Yi=function(){try{var n=Tr(Ze,"defineProperty");return n({},"",{}),n}catch(o){}}(),Zb=G.clearTimeout!==Rt.clearTimeout&&G.clearTimeout,ey=me&&me.now!==Rt.Date.now&&me.now,ty=G.setTimeout!==Rt.setTimeout&&G.setTimeout,Xi=_t.ceil,Ji=_t.floor,Ba=Ze.getOwnPropertySymbols,ny=Vi?Vi.isBuffer:r,Wc=G.isFinite,ry=Hi.join,oy=Nc(Ze.keys,Ze),wt=_t.max,It=_t.min,iy=me.now,sy=G.parseInt,Vc=_t.random,ay=Hi.reverse,Na=Tr(G,"DataView"),Ro=Tr(G,"Map"),Ma=Tr(G,"Promise"),Zr=Tr(G,"Set"),ko=Tr(G,"WeakMap"),Oo=Tr(Ze,"create"),Zi=ko&&new ko,eo={},ly=Ar(Na),uy=Ar(Ro),cy=Ar(Ma),fy=Ar(Zr),dy=Ar(ko),es=sr?sr.prototype:r,Lo=es?es.valueOf:r,Gc=es?es.toString:r;function b(n){if(dt(n)&&!Le(n)&&!(n instanceof He)){if(n instanceof an)return n;if(Qe.call(n,"__wrapped__"))return Qf(n)}return new an(n)}var to=function(){function n(){}return function(o){if(!ut(o))return{};if(Hc)return Hc(o);n.prototype=o;var a=new n;return n.prototype=r,a}}();function ts(){}function an(n,o){this.__wrapped__=n,this.__actions__=[],this.__chain__=!!o,this.__index__=0,this.__values__=r}b.templateSettings={escape:Tg,evaluate:Ag,interpolate:nc,variable:"",imports:{_:b}},b.prototype=ts.prototype,b.prototype.constructor=b,an.prototype=to(ts.prototype),an.prototype.constructor=an;function He(n){this.__wrapped__=n,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=X,this.__views__=[]}function hy(){var n=new He(this.__wrapped__);return n.__actions__=Ft(this.__actions__),n.__dir__=this.__dir__,n.__filtered__=this.__filtered__,n.__iteratees__=Ft(this.__iteratees__),n.__takeCount__=this.__takeCount__,n.__views__=Ft(this.__views__),n}function py(){if(this.__filtered__){var n=new He(this);n.__dir__=-1,n.__filtered__=!0}else n=this.clone(),n.__dir__*=-1;return n}function vy(){var n=this.__wrapped__.value(),o=this.__dir__,a=Le(n),h=o<0,g=a?n.length:0,_=A_(0,g,this.__views__),C=_.start,L=_.end,D=L-C,te=h?L:C-1,ne=this.__iteratees__,ie=ne.length,de=0,be=It(D,this.__takeCount__);if(!a||!h&&g==D&&be==D)return bf(n,this.__actions__);var Pe=[];e:for(;D--&&de<be;){te+=o;for(var Be=-1,Re=n[te];++Be<ie;){var ze=ne[Be],qe=ze.iteratee,Yt=ze.type,Nt=qe(Re);if(Yt==ae)Re=Nt;else if(!Nt){if(Yt==ue)continue e;break e}}Pe[de++]=Re}return Pe}He.prototype=to(ts.prototype),He.prototype.constructor=He;function Sr(n){var o=-1,a=n==null?0:n.length;for(this.clear();++o<a;){var h=n[o];this.set(h[0],h[1])}}function my(){this.__data__=Oo?Oo(null):{},this.size=0}function gy(n){var o=this.has(n)&&delete this.__data__[n];return this.size-=o?1:0,o}function by(n){var o=this.__data__;if(Oo){var a=o[n];return a===c?r:a}return Qe.call(o,n)?o[n]:r}function yy(n){var o=this.__data__;return Oo?o[n]!==r:Qe.call(o,n)}function _y(n,o){var a=this.__data__;return this.size+=this.has(n)?0:1,a[n]=Oo&&o===r?c:o,this}Sr.prototype.clear=my,Sr.prototype.delete=gy,Sr.prototype.get=by,Sr.prototype.has=yy,Sr.prototype.set=_y;function Bn(n){var o=-1,a=n==null?0:n.length;for(this.clear();++o<a;){var h=n[o];this.set(h[0],h[1])}}function wy(){this.__data__=[],this.size=0}function Sy(n){var o=this.__data__,a=ns(o,n);if(a<0)return!1;var h=o.length-1;return a==h?o.pop():Qi.call(o,a,1),--this.size,!0}function $y(n){var o=this.__data__,a=ns(o,n);return a<0?r:o[a][1]}function Ey(n){return ns(this.__data__,n)>-1}function Cy(n,o){var a=this.__data__,h=ns(a,n);return h<0?(++this.size,a.push([n,o])):a[h][1]=o,this}Bn.prototype.clear=wy,Bn.prototype.delete=Sy,Bn.prototype.get=$y,Bn.prototype.has=Ey,Bn.prototype.set=Cy;function Nn(n){var o=-1,a=n==null?0:n.length;for(this.clear();++o<a;){var h=n[o];this.set(h[0],h[1])}}function Ty(){this.size=0,this.__data__={hash:new Sr,map:new(Ro||Bn),string:new Sr}}function Ay(n){var o=ps(this,n).delete(n);return this.size-=o?1:0,o}function Py(n){return ps(this,n).get(n)}function Ry(n){return ps(this,n).has(n)}function ky(n,o){var a=ps(this,n),h=a.size;return a.set(n,o),this.size+=a.size==h?0:1,this}Nn.prototype.clear=Ty,Nn.prototype.delete=Ay,Nn.prototype.get=Py,Nn.prototype.has=Ry,Nn.prototype.set=ky;function $r(n){var o=-1,a=n==null?0:n.length;for(this.__data__=new Nn;++o<a;)this.add(n[o])}function Oy(n){return this.__data__.set(n,c),this}function Ly(n){return this.__data__.has(n)}$r.prototype.add=$r.prototype.push=Oy,$r.prototype.has=Ly;function vn(n){var o=this.__data__=new Bn(n);this.size=o.size}function Iy(){this.__data__=new Bn,this.size=0}function xy(n){var o=this.__data__,a=o.delete(n);return this.size=o.size,a}function Dy(n){return this.__data__.get(n)}function Uy(n){return this.__data__.has(n)}function By(n,o){var a=this.__data__;if(a instanceof Bn){var h=a.__data__;if(!Ro||h.length<l-1)return h.push([n,o]),this.size=++a.size,this;a=this.__data__=new Nn(h)}return a.set(n,o),this.size=a.size,this}vn.prototype.clear=Iy,vn.prototype.delete=xy,vn.prototype.get=Dy,vn.prototype.has=Uy,vn.prototype.set=By;function Kc(n,o){var a=Le(n),h=!a&&Pr(n),g=!a&&!h&&fr(n),_=!a&&!h&&!g&&io(n),C=a||h||g||_,L=C?Ia(n.length,Gb):[],D=L.length;for(var te in n)(o||Qe.call(n,te))&&!(C&&(te=="length"||g&&(te=="offset"||te=="parent")||_&&(te=="buffer"||te=="byteLength"||te=="byteOffset")||Hn(te,D)))&&L.push(te);return L}function Qc(n){var o=n.length;return o?n[Ya(0,o-1)]:r}function Ny(n,o){return vs(Ft(n),Er(o,0,n.length))}function My(n){return vs(Ft(n))}function Fa(n,o,a){(a!==r&&!mn(n[o],a)||a===r&&!(o in n))&&Mn(n,o,a)}function Io(n,o,a){var h=n[o];(!(Qe.call(n,o)&&mn(h,a))||a===r&&!(o in n))&&Mn(n,o,a)}function ns(n,o){for(var a=n.length;a--;)if(mn(n[a][0],o))return a;return-1}function Fy(n,o,a,h){return ar(n,function(g,_,C){o(h,g,a(g),C)}),h}function Yc(n,o){return n&&Cn(o,Ct(o),n)}function zy(n,o){return n&&Cn(o,Ht(o),n)}function Mn(n,o,a){o=="__proto__"&&Yi?Yi(n,o,{configurable:!0,enumerable:!0,value:a,writable:!0}):n[o]=a}function za(n,o){for(var a=-1,h=o.length,g=z(h),_=n==null;++a<h;)g[a]=_?r:wl(n,o[a]);return g}function Er(n,o,a){return n===n&&(a!==r&&(n=n<=a?n:a),o!==r&&(n=n>=o?n:o)),n}function ln(n,o,a,h,g,_){var C,L=o&m,D=o&y,te=o&E;if(a&&(C=g?a(n,h,g,_):a(n)),C!==r)return C;if(!ut(n))return n;var ne=Le(n);if(ne){if(C=R_(n),!L)return Ft(n,C)}else{var ie=xt(n),de=ie==De||ie==ee;if(fr(n))return wf(n,L);if(ie==_e||ie==Ve||de&&!g){if(C=D||de?{}:Ff(n),!L)return D?b_(n,zy(C,n)):g_(n,Yc(C,n))}else{if(!et[ie])return g?n:{};C=k_(n,ie,L)}}_||(_=new vn);var be=_.get(n);if(be)return be;_.set(n,C),vd(n)?n.forEach(function(Re){C.add(ln(Re,o,a,Re,n,_))}):hd(n)&&n.forEach(function(Re,ze){C.set(ze,ln(Re,o,a,ze,n,_))});var Pe=te?D?al:sl:D?Ht:Ct,Be=ne?r:Pe(n);return on(Be||n,function(Re,ze){Be&&(ze=Re,Re=n[ze]),Io(C,ze,ln(Re,o,a,ze,n,_))}),C}function Hy(n){var o=Ct(n);return function(a){return Xc(a,n,o)}}function Xc(n,o,a){var h=a.length;if(n==null)return!h;for(n=Ze(n);h--;){var g=a[h],_=o[g],C=n[g];if(C===r&&!(g in n)||!_(C))return!1}return!0}function Jc(n,o,a){if(typeof n!="function")throw new sn(s);return Fo(function(){n.apply(r,a)},o)}function xo(n,o,a,h){var g=-1,_=Mi,C=!0,L=n.length,D=[],te=o.length;if(!L)return D;a&&(o=at(o,Gt(a))),h?(_=Aa,C=!1):o.length>=l&&(_=Ao,C=!1,o=new $r(o));e:for(;++g<L;){var ne=n[g],ie=a==null?ne:a(ne);if(ne=h||ne!==0?ne:0,C&&ie===ie){for(var de=te;de--;)if(o[de]===ie)continue e;D.push(ne)}else _(o,ie,h)||D.push(ne)}return D}var ar=Tf(En),Zc=Tf(ja,!0);function jy(n,o){var a=!0;return ar(n,function(h,g,_){return a=!!o(h,g,_),a}),a}function rs(n,o,a){for(var h=-1,g=n.length;++h<g;){var _=n[h],C=o(_);if(C!=null&&(L===r?C===C&&!Qt(C):a(C,L)))var L=C,D=_}return D}function qy(n,o,a,h){var g=n.length;for(a=Ue(a),a<0&&(a=-a>g?0:g+a),h=h===r||h>g?g:Ue(h),h<0&&(h+=g),h=a>h?0:gd(h);a<h;)n[a++]=o;return n}function ef(n,o){var a=[];return ar(n,function(h,g,_){o(h,g,_)&&a.push(h)}),a}function kt(n,o,a,h,g){var _=-1,C=n.length;for(a||(a=L_),g||(g=[]);++_<C;){var L=n[_];o>0&&a(L)?o>1?kt(L,o-1,a,h,g):or(g,L):h||(g[g.length]=L)}return g}var Ha=Af(),tf=Af(!0);function En(n,o){return n&&Ha(n,o,Ct)}function ja(n,o){return n&&tf(n,o,Ct)}function os(n,o){return rr(o,function(a){return jn(n[a])})}function Cr(n,o){o=ur(o,n);for(var a=0,h=o.length;n!=null&&a<h;)n=n[Tn(o[a++])];return a&&a==h?n:r}function nf(n,o,a){var h=o(n);return Le(n)?h:or(h,a(n))}function Ut(n){return n==null?n===r?xi:Se:wr&&wr in Ze(n)?T_(n):M_(n)}function qa(n,o){return n>o}function Wy(n,o){return n!=null&&Qe.call(n,o)}function Vy(n,o){return n!=null&&o in Ze(n)}function Gy(n,o,a){return n>=It(o,a)&&n<wt(o,a)}function Wa(n,o,a){for(var h=a?Aa:Mi,g=n[0].length,_=n.length,C=_,L=z(_),D=1/0,te=[];C--;){var ne=n[C];C&&o&&(ne=at(ne,Gt(o))),D=It(ne.length,D),L[C]=!a&&(o||g>=120&&ne.length>=120)?new $r(C&&ne):r}ne=n[0];var ie=-1,de=L[0];e:for(;++ie<g&&te.length<D;){var be=ne[ie],Pe=o?o(be):be;if(be=a||be!==0?be:0,!(de?Ao(de,Pe):h(te,Pe,a))){for(C=_;--C;){var Be=L[C];if(!(Be?Ao(Be,Pe):h(n[C],Pe,a)))continue e}de&&de.push(Pe),te.push(be)}}return te}function Ky(n,o,a,h){return En(n,function(g,_,C){o(h,a(g),_,C)}),h}function Do(n,o,a){o=ur(o,n),n=qf(n,o);var h=n==null?n:n[Tn(cn(o))];return h==null?r:Vt(h,n,a)}function rf(n){return dt(n)&&Ut(n)==Ve}function Qy(n){return dt(n)&&Ut(n)==nr}function Yy(n){return dt(n)&&Ut(n)==Z}function Uo(n,o,a,h,g){return n===o?!0:n==null||o==null||!dt(n)&&!dt(o)?n!==n&&o!==o:Xy(n,o,a,h,Uo,g)}function Xy(n,o,a,h,g,_){var C=Le(n),L=Le(o),D=C?Fe:xt(n),te=L?Fe:xt(o);D=D==Ve?_e:D,te=te==Ve?_e:te;var ne=D==_e,ie=te==_e,de=D==te;if(de&&fr(n)){if(!fr(o))return!1;C=!0,ne=!1}if(de&&!ne)return _||(_=new vn),C||io(n)?Bf(n,o,a,h,g,_):E_(n,o,D,a,h,g,_);if(!(a&R)){var be=ne&&Qe.call(n,"__wrapped__"),Pe=ie&&Qe.call(o,"__wrapped__");if(be||Pe){var Be=be?n.value():n,Re=Pe?o.value():o;return _||(_=new vn),g(Be,Re,a,h,_)}}return de?(_||(_=new vn),C_(n,o,a,h,g,_)):!1}function Jy(n){return dt(n)&&xt(n)==Q}function Va(n,o,a,h){var g=a.length,_=g,C=!h;if(n==null)return!_;for(n=Ze(n);g--;){var L=a[g];if(C&&L[2]?L[1]!==n[L[0]]:!(L[0]in n))return!1}for(;++g<_;){L=a[g];var D=L[0],te=n[D],ne=L[1];if(C&&L[2]){if(te===r&&!(D in n))return!1}else{var ie=new vn;if(h)var de=h(te,ne,D,n,o,ie);if(!(de===r?Uo(ne,te,R|U,h,ie):de))return!1}}return!0}function of(n){if(!ut(n)||x_(n))return!1;var o=jn(n)?Jb:Hg;return o.test(Ar(n))}function Zy(n){return dt(n)&&Ut(n)==xe}function e_(n){return dt(n)&&xt(n)==Je}function t_(n){return dt(n)&&ws(n.length)&&!!rt[Ut(n)]}function sf(n){return typeof n=="function"?n:n==null?jt:typeof n=="object"?Le(n)?uf(n[0],n[1]):lf(n):Pd(n)}function Ga(n){if(!Mo(n))return oy(n);var o=[];for(var a in Ze(n))Qe.call(n,a)&&a!="constructor"&&o.push(a);return o}function n_(n){if(!ut(n))return N_(n);var o=Mo(n),a=[];for(var h in n)h=="constructor"&&(o||!Qe.call(n,h))||a.push(h);return a}function Ka(n,o){return n<o}function af(n,o){var a=-1,h=zt(n)?z(n.length):[];return ar(n,function(g,_,C){h[++a]=o(g,_,C)}),h}function lf(n){var o=ul(n);return o.length==1&&o[0][2]?Hf(o[0][0],o[0][1]):function(a){return a===n||Va(a,n,o)}}function uf(n,o){return fl(n)&&zf(o)?Hf(Tn(n),o):function(a){var h=wl(a,n);return h===r&&h===o?Sl(a,n):Uo(o,h,R|U)}}function is(n,o,a,h,g){n!==o&&Ha(o,function(_,C){if(g||(g=new vn),ut(_))r_(n,o,C,a,is,h,g);else{var L=h?h(hl(n,C),_,C+"",n,o,g):r;L===r&&(L=_),Fa(n,C,L)}},Ht)}function r_(n,o,a,h,g,_,C){var L=hl(n,a),D=hl(o,a),te=C.get(D);if(te){Fa(n,a,te);return}var ne=_?_(L,D,a+"",n,o,C):r,ie=ne===r;if(ie){var de=Le(D),be=!de&&fr(D),Pe=!de&&!be&&io(D);ne=D,de||be||Pe?Le(L)?ne=L:vt(L)?ne=Ft(L):be?(ie=!1,ne=wf(D,!0)):Pe?(ie=!1,ne=Sf(D,!0)):ne=[]:zo(D)||Pr(D)?(ne=L,Pr(L)?ne=bd(L):(!ut(L)||jn(L))&&(ne=Ff(D))):ie=!1}ie&&(C.set(D,ne),g(ne,D,h,_,C),C.delete(D)),Fa(n,a,ne)}function cf(n,o){var a=n.length;if(a)return o+=o<0?a:0,Hn(o,a)?n[o]:r}function ff(n,o,a){o.length?o=at(o,function(_){return Le(_)?function(C){return Cr(C,_.length===1?_[0]:_)}:_}):o=[jt];var h=-1;o=at(o,Gt(Ce()));var g=af(n,function(_,C,L){var D=at(o,function(te){return te(_)});return{criteria:D,index:++h,value:_}});return kb(g,function(_,C){return m_(_,C,a)})}function o_(n,o){return df(n,o,function(a,h){return Sl(n,h)})}function df(n,o,a){for(var h=-1,g=o.length,_={};++h<g;){var C=o[h],L=Cr(n,C);a(L,C)&&Bo(_,ur(C,n),L)}return _}function i_(n){return function(o){return Cr(o,n)}}function Qa(n,o,a,h){var g=h?Rb:Kr,_=-1,C=o.length,L=n;for(n===o&&(o=Ft(o)),a&&(L=at(n,Gt(a)));++_<C;)for(var D=0,te=o[_],ne=a?a(te):te;(D=g(L,ne,D,h))>-1;)L!==n&&Qi.call(L,D,1),Qi.call(n,D,1);return n}function hf(n,o){for(var a=n?o.length:0,h=a-1;a--;){var g=o[a];if(a==h||g!==_){var _=g;Hn(g)?Qi.call(n,g,1):Za(n,g)}}return n}function Ya(n,o){return n+Ji(Vc()*(o-n+1))}function s_(n,o,a,h){for(var g=-1,_=wt(Xi((o-n)/(a||1)),0),C=z(_);_--;)C[h?_:++g]=n,n+=a;return C}function Xa(n,o){var a="";if(!n||o<1||o>k)return a;do o%2&&(a+=n),o=Ji(o/2),o&&(n+=n);while(o);return a}function Ne(n,o){return pl(jf(n,o,jt),n+"")}function a_(n){return Qc(so(n))}function l_(n,o){var a=so(n);return vs(a,Er(o,0,a.length))}function Bo(n,o,a,h){if(!ut(n))return n;o=ur(o,n);for(var g=-1,_=o.length,C=_-1,L=n;L!=null&&++g<_;){var D=Tn(o[g]),te=a;if(D==="__proto__"||D==="constructor"||D==="prototype")return n;if(g!=C){var ne=L[D];te=h?h(ne,D,L):r,te===r&&(te=ut(ne)?ne:Hn(o[g+1])?[]:{})}Io(L,D,te),L=L[D]}return n}var pf=Zi?function(n,o){return Zi.set(n,o),n}:jt,u_=Yi?function(n,o){return Yi(n,"toString",{configurable:!0,enumerable:!1,value:El(o),writable:!0})}:jt;function c_(n){return vs(so(n))}function un(n,o,a){var h=-1,g=n.length;o<0&&(o=-o>g?0:g+o),a=a>g?g:a,a<0&&(a+=g),g=o>a?0:a-o>>>0,o>>>=0;for(var _=z(g);++h<g;)_[h]=n[h+o];return _}function f_(n,o){var a;return ar(n,function(h,g,_){return a=o(h,g,_),!a}),!!a}function ss(n,o,a){var h=0,g=n==null?h:n.length;if(typeof o=="number"&&o===o&&g<=Ee){for(;h<g;){var _=h+g>>>1,C=n[_];C!==null&&!Qt(C)&&(a?C<=o:C<o)?h=_+1:g=_}return g}return Ja(n,o,jt,a)}function Ja(n,o,a,h){var g=0,_=n==null?0:n.length;if(_===0)return 0;o=a(o);for(var C=o!==o,L=o===null,D=Qt(o),te=o===r;g<_;){var ne=Ji((g+_)/2),ie=a(n[ne]),de=ie!==r,be=ie===null,Pe=ie===ie,Be=Qt(ie);if(C)var Re=h||Pe;else te?Re=Pe&&(h||de):L?Re=Pe&&de&&(h||!be):D?Re=Pe&&de&&!be&&(h||!Be):be||Be?Re=!1:Re=h?ie<=o:ie<o;Re?g=ne+1:_=ne}return It(_,ge)}function vf(n,o){for(var a=-1,h=n.length,g=0,_=[];++a<h;){var C=n[a],L=o?o(C):C;if(!a||!mn(L,D)){var D=L;_[g++]=C===0?0:C}}return _}function mf(n){return typeof n=="number"?n:Qt(n)?Y:+n}function Kt(n){if(typeof n=="string")return n;if(Le(n))return at(n,Kt)+"";if(Qt(n))return Gc?Gc.call(n):"";var o=n+"";return o=="0"&&1/n==-A?"-0":o}function lr(n,o,a){var h=-1,g=Mi,_=n.length,C=!0,L=[],D=L;if(a)C=!1,g=Aa;else if(_>=l){var te=o?null:S_(n);if(te)return zi(te);C=!1,g=Ao,D=new $r}else D=o?[]:L;e:for(;++h<_;){var ne=n[h],ie=o?o(ne):ne;if(ne=a||ne!==0?ne:0,C&&ie===ie){for(var de=D.length;de--;)if(D[de]===ie)continue e;o&&D.push(ie),L.push(ne)}else g(D,ie,a)||(D!==L&&D.push(ie),L.push(ne))}return L}function Za(n,o){return o=ur(o,n),n=qf(n,o),n==null||delete n[Tn(cn(o))]}function gf(n,o,a,h){return Bo(n,o,a(Cr(n,o)),h)}function as(n,o,a,h){for(var g=n.length,_=h?g:-1;(h?_--:++_<g)&&o(n[_],_,n););return a?un(n,h?0:_,h?_+1:g):un(n,h?_+1:0,h?g:_)}function bf(n,o){var a=n;return a instanceof He&&(a=a.value()),Pa(o,function(h,g){return g.func.apply(g.thisArg,or([h],g.args))},a)}function el(n,o,a){var h=n.length;if(h<2)return h?lr(n[0]):[];for(var g=-1,_=z(h);++g<h;)for(var C=n[g],L=-1;++L<h;)L!=g&&(_[g]=xo(_[g]||C,n[L],o,a));return lr(kt(_,1),o,a)}function yf(n,o,a){for(var h=-1,g=n.length,_=o.length,C={};++h<g;){var L=h<_?o[h]:r;a(C,n[h],L)}return C}function tl(n){return vt(n)?n:[]}function nl(n){return typeof n=="function"?n:jt}function ur(n,o){return Le(n)?n:fl(n,o)?[n]:Kf(Ke(n))}var d_=Ne;function cr(n,o,a){var h=n.length;return a=a===r?h:a,!o&&a>=h?n:un(n,o,a)}var _f=Zb||function(n){return Rt.clearTimeout(n)};function wf(n,o){if(o)return n.slice();var a=n.length,h=zc?zc(a):new n.constructor(a);return n.copy(h),h}function rl(n){var o=new n.constructor(n.byteLength);return new Gi(o).set(new Gi(n)),o}function h_(n,o){var a=o?rl(n.buffer):n.buffer;return new n.constructor(a,n.byteOffset,n.byteLength)}function p_(n){var o=new n.constructor(n.source,rc.exec(n));return o.lastIndex=n.lastIndex,o}function v_(n){return Lo?Ze(Lo.call(n)):{}}function Sf(n,o){var a=o?rl(n.buffer):n.buffer;return new n.constructor(a,n.byteOffset,n.length)}function $f(n,o){if(n!==o){var a=n!==r,h=n===null,g=n===n,_=Qt(n),C=o!==r,L=o===null,D=o===o,te=Qt(o);if(!L&&!te&&!_&&n>o||_&&C&&D&&!L&&!te||h&&C&&D||!a&&D||!g)return 1;if(!h&&!_&&!te&&n<o||te&&a&&g&&!h&&!_||L&&a&&g||!C&&g||!D)return-1}return 0}function m_(n,o,a){for(var h=-1,g=n.criteria,_=o.criteria,C=g.length,L=a.length;++h<C;){var D=$f(g[h],_[h]);if(D){if(h>=L)return D;var te=a[h];return D*(te=="desc"?-1:1)}}return n.index-o.index}function Ef(n,o,a,h){for(var g=-1,_=n.length,C=a.length,L=-1,D=o.length,te=wt(_-C,0),ne=z(D+te),ie=!h;++L<D;)ne[L]=o[L];for(;++g<C;)(ie||g<_)&&(ne[a[g]]=n[g]);for(;te--;)ne[L++]=n[g++];return ne}function Cf(n,o,a,h){for(var g=-1,_=n.length,C=-1,L=a.length,D=-1,te=o.length,ne=wt(_-L,0),ie=z(ne+te),de=!h;++g<ne;)ie[g]=n[g];for(var be=g;++D<te;)ie[be+D]=o[D];for(;++C<L;)(de||g<_)&&(ie[be+a[C]]=n[g++]);return ie}function Ft(n,o){var a=-1,h=n.length;for(o||(o=z(h));++a<h;)o[a]=n[a];return o}function Cn(n,o,a,h){var g=!a;a||(a={});for(var _=-1,C=o.length;++_<C;){var L=o[_],D=h?h(a[L],n[L],L,a,n):r;D===r&&(D=n[L]),g?Mn(a,L,D):Io(a,L,D)}return a}function g_(n,o){return Cn(n,cl(n),o)}function b_(n,o){return Cn(n,Nf(n),o)}function ls(n,o){return function(a,h){var g=Le(a)?$b:Fy,_=o?o():{};return g(a,n,Ce(h,2),_)}}function no(n){return Ne(function(o,a){var h=-1,g=a.length,_=g>1?a[g-1]:r,C=g>2?a[2]:r;for(_=n.length>3&&typeof _=="function"?(g--,_):r,C&&Bt(a[0],a[1],C)&&(_=g<3?r:_,g=1),o=Ze(o);++h<g;){var L=a[h];L&&n(o,L,h,_)}return o})}function Tf(n,o){return function(a,h){if(a==null)return a;if(!zt(a))return n(a,h);for(var g=a.length,_=o?g:-1,C=Ze(a);(o?_--:++_<g)&&h(C[_],_,C)!==!1;);return a}}function Af(n){return function(o,a,h){for(var g=-1,_=Ze(o),C=h(o),L=C.length;L--;){var D=C[n?L:++g];if(a(_[D],D,_)===!1)break}return o}}function y_(n,o,a){var h=o&O,g=No(n);function _(){var C=this&&this!==Rt&&this instanceof _?g:n;return C.apply(h?a:this,arguments)}return _}function Pf(n){return function(o){o=Ke(o);var a=Qr(o)?pn(o):r,h=a?a[0]:o.charAt(0),g=a?cr(a,1).join(""):o.slice(1);return h[n]()+g}}function ro(n){return function(o){return Pa(Td(Cd(o).replace(ub,"")),n,"")}}function No(n){return function(){var o=arguments;switch(o.length){case 0:return new n;case 1:return new n(o[0]);case 2:return new n(o[0],o[1]);case 3:return new n(o[0],o[1],o[2]);case 4:return new n(o[0],o[1],o[2],o[3]);case 5:return new n(o[0],o[1],o[2],o[3],o[4]);case 6:return new n(o[0],o[1],o[2],o[3],o[4],o[5]);case 7:return new n(o[0],o[1],o[2],o[3],o[4],o[5],o[6])}var a=to(n.prototype),h=n.apply(a,o);return ut(h)?h:a}}function __(n,o,a){var h=No(n);function g(){for(var _=arguments.length,C=z(_),L=_,D=oo(g);L--;)C[L]=arguments[L];var te=_<3&&C[0]!==D&&C[_-1]!==D?[]:ir(C,D);if(_-=te.length,_<a)return If(n,o,us,g.placeholder,r,C,te,r,r,a-_);var ne=this&&this!==Rt&&this instanceof g?h:n;return Vt(ne,this,C)}return g}function Rf(n){return function(o,a,h){var g=Ze(o);if(!zt(o)){var _=Ce(a,3);o=Ct(o),a=function(L){return _(g[L],L,g)}}var C=n(o,a,h);return C>-1?g[_?o[C]:C]:r}}function kf(n){return zn(function(o){var a=o.length,h=a,g=an.prototype.thru;for(n&&o.reverse();h--;){var _=o[h];if(typeof _!="function")throw new sn(s);if(g&&!C&&hs(_)=="wrapper")var C=new an([],!0)}for(h=C?h:a;++h<a;){_=o[h];var L=hs(_),D=L=="wrapper"?ll(_):r;D&&dl(D[0])&&D[1]==(F|M|j|J)&&!D[4].length&&D[9]==1?C=C[hs(D[0])].apply(C,D[3]):C=_.length==1&&dl(_)?C[L]():C.thru(_)}return function(){var te=arguments,ne=te[0];if(C&&te.length==1&&Le(ne))return C.plant(ne).value();for(var ie=0,de=a?o[ie].apply(this,te):ne;++ie<a;)de=o[ie].call(this,de);return de}})}function us(n,o,a,h,g,_,C,L,D,te){var ne=o&F,ie=o&O,de=o&T,be=o&(M|H),Pe=o&K,Be=de?r:No(n);function Re(){for(var ze=arguments.length,qe=z(ze),Yt=ze;Yt--;)qe[Yt]=arguments[Yt];if(be)var Nt=oo(Re),Xt=Lb(qe,Nt);if(h&&(qe=Ef(qe,h,g,be)),_&&(qe=Cf(qe,_,C,be)),ze-=Xt,be&&ze<te){var mt=ir(qe,Nt);return If(n,o,us,Re.placeholder,a,qe,mt,L,D,te-ze)}var gn=ie?a:this,Wn=de?gn[n]:n;return ze=qe.length,L?qe=F_(qe,L):Pe&&ze>1&&qe.reverse(),ne&&D<ze&&(qe.length=D),this&&this!==Rt&&this instanceof Re&&(Wn=Be||No(Wn)),Wn.apply(gn,qe)}return Re}function Of(n,o){return function(a,h){return Ky(a,n,o(h),{})}}function cs(n,o){return function(a,h){var g;if(a===r&&h===r)return o;if(a!==r&&(g=a),h!==r){if(g===r)return h;typeof a=="string"||typeof h=="string"?(a=Kt(a),h=Kt(h)):(a=mf(a),h=mf(h)),g=n(a,h)}return g}}function ol(n){return zn(function(o){return o=at(o,Gt(Ce())),Ne(function(a){var h=this;return n(o,function(g){return Vt(g,h,a)})})})}function fs(n,o){o=o===r?" ":Kt(o);var a=o.length;if(a<2)return a?Xa(o,n):o;var h=Xa(o,Xi(n/Yr(o)));return Qr(o)?cr(pn(h),0,n).join(""):h.slice(0,n)}function w_(n,o,a,h){var g=o&O,_=No(n);function C(){for(var L=-1,D=arguments.length,te=-1,ne=h.length,ie=z(ne+D),de=this&&this!==Rt&&this instanceof C?_:n;++te<ne;)ie[te]=h[te];for(;D--;)ie[te++]=arguments[++L];return Vt(de,g?a:this,ie)}return C}function Lf(n){return function(o,a,h){return h&&typeof h!="number"&&Bt(o,a,h)&&(a=h=r),o=qn(o),a===r?(a=o,o=0):a=qn(a),h=h===r?o<a?1:-1:qn(h),s_(o,a,h,n)}}function ds(n){return function(o,a){return typeof o=="string"&&typeof a=="string"||(o=fn(o),a=fn(a)),n(o,a)}}function If(n,o,a,h,g,_,C,L,D,te){var ne=o&M,ie=ne?C:r,de=ne?r:C,be=ne?_:r,Pe=ne?r:_;o|=ne?j:re,o&=~(ne?re:j),o&B||(o&=~(O|T));var Be=[n,o,g,be,ie,Pe,de,L,D,te],Re=a.apply(r,Be);return dl(n)&&Wf(Re,Be),Re.placeholder=h,Vf(Re,n,o)}function il(n){var o=_t[n];return function(a,h){if(a=fn(a),h=h==null?0:It(Ue(h),292),h&&Wc(a)){var g=(Ke(a)+"e").split("e"),_=o(g[0]+"e"+(+g[1]+h));return g=(Ke(_)+"e").split("e"),+(g[0]+"e"+(+g[1]-h))}return o(a)}}var S_=Zr&&1/zi(new Zr([,-0]))[1]==A?function(n){return new Zr(n)}:Al;function xf(n){return function(o){var a=xt(o);return a==Q?Da(o):a==Je?Mb(o):Ob(o,n(o))}}function Fn(n,o,a,h,g,_,C,L){var D=o&T;if(!D&&typeof n!="function")throw new sn(s);var te=h?h.length:0;if(te||(o&=~(j|re),h=g=r),C=C===r?C:wt(Ue(C),0),L=L===r?L:Ue(L),te-=g?g.length:0,o&re){var ne=h,ie=g;h=g=r}var de=D?r:ll(n),be=[n,o,a,h,g,ne,ie,_,C,L];if(de&&B_(be,de),n=be[0],o=be[1],a=be[2],h=be[3],g=be[4],L=be[9]=be[9]===r?D?0:n.length:wt(be[9]-te,0),!L&&o&(M|H)&&(o&=~(M|H)),!o||o==O)var Pe=y_(n,o,a);else o==M||o==H?Pe=__(n,o,L):(o==j||o==(O|j))&&!g.length?Pe=w_(n,o,a,h):Pe=us.apply(r,be);var Be=de?pf:Wf;return Vf(Be(Pe,be),n,o)}function Df(n,o,a,h){return n===r||mn(n,Jr[a])&&!Qe.call(h,a)?o:n}function Uf(n,o,a,h,g,_){return ut(n)&&ut(o)&&(_.set(o,n),is(n,o,r,Uf,_),_.delete(o)),n}function $_(n){return zo(n)?r:n}function Bf(n,o,a,h,g,_){var C=a&R,L=n.length,D=o.length;if(L!=D&&!(C&&D>L))return!1;var te=_.get(n),ne=_.get(o);if(te&&ne)return te==o&&ne==n;var ie=-1,de=!0,be=a&U?new $r:r;for(_.set(n,o),_.set(o,n);++ie<L;){var Pe=n[ie],Be=o[ie];if(h)var Re=C?h(Be,Pe,ie,o,n,_):h(Pe,Be,ie,n,o,_);if(Re!==r){if(Re)continue;de=!1;break}if(be){if(!Ra(o,function(ze,qe){if(!Ao(be,qe)&&(Pe===ze||g(Pe,ze,a,h,_)))return be.push(qe)})){de=!1;break}}else if(!(Pe===Be||g(Pe,Be,a,h,_))){de=!1;break}}return _.delete(n),_.delete(o),de}function E_(n,o,a,h,g,_,C){switch(a){case Un:if(n.byteLength!=o.byteLength||n.byteOffset!=o.byteOffset)return!1;n=n.buffer,o=o.buffer;case nr:return!(n.byteLength!=o.byteLength||!_(new Gi(n),new Gi(o)));case he:case Z:case pe:return mn(+n,+o);case ye:return n.name==o.name&&n.message==o.message;case xe:case nn:return n==o+"";case Q:var L=Da;case Je:var D=h&R;if(L||(L=zi),n.size!=o.size&&!D)return!1;var te=C.get(n);if(te)return te==o;h|=U,C.set(n,o);var ne=Bf(L(n),L(o),h,g,_,C);return C.delete(n),ne;case yr:if(Lo)return Lo.call(n)==Lo.call(o)}return!1}function C_(n,o,a,h,g,_){var C=a&R,L=sl(n),D=L.length,te=sl(o),ne=te.length;if(D!=ne&&!C)return!1;for(var ie=D;ie--;){var de=L[ie];if(!(C?de in o:Qe.call(o,de)))return!1}var be=_.get(n),Pe=_.get(o);if(be&&Pe)return be==o&&Pe==n;var Be=!0;_.set(n,o),_.set(o,n);for(var Re=C;++ie<D;){de=L[ie];var ze=n[de],qe=o[de];if(h)var Yt=C?h(qe,ze,de,o,n,_):h(ze,qe,de,n,o,_);if(!(Yt===r?ze===qe||g(ze,qe,a,h,_):Yt)){Be=!1;break}Re||(Re=de=="constructor")}if(Be&&!Re){var Nt=n.constructor,Xt=o.constructor;Nt!=Xt&&"constructor"in n&&"constructor"in o&&!(typeof Nt=="function"&&Nt instanceof Nt&&typeof Xt=="function"&&Xt instanceof Xt)&&(Be=!1)}return _.delete(n),_.delete(o),Be}function zn(n){return pl(jf(n,r,Jf),n+"")}function sl(n){return nf(n,Ct,cl)}function al(n){return nf(n,Ht,Nf)}var ll=Zi?function(n){return Zi.get(n)}:Al;function hs(n){for(var o=n.name+"",a=eo[o],h=Qe.call(eo,o)?a.length:0;h--;){var g=a[h],_=g.func;if(_==null||_==n)return g.name}return o}function oo(n){var o=Qe.call(b,"placeholder")?b:n;return o.placeholder}function Ce(){var n=b.iteratee||Cl;return n=n===Cl?sf:n,arguments.length?n(arguments[0],arguments[1]):n}function ps(n,o){var a=n.__data__;return I_(o)?a[typeof o=="string"?"string":"hash"]:a.map}function ul(n){for(var o=Ct(n),a=o.length;a--;){var h=o[a],g=n[h];o[a]=[h,g,zf(g)]}return o}function Tr(n,o){var a=Ub(n,o);return of(a)?a:r}function T_(n){var o=Qe.call(n,wr),a=n[wr];try{n[wr]=r;var h=!0}catch(_){}var g=Wi.call(n);return h&&(o?n[wr]=a:delete n[wr]),g}var cl=Ba?function(n){return n==null?[]:(n=Ze(n),rr(Ba(n),function(o){return jc.call(n,o)}))}:Pl,Nf=Ba?function(n){for(var o=[];n;)or(o,cl(n)),n=Ki(n);return o}:Pl,xt=Ut;(Na&&xt(new Na(new ArrayBuffer(1)))!=Un||Ro&&xt(new Ro)!=Q||Ma&&xt(Ma.resolve())!=ft||Zr&&xt(new Zr)!=Je||ko&&xt(new ko)!=tr)&&(xt=function(n){var o=Ut(n),a=o==_e?n.constructor:r,h=a?Ar(a):"";if(h)switch(h){case ly:return Un;case uy:return Q;case cy:return ft;case fy:return Je;case dy:return tr}return o});function A_(n,o,a){for(var h=-1,g=a.length;++h<g;){var _=a[h],C=_.size;switch(_.type){case"drop":n+=C;break;case"dropRight":o-=C;break;case"take":o=It(o,n+C);break;case"takeRight":n=wt(n,o-C);break}}return{start:n,end:o}}function P_(n){var o=n.match(xg);return o?o[1].split(Dg):[]}function Mf(n,o,a){o=ur(o,n);for(var h=-1,g=o.length,_=!1;++h<g;){var C=Tn(o[h]);if(!(_=n!=null&&a(n,C)))break;n=n[C]}return _||++h!=g?_:(g=n==null?0:n.length,!!g&&ws(g)&&Hn(C,g)&&(Le(n)||Pr(n)))}function R_(n){var o=n.length,a=new n.constructor(o);return o&&typeof n[0]=="string"&&Qe.call(n,"index")&&(a.index=n.index,a.input=n.input),a}function Ff(n){return typeof n.constructor=="function"&&!Mo(n)?to(Ki(n)):{}}function k_(n,o,a){var h=n.constructor;switch(o){case nr:return rl(n);case he:case Z:return new h(+n);case Un:return h_(n,a);case je:case ca:case fa:case da:case ha:case pa:case va:case ma:case ga:return Sf(n,a);case Q:return new h;case pe:case nn:return new h(n);case xe:return p_(n);case Je:return new h;case yr:return v_(n)}}function O_(n,o){var a=o.length;if(!a)return n;var h=a-1;return o[h]=(a>1?"& ":"")+o[h],o=o.join(a>2?", ":" "),n.replace(Ig,"{\n/* [wrapped with "+o+"] */\n")}function L_(n){return Le(n)||Pr(n)||!!(qc&&n&&n[qc])}function Hn(n,o){var a=typeof n;return o=o==null?k:o,!!o&&(a=="number"||a!="symbol"&&qg.test(n))&&n>-1&&n%1==0&&n<o}function Bt(n,o,a){if(!ut(a))return!1;var h=typeof o;return(h=="number"?zt(a)&&Hn(o,a.length):h=="string"&&o in a)?mn(a[o],n):!1}function fl(n,o){if(Le(n))return!1;var a=typeof n;return a=="number"||a=="symbol"||a=="boolean"||n==null||Qt(n)?!0:Rg.test(n)||!Pg.test(n)||o!=null&&n in Ze(o)}function I_(n){var o=typeof n;return o=="string"||o=="number"||o=="symbol"||o=="boolean"?n!=="__proto__":n===null}function dl(n){var o=hs(n),a=b[o];if(typeof a!="function"||!(o in He.prototype))return!1;if(n===a)return!0;var h=ll(a);return!!h&&n===h[0]}function x_(n){return!!Fc&&Fc in n}var D_=ji?jn:Rl;function Mo(n){var o=n&&n.constructor,a=typeof o=="function"&&o.prototype||Jr;return n===a}function zf(n){return n===n&&!ut(n)}function Hf(n,o){return function(a){return a==null?!1:a[n]===o&&(o!==r||n in Ze(a))}}function U_(n){var o=ys(n,function(h){return a.size===d&&a.clear(),h}),a=o.cache;return o}function B_(n,o){var a=n[1],h=o[1],g=a|h,_=g<(O|T|F),C=h==F&&a==M||h==F&&a==J&&n[7].length<=o[8]||h==(F|J)&&o[7].length<=o[8]&&a==M;if(!(_||C))return n;h&O&&(n[2]=o[2],g|=a&O?0:B);var L=o[3];if(L){var D=n[3];n[3]=D?Ef(D,L,o[4]):L,n[4]=D?ir(n[3],v):o[4]}return L=o[5],L&&(D=n[5],n[5]=D?Cf(D,L,o[6]):L,n[6]=D?ir(n[5],v):o[6]),L=o[7],L&&(n[7]=L),h&F&&(n[8]=n[8]==null?o[8]:It(n[8],o[8])),n[9]==null&&(n[9]=o[9]),n[0]=o[0],n[1]=g,n}function N_(n){var o=[];if(n!=null)for(var a in Ze(n))o.push(a);return o}function M_(n){return Wi.call(n)}function jf(n,o,a){return o=wt(o===r?n.length-1:o,0),function(){for(var h=arguments,g=-1,_=wt(h.length-o,0),C=z(_);++g<_;)C[g]=h[o+g];g=-1;for(var L=z(o+1);++g<o;)L[g]=h[g];return L[o]=a(C),Vt(n,this,L)}}function qf(n,o){return o.length<2?n:Cr(n,un(o,0,-1))}function F_(n,o){for(var a=n.length,h=It(o.length,a),g=Ft(n);h--;){var _=o[h];n[h]=Hn(_,a)?g[_]:r}return n}function hl(n,o){if(!(o==="constructor"&&typeof n[o]=="function")&&o!="__proto__")return n[o]}var Wf=Gf(pf),Fo=ty||function(n,o){return Rt.setTimeout(n,o)},pl=Gf(u_);function Vf(n,o,a){var h=o+"";return pl(n,O_(h,z_(P_(h),a)))}function Gf(n){var o=0,a=0;return function(){var h=iy(),g=W-(h-a);if(a=h,g>0){if(++o>=N)return arguments[0]}else o=0;return n.apply(r,arguments)}}function vs(n,o){var a=-1,h=n.length,g=h-1;for(o=o===r?h:o;++a<o;){var _=Ya(a,g),C=n[_];n[_]=n[a],n[a]=C}return n.length=o,n}var Kf=U_(function(n){var o=[];return n.charCodeAt(0)===46&&o.push(""),n.replace(kg,function(a,h,g,_){o.push(g?_.replace(Ng,"$1"):h||a)}),o});function Tn(n){if(typeof n=="string"||Qt(n))return n;var o=n+"";return o=="0"&&1/n==-A?"-0":o}function Ar(n){if(n!=null){try{return qi.call(n)}catch(o){}try{return n+""}catch(o){}}return""}function z_(n,o){return on(Ae,function(a){var h="_."+a[0];o&a[1]&&!Mi(n,h)&&n.push(h)}),n.sort()}function Qf(n){if(n instanceof He)return n.clone();var o=new an(n.__wrapped__,n.__chain__);return o.__actions__=Ft(n.__actions__),o.__index__=n.__index__,o.__values__=n.__values__,o}function H_(n,o,a){(a?Bt(n,o,a):o===r)?o=1:o=wt(Ue(o),0);var h=n==null?0:n.length;if(!h||o<1)return[];for(var g=0,_=0,C=z(Xi(h/o));g<h;)C[_++]=un(n,g,g+=o);return C}function j_(n){for(var o=-1,a=n==null?0:n.length,h=0,g=[];++o<a;){var _=n[o];_&&(g[h++]=_)}return g}function q_(){var n=arguments.length;if(!n)return[];for(var o=z(n-1),a=arguments[0],h=n;h--;)o[h-1]=arguments[h];return or(Le(a)?Ft(a):[a],kt(o,1))}var W_=Ne(function(n,o){return vt(n)?xo(n,kt(o,1,vt,!0)):[]}),V_=Ne(function(n,o){var a=cn(o);return vt(a)&&(a=r),vt(n)?xo(n,kt(o,1,vt,!0),Ce(a,2)):[]}),G_=Ne(function(n,o){var a=cn(o);return vt(a)&&(a=r),vt(n)?xo(n,kt(o,1,vt,!0),r,a):[]});function K_(n,o,a){var h=n==null?0:n.length;return h?(o=a||o===r?1:Ue(o),un(n,o<0?0:o,h)):[]}function Q_(n,o,a){var h=n==null?0:n.length;return h?(o=a||o===r?1:Ue(o),o=h-o,un(n,0,o<0?0:o)):[]}function Y_(n,o){return n&&n.length?as(n,Ce(o,3),!0,!0):[]}function X_(n,o){return n&&n.length?as(n,Ce(o,3),!0):[]}function J_(n,o,a,h){var g=n==null?0:n.length;return g?(a&&typeof a!="number"&&Bt(n,o,a)&&(a=0,h=g),qy(n,o,a,h)):[]}function Yf(n,o,a){var h=n==null?0:n.length;if(!h)return-1;var g=a==null?0:Ue(a);return g<0&&(g=wt(h+g,0)),Fi(n,Ce(o,3),g)}function Xf(n,o,a){var h=n==null?0:n.length;if(!h)return-1;var g=h-1;return a!==r&&(g=Ue(a),g=a<0?wt(h+g,0):It(g,h-1)),Fi(n,Ce(o,3),g,!0)}function Jf(n){var o=n==null?0:n.length;return o?kt(n,1):[]}function Z_(n){var o=n==null?0:n.length;return o?kt(n,A):[]}function e0(n,o){var a=n==null?0:n.length;return a?(o=o===r?1:Ue(o),kt(n,o)):[]}function t0(n){for(var o=-1,a=n==null?0:n.length,h={};++o<a;){var g=n[o];h[g[0]]=g[1]}return h}function Zf(n){return n&&n.length?n[0]:r}function n0(n,o,a){var h=n==null?0:n.length;if(!h)return-1;var g=a==null?0:Ue(a);return g<0&&(g=wt(h+g,0)),Kr(n,o,g)}function r0(n){var o=n==null?0:n.length;return o?un(n,0,-1):[]}var o0=Ne(function(n){var o=at(n,tl);return o.length&&o[0]===n[0]?Wa(o):[]}),i0=Ne(function(n){var o=cn(n),a=at(n,tl);return o===cn(a)?o=r:a.pop(),a.length&&a[0]===n[0]?Wa(a,Ce(o,2)):[]}),s0=Ne(function(n){var o=cn(n),a=at(n,tl);return o=typeof o=="function"?o:r,o&&a.pop(),a.length&&a[0]===n[0]?Wa(a,r,o):[]});function a0(n,o){return n==null?"":ry.call(n,o)}function cn(n){var o=n==null?0:n.length;return o?n[o-1]:r}function l0(n,o,a){var h=n==null?0:n.length;if(!h)return-1;var g=h;return a!==r&&(g=Ue(a),g=g<0?wt(h+g,0):It(g,h-1)),o===o?zb(n,o,g):Fi(n,Lc,g,!0)}function u0(n,o){return n&&n.length?cf(n,Ue(o)):r}var c0=Ne(ed);function ed(n,o){return n&&n.length&&o&&o.length?Qa(n,o):n}function f0(n,o,a){return n&&n.length&&o&&o.length?Qa(n,o,Ce(a,2)):n}function d0(n,o,a){return n&&n.length&&o&&o.length?Qa(n,o,r,a):n}var h0=zn(function(n,o){var a=n==null?0:n.length,h=za(n,o);return hf(n,at(o,function(g){return Hn(g,a)?+g:g}).sort($f)),h});function p0(n,o){var a=[];if(!(n&&n.length))return a;var h=-1,g=[],_=n.length;for(o=Ce(o,3);++h<_;){var C=n[h];o(C,h,n)&&(a.push(C),g.push(h))}return hf(n,g),a}function vl(n){return n==null?n:ay.call(n)}function v0(n,o,a){var h=n==null?0:n.length;return h?(a&&typeof a!="number"&&Bt(n,o,a)?(o=0,a=h):(o=o==null?0:Ue(o),a=a===r?h:Ue(a)),un(n,o,a)):[]}function m0(n,o){return ss(n,o)}function g0(n,o,a){return Ja(n,o,Ce(a,2))}function b0(n,o){var a=n==null?0:n.length;if(a){var h=ss(n,o);if(h<a&&mn(n[h],o))return h}return-1}function y0(n,o){return ss(n,o,!0)}function _0(n,o,a){return Ja(n,o,Ce(a,2),!0)}function w0(n,o){var a=n==null?0:n.length;if(a){var h=ss(n,o,!0)-1;if(mn(n[h],o))return h}return-1}function S0(n){return n&&n.length?vf(n):[]}function $0(n,o){return n&&n.length?vf(n,Ce(o,2)):[]}function E0(n){var o=n==null?0:n.length;return o?un(n,1,o):[]}function C0(n,o,a){return n&&n.length?(o=a||o===r?1:Ue(o),un(n,0,o<0?0:o)):[]}function T0(n,o,a){var h=n==null?0:n.length;return h?(o=a||o===r?1:Ue(o),o=h-o,un(n,o<0?0:o,h)):[]}function A0(n,o){return n&&n.length?as(n,Ce(o,3),!1,!0):[]}function P0(n,o){return n&&n.length?as(n,Ce(o,3)):[]}var R0=Ne(function(n){return lr(kt(n,1,vt,!0))}),k0=Ne(function(n){var o=cn(n);return vt(o)&&(o=r),lr(kt(n,1,vt,!0),Ce(o,2))}),O0=Ne(function(n){var o=cn(n);return o=typeof o=="function"?o:r,lr(kt(n,1,vt,!0),r,o)});function L0(n){return n&&n.length?lr(n):[]}function I0(n,o){return n&&n.length?lr(n,Ce(o,2)):[]}function x0(n,o){return o=typeof o=="function"?o:r,n&&n.length?lr(n,r,o):[]}function ml(n){if(!(n&&n.length))return[];var o=0;return n=rr(n,function(a){if(vt(a))return o=wt(a.length,o),!0}),Ia(o,function(a){return at(n,ka(a))})}function td(n,o){if(!(n&&n.length))return[];var a=ml(n);return o==null?a:at(a,function(h){return Vt(o,r,h)})}var D0=Ne(function(n,o){return vt(n)?xo(n,o):[]}),U0=Ne(function(n){return el(rr(n,vt))}),B0=Ne(function(n){var o=cn(n);return vt(o)&&(o=r),el(rr(n,vt),Ce(o,2))}),N0=Ne(function(n){var o=cn(n);return o=typeof o=="function"?o:r,el(rr(n,vt),r,o)}),M0=Ne(ml);function F0(n,o){return yf(n||[],o||[],Io)}function z0(n,o){return yf(n||[],o||[],Bo)}var H0=Ne(function(n){var o=n.length,a=o>1?n[o-1]:r;return a=typeof a=="function"?(n.pop(),a):r,td(n,a)});function nd(n){var o=b(n);return o.__chain__=!0,o}function j0(n,o){return o(n),n}function ms(n,o){return o(n)}var q0=zn(function(n){var o=n.length,a=o?n[0]:0,h=this.__wrapped__,g=function(_){return za(_,n)};return o>1||this.__actions__.length||!(h instanceof He)||!Hn(a)?this.thru(g):(h=h.slice(a,+a+(o?1:0)),h.__actions__.push({func:ms,args:[g],thisArg:r}),new an(h,this.__chain__).thru(function(_){return o&&!_.length&&_.push(r),_}))});function W0(){return nd(this)}function V0(){return new an(this.value(),this.__chain__)}function G0(){this.__values__===r&&(this.__values__=md(this.value()));var n=this.__index__>=this.__values__.length,o=n?r:this.__values__[this.__index__++];return{done:n,value:o}}function K0(){return this}function Q0(n){for(var o,a=this;a instanceof ts;){var h=Qf(a);h.__index__=0,h.__values__=r,o?g.__wrapped__=h:o=h;var g=h;a=a.__wrapped__}return g.__wrapped__=n,o}function Y0(){var n=this.__wrapped__;if(n instanceof He){var o=n;return this.__actions__.length&&(o=new He(this)),o=o.reverse(),o.__actions__.push({func:ms,args:[vl],thisArg:r}),new an(o,this.__chain__)}return this.thru(vl)}function X0(){return bf(this.__wrapped__,this.__actions__)}var J0=ls(function(n,o,a){Qe.call(n,a)?++n[a]:Mn(n,a,1)});function Z0(n,o,a){var h=Le(n)?kc:jy;return a&&Bt(n,o,a)&&(o=r),h(n,Ce(o,3))}function e1(n,o){var a=Le(n)?rr:ef;return a(n,Ce(o,3))}var t1=Rf(Yf),n1=Rf(Xf);function r1(n,o){return kt(gs(n,o),1)}function o1(n,o){return kt(gs(n,o),A)}function i1(n,o,a){return a=a===r?1:Ue(a),kt(gs(n,o),a)}function rd(n,o){var a=Le(n)?on:ar;return a(n,Ce(o,3))}function od(n,o){var a=Le(n)?Eb:Zc;return a(n,Ce(o,3))}var s1=ls(function(n,o,a){Qe.call(n,a)?n[a].push(o):Mn(n,a,[o])});function a1(n,o,a,h){n=zt(n)?n:so(n),a=a&&!h?Ue(a):0;var g=n.length;return a<0&&(a=wt(g+a,0)),Ss(n)?a<=g&&n.indexOf(o,a)>-1:!!g&&Kr(n,o,a)>-1}var l1=Ne(function(n,o,a){var h=-1,g=typeof o=="function",_=zt(n)?z(n.length):[];return ar(n,function(C){_[++h]=g?Vt(o,C,a):Do(C,o,a)}),_}),u1=ls(function(n,o,a){Mn(n,a,o)});function gs(n,o){var a=Le(n)?at:af;return a(n,Ce(o,3))}function c1(n,o,a,h){return n==null?[]:(Le(o)||(o=o==null?[]:[o]),a=h?r:a,Le(a)||(a=a==null?[]:[a]),ff(n,o,a))}var f1=ls(function(n,o,a){n[a?0:1].push(o)},function(){return[[],[]]});function d1(n,o,a){var h=Le(n)?Pa:xc,g=arguments.length<3;return h(n,Ce(o,4),a,g,ar)}function h1(n,o,a){var h=Le(n)?Cb:xc,g=arguments.length<3;return h(n,Ce(o,4),a,g,Zc)}function p1(n,o){var a=Le(n)?rr:ef;return a(n,_s(Ce(o,3)))}function v1(n){var o=Le(n)?Qc:a_;return o(n)}function m1(n,o,a){(a?Bt(n,o,a):o===r)?o=1:o=Ue(o);var h=Le(n)?Ny:l_;return h(n,o)}function g1(n){var o=Le(n)?My:c_;return o(n)}function b1(n){if(n==null)return 0;if(zt(n))return Ss(n)?Yr(n):n.length;var o=xt(n);return o==Q||o==Je?n.size:Ga(n).length}function y1(n,o,a){var h=Le(n)?Ra:f_;return a&&Bt(n,o,a)&&(o=r),h(n,Ce(o,3))}var _1=Ne(function(n,o){if(n==null)return[];var a=o.length;return a>1&&Bt(n,o[0],o[1])?o=[]:a>2&&Bt(o[0],o[1],o[2])&&(o=[o[0]]),ff(n,kt(o,1),[])}),bs=ey||function(){return Rt.Date.now()};function w1(n,o){if(typeof o!="function")throw new sn(s);return n=Ue(n),function(){if(--n<1)return o.apply(this,arguments)}}function id(n,o,a){return o=a?r:o,o=n&&o==null?n.length:o,Fn(n,F,r,r,r,r,o)}function sd(n,o){var a;if(typeof o!="function")throw new sn(s);return n=Ue(n),function(){return--n>0&&(a=o.apply(this,arguments)),n<=1&&(o=r),a}}var gl=Ne(function(n,o,a){var h=O;if(a.length){var g=ir(a,oo(gl));h|=j}return Fn(n,h,o,a,g)}),ad=Ne(function(n,o,a){var h=O|T;if(a.length){var g=ir(a,oo(ad));h|=j}return Fn(o,h,n,a,g)});function ld(n,o,a){o=a?r:o;var h=Fn(n,M,r,r,r,r,r,o);return h.placeholder=ld.placeholder,h}function ud(n,o,a){o=a?r:o;var h=Fn(n,H,r,r,r,r,r,o);return h.placeholder=ud.placeholder,h}function cd(n,o,a){var h,g,_,C,L,D,te=0,ne=!1,ie=!1,de=!0;if(typeof n!="function")throw new sn(s);o=fn(o)||0,ut(a)&&(ne=!!a.leading,ie="maxWait"in a,_=ie?wt(fn(a.maxWait)||0,o):_,de="trailing"in a?!!a.trailing:de);function be(mt){var gn=h,Wn=g;return h=g=r,te=mt,C=n.apply(Wn,gn),C}function Pe(mt){return te=mt,L=Fo(ze,o),ne?be(mt):C}function Be(mt){var gn=mt-D,Wn=mt-te,Rd=o-gn;return ie?It(Rd,_-Wn):Rd}function Re(mt){var gn=mt-D,Wn=mt-te;return D===r||gn>=o||gn<0||ie&&Wn>=_}function ze(){var mt=bs();if(Re(mt))return qe(mt);L=Fo(ze,Be(mt))}function qe(mt){return L=r,de&&h?be(mt):(h=g=r,C)}function Yt(){L!==r&&_f(L),te=0,h=D=g=L=r}function Nt(){return L===r?C:qe(bs())}function Xt(){var mt=bs(),gn=Re(mt);if(h=arguments,g=this,D=mt,gn){if(L===r)return Pe(D);if(ie)return _f(L),L=Fo(ze,o),be(D)}return L===r&&(L=Fo(ze,o)),C}return Xt.cancel=Yt,Xt.flush=Nt,Xt}var S1=Ne(function(n,o){return Jc(n,1,o)}),$1=Ne(function(n,o,a){return Jc(n,fn(o)||0,a)});function E1(n){return Fn(n,K)}function ys(n,o){if(typeof n!="function"||o!=null&&typeof o!="function")throw new sn(s);var a=function(){var h=arguments,g=o?o.apply(this,h):h[0],_=a.cache;if(_.has(g))return _.get(g);var C=n.apply(this,h);return a.cache=_.set(g,C)||_,C};return a.cache=new(ys.Cache||Nn),a}ys.Cache=Nn;function _s(n){if(typeof n!="function")throw new sn(s);return function(){var o=arguments;switch(o.length){case 0:return!n.call(this);case 1:return!n.call(this,o[0]);case 2:return!n.call(this,o[0],o[1]);case 3:return!n.call(this,o[0],o[1],o[2])}return!n.apply(this,o)}}function C1(n){return sd(2,n)}var T1=d_(function(n,o){o=o.length==1&&Le(o[0])?at(o[0],Gt(Ce())):at(kt(o,1),Gt(Ce()));var a=o.length;return Ne(function(h){for(var g=-1,_=It(h.length,a);++g<_;)h[g]=o[g].call(this,h[g]);return Vt(n,this,h)})}),bl=Ne(function(n,o){var a=ir(o,oo(bl));return Fn(n,j,r,o,a)}),fd=Ne(function(n,o){var a=ir(o,oo(fd));return Fn(n,re,r,o,a)}),A1=zn(function(n,o){return Fn(n,J,r,r,r,o)});function P1(n,o){if(typeof n!="function")throw new sn(s);return o=o===r?o:Ue(o),Ne(n,o)}function R1(n,o){if(typeof n!="function")throw new sn(s);return o=o==null?0:wt(Ue(o),0),Ne(function(a){var h=a[o],g=cr(a,0,o);return h&&or(g,h),Vt(n,this,g)})}function k1(n,o,a){var h=!0,g=!0;if(typeof n!="function")throw new sn(s);return ut(a)&&(h="leading"in a?!!a.leading:h,g="trailing"in a?!!a.trailing:g),cd(n,o,{leading:h,maxWait:o,trailing:g})}function O1(n){return id(n,1)}function L1(n,o){return bl(nl(o),n)}function I1(){if(!arguments.length)return[];var n=arguments[0];return Le(n)?n:[n]}function x1(n){return ln(n,E)}function D1(n,o){return o=typeof o=="function"?o:r,ln(n,E,o)}function U1(n){return ln(n,m|E)}function B1(n,o){return o=typeof o=="function"?o:r,ln(n,m|E,o)}function N1(n,o){return o==null||Xc(n,o,Ct(o))}function mn(n,o){return n===o||n!==n&&o!==o}var M1=ds(qa),F1=ds(function(n,o){return n>=o}),Pr=rf(function(){return arguments}())?rf:function(n){return dt(n)&&Qe.call(n,"callee")&&!jc.call(n,"callee")},Le=z.isArray,z1=Ec?Gt(Ec):Qy;function zt(n){return n!=null&&ws(n.length)&&!jn(n)}function vt(n){return dt(n)&&zt(n)}function H1(n){return n===!0||n===!1||dt(n)&&Ut(n)==he}var fr=ny||Rl,j1=Cc?Gt(Cc):Yy;function q1(n){return dt(n)&&n.nodeType===1&&!zo(n)}function W1(n){if(n==null)return!0;if(zt(n)&&(Le(n)||typeof n=="string"||typeof n.splice=="function"||fr(n)||io(n)||Pr(n)))return!n.length;var o=xt(n);if(o==Q||o==Je)return!n.size;if(Mo(n))return!Ga(n).length;for(var a in n)if(Qe.call(n,a))return!1;return!0}function V1(n,o){return Uo(n,o)}function G1(n,o,a){a=typeof a=="function"?a:r;var h=a?a(n,o):r;return h===r?Uo(n,o,r,a):!!h}function yl(n){if(!dt(n))return!1;var o=Ut(n);return o==ye||o==fe||typeof n.message=="string"&&typeof n.name=="string"&&!zo(n)}function K1(n){return typeof n=="number"&&Wc(n)}function jn(n){if(!ut(n))return!1;var o=Ut(n);return o==De||o==ee||o==V||o==Pt}function dd(n){return typeof n=="number"&&n==Ue(n)}function ws(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=k}function ut(n){var o=typeof n;return n!=null&&(o=="object"||o=="function")}function dt(n){return n!=null&&typeof n=="object"}var hd=Tc?Gt(Tc):Jy;function Q1(n,o){return n===o||Va(n,o,ul(o))}function Y1(n,o,a){return a=typeof a=="function"?a:r,Va(n,o,ul(o),a)}function X1(n){return pd(n)&&n!=+n}function J1(n){if(D_(n))throw new Oe(u);return of(n)}function Z1(n){return n===null}function ew(n){return n==null}function pd(n){return typeof n=="number"||dt(n)&&Ut(n)==pe}function zo(n){if(!dt(n)||Ut(n)!=_e)return!1;var o=Ki(n);if(o===null)return!0;var a=Qe.call(o,"constructor")&&o.constructor;return typeof a=="function"&&a instanceof a&&qi.call(a)==Yb}var _l=Ac?Gt(Ac):Zy;function tw(n){return dd(n)&&n>=-k&&n<=k}var vd=Pc?Gt(Pc):e_;function Ss(n){return typeof n=="string"||!Le(n)&&dt(n)&&Ut(n)==nn}function Qt(n){return typeof n=="symbol"||dt(n)&&Ut(n)==yr}var io=Rc?Gt(Rc):t_;function nw(n){return n===r}function rw(n){return dt(n)&&xt(n)==tr}function ow(n){return dt(n)&&Ut(n)==Di}var iw=ds(Ka),sw=ds(function(n,o){return n<=o});function md(n){if(!n)return[];if(zt(n))return Ss(n)?pn(n):Ft(n);if(Po&&n[Po])return Nb(n[Po]());var o=xt(n),a=o==Q?Da:o==Je?zi:so;return a(n)}function qn(n){if(!n)return n===0?n:0;if(n=fn(n),n===A||n===-A){var o=n<0?-1:1;return o*q}return n===n?n:0}function Ue(n){var o=qn(n),a=o%1;return o===o?a?o-a:o:0}function gd(n){return n?Er(Ue(n),0,X):0}function fn(n){if(typeof n=="number")return n;if(Qt(n))return Y;if(ut(n)){var o=typeof n.valueOf=="function"?n.valueOf():n;n=ut(o)?o+"":o}if(typeof n!="string")return n===0?n:+n;n=Dc(n);var a=zg.test(n);return a||jg.test(n)?wb(n.slice(2),a?2:8):Fg.test(n)?Y:+n}function bd(n){return Cn(n,Ht(n))}function aw(n){return n?Er(Ue(n),-k,k):n===0?n:0}function Ke(n){return n==null?"":Kt(n)}var lw=no(function(n,o){if(Mo(o)||zt(o)){Cn(o,Ct(o),n);return}for(var a in o)Qe.call(o,a)&&Io(n,a,o[a])}),yd=no(function(n,o){Cn(o,Ht(o),n)}),$s=no(function(n,o,a,h){Cn(o,Ht(o),n,h)}),uw=no(function(n,o,a,h){Cn(o,Ct(o),n,h)}),cw=zn(za);function fw(n,o){var a=to(n);return o==null?a:Yc(a,o)}var dw=Ne(function(n,o){n=Ze(n);var a=-1,h=o.length,g=h>2?o[2]:r;for(g&&Bt(o[0],o[1],g)&&(h=1);++a<h;)for(var _=o[a],C=Ht(_),L=-1,D=C.length;++L<D;){var te=C[L],ne=n[te];(ne===r||mn(ne,Jr[te])&&!Qe.call(n,te))&&(n[te]=_[te])}return n}),hw=Ne(function(n){return n.push(r,Uf),Vt(_d,r,n)});function pw(n,o){return Oc(n,Ce(o,3),En)}function vw(n,o){return Oc(n,Ce(o,3),ja)}function mw(n,o){return n==null?n:Ha(n,Ce(o,3),Ht)}function gw(n,o){return n==null?n:tf(n,Ce(o,3),Ht)}function bw(n,o){return n&&En(n,Ce(o,3))}function yw(n,o){return n&&ja(n,Ce(o,3))}function _w(n){return n==null?[]:os(n,Ct(n))}function ww(n){return n==null?[]:os(n,Ht(n))}function wl(n,o,a){var h=n==null?r:Cr(n,o);return h===r?a:h}function Sw(n,o){return n!=null&&Mf(n,o,Wy)}function Sl(n,o){return n!=null&&Mf(n,o,Vy)}var $w=Of(function(n,o,a){o!=null&&typeof o.toString!="function"&&(o=Wi.call(o)),n[o]=a},El(jt)),Ew=Of(function(n,o,a){o!=null&&typeof o.toString!="function"&&(o=Wi.call(o)),Qe.call(n,o)?n[o].push(a):n[o]=[a]},Ce),Cw=Ne(Do);function Ct(n){return zt(n)?Kc(n):Ga(n)}function Ht(n){return zt(n)?Kc(n,!0):n_(n)}function Tw(n,o){var a={};return o=Ce(o,3),En(n,function(h,g,_){Mn(a,o(h,g,_),h)}),a}function Aw(n,o){var a={};return o=Ce(o,3),En(n,function(h,g,_){Mn(a,g,o(h,g,_))}),a}var Pw=no(function(n,o,a){is(n,o,a)}),_d=no(function(n,o,a,h){is(n,o,a,h)}),Rw=zn(function(n,o){var a={};if(n==null)return a;var h=!1;o=at(o,function(_){return _=ur(_,n),h||(h=_.length>1),_}),Cn(n,al(n),a),h&&(a=ln(a,m|y|E,$_));for(var g=o.length;g--;)Za(a,o[g]);return a});function kw(n,o){return wd(n,_s(Ce(o)))}var Ow=zn(function(n,o){return n==null?{}:o_(n,o)});function wd(n,o){if(n==null)return{};var a=at(al(n),function(h){return[h]});return o=Ce(o),df(n,a,function(h,g){return o(h,g[0])})}function Lw(n,o,a){o=ur(o,n);var h=-1,g=o.length;for(g||(g=1,n=r);++h<g;){var _=n==null?r:n[Tn(o[h])];_===r&&(h=g,_=a),n=jn(_)?_.call(n):_}return n}function Iw(n,o,a){return n==null?n:Bo(n,o,a)}function xw(n,o,a,h){return h=typeof h=="function"?h:r,n==null?n:Bo(n,o,a,h)}var Sd=xf(Ct),$d=xf(Ht);function Dw(n,o,a){var h=Le(n),g=h||fr(n)||io(n);if(o=Ce(o,4),a==null){var _=n&&n.constructor;g?a=h?new _:[]:ut(n)?a=jn(_)?to(Ki(n)):{}:a={}}return(g?on:En)(n,function(C,L,D){return o(a,C,L,D)}),a}function Uw(n,o){return n==null?!0:Za(n,o)}function Bw(n,o,a){return n==null?n:gf(n,o,nl(a))}function Nw(n,o,a,h){return h=typeof h=="function"?h:r,n==null?n:gf(n,o,nl(a),h)}function so(n){return n==null?[]:xa(n,Ct(n))}function Mw(n){return n==null?[]:xa(n,Ht(n))}function Fw(n,o,a){return a===r&&(a=o,o=r),a!==r&&(a=fn(a),a=a===a?a:0),o!==r&&(o=fn(o),o=o===o?o:0),Er(fn(n),o,a)}function zw(n,o,a){return o=qn(o),a===r?(a=o,o=0):a=qn(a),n=fn(n),Gy(n,o,a)}function Hw(n,o,a){if(a&&typeof a!="boolean"&&Bt(n,o,a)&&(o=a=r),a===r&&(typeof o=="boolean"?(a=o,o=r):typeof n=="boolean"&&(a=n,n=r)),n===r&&o===r?(n=0,o=1):(n=qn(n),o===r?(o=n,n=0):o=qn(o)),n>o){var h=n;n=o,o=h}if(a||n%1||o%1){var g=Vc();return It(n+g*(o-n+_b("1e-"+((g+"").length-1))),o)}return Ya(n,o)}var jw=ro(function(n,o,a){return o=o.toLowerCase(),n+(a?Ed(o):o)});function Ed(n){return $l(Ke(n).toLowerCase())}function Cd(n){return n=Ke(n),n&&n.replace(Wg,Ib).replace(cb,"")}function qw(n,o,a){n=Ke(n),o=Kt(o);var h=n.length;a=a===r?h:Er(Ue(a),0,h);var g=a;return a-=o.length,a>=0&&n.slice(a,g)==o}function Ww(n){return n=Ke(n),n&&Cg.test(n)?n.replace(tc,xb):n}function Vw(n){return n=Ke(n),n&&Og.test(n)?n.replace(ba,"\\$&"):n}var Gw=ro(function(n,o,a){return n+(a?"-":"")+o.toLowerCase()}),Kw=ro(function(n,o,a){return n+(a?" ":"")+o.toLowerCase()}),Qw=Pf("toLowerCase");function Yw(n,o,a){n=Ke(n),o=Ue(o);var h=o?Yr(n):0;if(!o||h>=o)return n;var g=(o-h)/2;return fs(Ji(g),a)+n+fs(Xi(g),a)}function Xw(n,o,a){n=Ke(n),o=Ue(o);var h=o?Yr(n):0;return o&&h<o?n+fs(o-h,a):n}function Jw(n,o,a){n=Ke(n),o=Ue(o);var h=o?Yr(n):0;return o&&h<o?fs(o-h,a)+n:n}function Zw(n,o,a){return a||o==null?o=0:o&&(o=+o),sy(Ke(n).replace(ya,""),o||0)}function eS(n,o,a){return(a?Bt(n,o,a):o===r)?o=1:o=Ue(o),Xa(Ke(n),o)}function tS(){var n=arguments,o=Ke(n[0]);return n.length<3?o:o.replace(n[1],n[2])}var nS=ro(function(n,o,a){return n+(a?"_":"")+o.toLowerCase()});function rS(n,o,a){return a&&typeof a!="number"&&Bt(n,o,a)&&(o=a=r),a=a===r?X:a>>>0,a?(n=Ke(n),n&&(typeof o=="string"||o!=null&&!_l(o))&&(o=Kt(o),!o&&Qr(n))?cr(pn(n),0,a):n.split(o,a)):[]}var oS=ro(function(n,o,a){return n+(a?" ":"")+$l(o)});function iS(n,o,a){return n=Ke(n),a=a==null?0:Er(Ue(a),0,n.length),o=Kt(o),n.slice(a,a+o.length)==o}function sS(n,o,a){var h=b.templateSettings;a&&Bt(n,o,a)&&(o=r),n=Ke(n),o=$s({},o,h,Df);var g=$s({},o.imports,h.imports,Df),_=Ct(g),C=xa(g,_),L,D,te=0,ne=o.interpolate||Ui,ie="__p += '",de=Ua((o.escape||Ui).source+"|"+ne.source+"|"+(ne===nc?Mg:Ui).source+"|"+(o.evaluate||Ui).source+"|$","g"),be="//# sourceURL="+(Qe.call(o,"sourceURL")?(o.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++vb+"]")+"\n";n.replace(de,function(Re,ze,qe,Yt,Nt,Xt){return qe||(qe=Yt),ie+=n.slice(te,Xt).replace(Vg,Db),ze&&(L=!0,ie+="' +\n__e("+ze+") +\n'"),Nt&&(D=!0,ie+="';\n"+Nt+";\n__p += '"),qe&&(ie+="' +\n((__t = ("+qe+")) == null ? '' : __t) +\n'"),te=Xt+Re.length,Re}),ie+="';\n";var Pe=Qe.call(o,"variable")&&o.variable;if(!Pe)ie="with (obj) {\n"+ie+"\n}\n";else if(Bg.test(Pe))throw new Oe(f);ie=(D?ie.replace(wg,""):ie).replace(Sg,"$1").replace($g,"$1;"),ie="function("+(Pe||"obj")+") {\n"+(Pe?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(L?", __e = _.escape":"")+(D?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+ie+"return __p\n}";var Be=Ad(function(){return Ge(_,be+"return "+ie).apply(r,C)});if(Be.source=ie,yl(Be))throw Be;return Be}function aS(n){return Ke(n).toLowerCase()}function lS(n){return Ke(n).toUpperCase()}function uS(n,o,a){if(n=Ke(n),n&&(a||o===r))return Dc(n);if(!n||!(o=Kt(o)))return n;var h=pn(n),g=pn(o),_=Uc(h,g),C=Bc(h,g)+1;return cr(h,_,C).join("")}function cS(n,o,a){if(n=Ke(n),n&&(a||o===r))return n.slice(0,Mc(n)+1);if(!n||!(o=Kt(o)))return n;var h=pn(n),g=Bc(h,pn(o))+1;return cr(h,0,g).join("")}function fS(n,o,a){if(n=Ke(n),n&&(a||o===r))return n.replace(ya,"");if(!n||!(o=Kt(o)))return n;var h=pn(n),g=Uc(h,pn(o));return cr(h,g).join("")}function dS(n,o){var a=se,h=le;if(ut(o)){var g="separator"in o?o.separator:g;a="length"in o?Ue(o.length):a,h="omission"in o?Kt(o.omission):h}n=Ke(n);var _=n.length;if(Qr(n)){var C=pn(n);_=C.length}if(a>=_)return n;var L=a-Yr(h);if(L<1)return h;var D=C?cr(C,0,L).join(""):n.slice(0,L);if(g===r)return D+h;if(C&&(L+=D.length-L),_l(g)){if(n.slice(L).search(g)){var te,ne=D;for(g.global||(g=Ua(g.source,Ke(rc.exec(g))+"g")),g.lastIndex=0;te=g.exec(ne);)var ie=te.index;D=D.slice(0,ie===r?L:ie)}}else if(n.indexOf(Kt(g),L)!=L){var de=D.lastIndexOf(g);de>-1&&(D=D.slice(0,de))}return D+h}function hS(n){return n=Ke(n),n&&Eg.test(n)?n.replace(ec,Hb):n}var pS=ro(function(n,o,a){return n+(a?" ":"")+o.toUpperCase()}),$l=Pf("toUpperCase");function Td(n,o,a){return n=Ke(n),o=a?r:o,o===r?Bb(n)?Wb(n):Pb(n):n.match(o)||[]}var Ad=Ne(function(n,o){try{return Vt(n,r,o)}catch(a){return yl(a)?a:new Oe(a)}}),vS=zn(function(n,o){return on(o,function(a){a=Tn(a),Mn(n,a,gl(n[a],n))}),n});function mS(n){var o=n==null?0:n.length,a=Ce();return n=o?at(n,function(h){if(typeof h[1]!="function")throw new sn(s);return[a(h[0]),h[1]]}):[],Ne(function(h){for(var g=-1;++g<o;){var _=n[g];if(Vt(_[0],this,h))return Vt(_[1],this,h)}})}function gS(n){return Hy(ln(n,m))}function El(n){return function(){return n}}function bS(n,o){return n==null||n!==n?o:n}var yS=kf(),_S=kf(!0);function jt(n){return n}function Cl(n){return sf(typeof n=="function"?n:ln(n,m))}function wS(n){return lf(ln(n,m))}function SS(n,o){return uf(n,ln(o,m))}var $S=Ne(function(n,o){return function(a){return Do(a,n,o)}}),ES=Ne(function(n,o){return function(a){return Do(n,a,o)}});function Tl(n,o,a){var h=Ct(o),g=os(o,h);a==null&&!(ut(o)&&(g.length||!h.length))&&(a=o,o=n,n=this,g=os(o,Ct(o)));var _=!(ut(a)&&"chain"in a)||!!a.chain,C=jn(n);return on(g,function(L){var D=o[L];n[L]=D,C&&(n.prototype[L]=function(){var te=this.__chain__;if(_||te){var ne=n(this.__wrapped__),ie=ne.__actions__=Ft(this.__actions__);return ie.push({func:D,args:arguments,thisArg:n}),ne.__chain__=te,ne}return D.apply(n,or([this.value()],arguments))})}),n}function CS(){return Rt._===this&&(Rt._=Xb),this}function Al(){}function TS(n){return n=Ue(n),Ne(function(o){return cf(o,n)})}var AS=ol(at),PS=ol(kc),RS=ol(Ra);function Pd(n){return fl(n)?ka(Tn(n)):i_(n)}function kS(n){return function(o){return n==null?r:Cr(n,o)}}var OS=Lf(),LS=Lf(!0);function Pl(){return[]}function Rl(){return!1}function IS(){return{}}function xS(){return""}function DS(){return!0}function US(n,o){if(n=Ue(n),n<1||n>k)return[];var a=X,h=It(n,X);o=Ce(o),n-=X;for(var g=Ia(h,o);++a<n;)o(a);return g}function BS(n){return Le(n)?at(n,Tn):Qt(n)?[n]:Ft(Kf(Ke(n)))}function NS(n){var o=++Qb;return Ke(n)+o}var MS=cs(function(n,o){return n+o},0),FS=il("ceil"),zS=cs(function(n,o){return n/o},1),HS=il("floor");function jS(n){return n&&n.length?rs(n,jt,qa):r}function qS(n,o){return n&&n.length?rs(n,Ce(o,2),qa):r}function WS(n){return Ic(n,jt)}function VS(n,o){return Ic(n,Ce(o,2))}function GS(n){return n&&n.length?rs(n,jt,Ka):r}function KS(n,o){return n&&n.length?rs(n,Ce(o,2),Ka):r}var QS=cs(function(n,o){return n*o},1),YS=il("round"),XS=cs(function(n,o){return n-o},0);function JS(n){return n&&n.length?La(n,jt):0}function ZS(n,o){return n&&n.length?La(n,Ce(o,2)):0}return b.after=w1,b.ary=id,b.assign=lw,b.assignIn=yd,b.assignInWith=$s,b.assignWith=uw,b.at=cw,b.before=sd,b.bind=gl,b.bindAll=vS,b.bindKey=ad,b.castArray=I1,b.chain=nd,b.chunk=H_,b.compact=j_,b.concat=q_,b.cond=mS,b.conforms=gS,b.constant=El,b.countBy=J0,b.create=fw,b.curry=ld,b.curryRight=ud,b.debounce=cd,b.defaults=dw,b.defaultsDeep=hw,b.defer=S1,b.delay=$1,b.difference=W_,b.differenceBy=V_,b.differenceWith=G_,b.drop=K_,b.dropRight=Q_,b.dropRightWhile=Y_,b.dropWhile=X_,b.fill=J_,b.filter=e1,b.flatMap=r1,b.flatMapDeep=o1,b.flatMapDepth=i1,b.flatten=Jf,b.flattenDeep=Z_,b.flattenDepth=e0,b.flip=E1,b.flow=yS,b.flowRight=_S,b.fromPairs=t0,b.functions=_w,b.functionsIn=ww,b.groupBy=s1,b.initial=r0,b.intersection=o0,b.intersectionBy=i0,b.intersectionWith=s0,b.invert=$w,b.invertBy=Ew,b.invokeMap=l1,b.iteratee=Cl,b.keyBy=u1,b.keys=Ct,b.keysIn=Ht,b.map=gs,b.mapKeys=Tw,b.mapValues=Aw,b.matches=wS,b.matchesProperty=SS,b.memoize=ys,b.merge=Pw,b.mergeWith=_d,b.method=$S,b.methodOf=ES,b.mixin=Tl,b.negate=_s,b.nthArg=TS,b.omit=Rw,b.omitBy=kw,b.once=C1,b.orderBy=c1,b.over=AS,b.overArgs=T1,b.overEvery=PS,b.overSome=RS,b.partial=bl,b.partialRight=fd,b.partition=f1,b.pick=Ow,b.pickBy=wd,b.property=Pd,b.propertyOf=kS,b.pull=c0,b.pullAll=ed,b.pullAllBy=f0,b.pullAllWith=d0,b.pullAt=h0,b.range=OS,b.rangeRight=LS,b.rearg=A1,b.reject=p1,b.remove=p0,b.rest=P1,b.reverse=vl,b.sampleSize=m1,b.set=Iw,b.setWith=xw,b.shuffle=g1,b.slice=v0,b.sortBy=_1,b.sortedUniq=S0,b.sortedUniqBy=$0,b.split=rS,b.spread=R1,b.tail=E0,b.take=C0,b.takeRight=T0,b.takeRightWhile=A0,b.takeWhile=P0,b.tap=j0,b.throttle=k1,b.thru=ms,b.toArray=md,b.toPairs=Sd,b.toPairsIn=$d,b.toPath=BS,b.toPlainObject=bd,b.transform=Dw,b.unary=O1,b.union=R0,b.unionBy=k0,b.unionWith=O0,b.uniq=L0,b.uniqBy=I0,b.uniqWith=x0,b.unset=Uw,b.unzip=ml,b.unzipWith=td,b.update=Bw,b.updateWith=Nw,b.values=so,b.valuesIn=Mw,b.without=D0,b.words=Td,b.wrap=L1,b.xor=U0,b.xorBy=B0,b.xorWith=N0,b.zip=M0,b.zipObject=F0,b.zipObjectDeep=z0,b.zipWith=H0,b.entries=Sd,b.entriesIn=$d,b.extend=yd,b.extendWith=$s,Tl(b,b),b.add=MS,b.attempt=Ad,b.camelCase=jw,b.capitalize=Ed,b.ceil=FS,b.clamp=Fw,b.clone=x1,b.cloneDeep=U1,b.cloneDeepWith=B1,b.cloneWith=D1,b.conformsTo=N1,b.deburr=Cd,b.defaultTo=bS,b.divide=zS,b.endsWith=qw,b.eq=mn,b.escape=Ww,b.escapeRegExp=Vw,b.every=Z0,b.find=t1,b.findIndex=Yf,b.findKey=pw,b.findLast=n1,b.findLastIndex=Xf,b.findLastKey=vw,b.floor=HS,b.forEach=rd,b.forEachRight=od,b.forIn=mw,b.forInRight=gw,b.forOwn=bw,b.forOwnRight=yw,b.get=wl,b.gt=M1,b.gte=F1,b.has=Sw,b.hasIn=Sl,b.head=Zf,b.identity=jt,b.includes=a1,b.indexOf=n0,b.inRange=zw,b.invoke=Cw,b.isArguments=Pr,b.isArray=Le,b.isArrayBuffer=z1,b.isArrayLike=zt,b.isArrayLikeObject=vt,b.isBoolean=H1,b.isBuffer=fr,b.isDate=j1,b.isElement=q1,b.isEmpty=W1,b.isEqual=V1,b.isEqualWith=G1,b.isError=yl,b.isFinite=K1,b.isFunction=jn,b.isInteger=dd,b.isLength=ws,b.isMap=hd,b.isMatch=Q1,b.isMatchWith=Y1,b.isNaN=X1,b.isNative=J1,b.isNil=ew,b.isNull=Z1,b.isNumber=pd,b.isObject=ut,b.isObjectLike=dt,b.isPlainObject=zo,b.isRegExp=_l,b.isSafeInteger=tw,b.isSet=vd,b.isString=Ss,b.isSymbol=Qt,b.isTypedArray=io,b.isUndefined=nw,b.isWeakMap=rw,b.isWeakSet=ow,b.join=a0,b.kebabCase=Gw,b.last=cn,b.lastIndexOf=l0,b.lowerCase=Kw,b.lowerFirst=Qw,b.lt=iw,b.lte=sw,b.max=jS,b.maxBy=qS,b.mean=WS,b.meanBy=VS,b.min=GS,b.minBy=KS,b.stubArray=Pl,b.stubFalse=Rl,b.stubObject=IS,b.stubString=xS,b.stubTrue=DS,b.multiply=QS,b.nth=u0,b.noConflict=CS,b.noop=Al,b.now=bs,b.pad=Yw,b.padEnd=Xw,b.padStart=Jw,b.parseInt=Zw,b.random=Hw,b.reduce=d1,b.reduceRight=h1,b.repeat=eS,b.replace=tS,b.result=Lw,b.round=YS,b.runInContext=x,b.sample=v1,b.size=b1,b.snakeCase=nS,b.some=y1,b.sortedIndex=m0,b.sortedIndexBy=g0,b.sortedIndexOf=b0,b.sortedLastIndex=y0,b.sortedLastIndexBy=_0,b.sortedLastIndexOf=w0,b.startCase=oS,b.startsWith=iS,b.subtract=XS,b.sum=JS,b.sumBy=ZS,b.template=sS,b.times=US,b.toFinite=qn,b.toInteger=Ue,b.toLength=gd,b.toLower=aS,b.toNumber=fn,b.toSafeInteger=aw,b.toString=Ke,b.toUpper=lS,b.trim=uS,b.trimEnd=cS,b.trimStart=fS,b.truncate=dS,b.unescape=hS,b.uniqueId=NS,b.upperCase=pS,b.upperFirst=$l,b.each=rd,b.eachRight=od,b.first=Zf,Tl(b,function(){var n={};return En(b,function(o,a){Qe.call(b.prototype,a)||(n[a]=o)}),n}(),{chain:!1}),b.VERSION=i,on(["bind","bindKey","curry","curryRight","partial","partialRight"],function(n){b[n].placeholder=b}),on(["drop","take"],function(n,o){He.prototype[n]=function(a){a=a===r?1:wt(Ue(a),0);var h=this.__filtered__&&!o?new He(this):this.clone();return h.__filtered__?h.__takeCount__=It(a,h.__takeCount__):h.__views__.push({size:It(a,X),type:n+(h.__dir__<0?"Right":"")}),h},He.prototype[n+"Right"]=function(a){return this.reverse()[n](a).reverse()}}),on(["filter","map","takeWhile"],function(n,o){var a=o+1,h=a==ue||a==P;He.prototype[n]=function(g){var _=this.clone();return _.__iteratees__.push({iteratee:Ce(g,3),type:a}),_.__filtered__=_.__filtered__||h,_}}),on(["head","last"],function(n,o){var a="take"+(o?"Right":"");He.prototype[n]=function(){return this[a](1).value()[0]}}),on(["initial","tail"],function(n,o){var a="drop"+(o?"":"Right");He.prototype[n]=function(){return this.__filtered__?new He(this):this[a](1)}}),He.prototype.compact=function(){return this.filter(jt)},He.prototype.find=function(n){return this.filter(n).head()},He.prototype.findLast=function(n){return this.reverse().find(n)},He.prototype.invokeMap=Ne(function(n,o){return typeof n=="function"?new He(this):this.map(function(a){return Do(a,n,o)})}),He.prototype.reject=function(n){return this.filter(_s(Ce(n)))},He.prototype.slice=function(n,o){n=Ue(n);var a=this;return a.__filtered__&&(n>0||o<0)?new He(a):(n<0?a=a.takeRight(-n):n&&(a=a.drop(n)),o!==r&&(o=Ue(o),a=o<0?a.dropRight(-o):a.take(o-n)),a)},He.prototype.takeRightWhile=function(n){return this.reverse().takeWhile(n).reverse()},He.prototype.toArray=function(){return this.take(X)},En(He.prototype,function(n,o){var a=/^(?:filter|find|map|reject)|While$/.test(o),h=/^(?:head|last)$/.test(o),g=b[h?"take"+(o=="last"?"Right":""):o],_=h||/^find/.test(o);g&&(b.prototype[o]=function(){var C=this.__wrapped__,L=h?[1]:arguments,D=C instanceof He,te=L[0],ne=D||Le(C),ie=function(ze){var qe=g.apply(b,or([ze],L));return h&&de?qe[0]:qe};ne&&a&&typeof te=="function"&&te.length!=1&&(D=ne=!1);var de=this.__chain__,be=!!this.__actions__.length,Pe=_&&!de,Be=D&&!be;if(!_&&ne){C=Be?C:new He(this);var Re=n.apply(C,L);return Re.__actions__.push({func:ms,args:[ie],thisArg:r}),new an(Re,de)}return Pe&&Be?n.apply(this,L):(Re=this.thru(ie),Pe?h?Re.value()[0]:Re.value():Re)})}),on(["pop","push","shift","sort","splice","unshift"],function(n){var o=Hi[n],a=/^(?:push|sort|unshift)$/.test(n)?"tap":"thru",h=/^(?:pop|shift)$/.test(n);b.prototype[n]=function(){var g=arguments;if(h&&!this.__chain__){var _=this.value();return o.apply(Le(_)?_:[],g)}return this[a](function(C){return o.apply(Le(C)?C:[],g)})}}),En(He.prototype,function(n,o){var a=b[o];if(a){var h=a.name+"";Qe.call(eo,h)||(eo[h]=[]),eo[h].push({name:o,func:a})}}),eo[us(r,T).name]=[{name:"wrapper",func:r}],He.prototype.clone=hy,He.prototype.reverse=py,He.prototype.value=vy,b.prototype.at=q0,b.prototype.chain=W0,b.prototype.commit=V0,b.prototype.next=G0,b.prototype.plant=Q0,b.prototype.reverse=Y0,b.prototype.toJSON=b.prototype.valueOf=b.prototype.value=X0,b.prototype.first=b.prototype.head,Po&&(b.prototype[Po]=K0),b},Xr=Vb();_r?((_r.exports=Xr)._=Xr,Ca._=Xr):Rt._=Xr}).call(yn)})(Ks,Ks.exports);var Op=Ks.exports;const Z8={name:"shell",computed:{...Et(Me,["showShell"]),...Et(lt,["isFiles"]),path:function(){return this.isFiles?this.$route.path:""}},data:()=>({content:[],history:[],historyPos:0,canInput:!0,shellDrag:!1,shellHeight:25,fontsize:parseFloat(getComputedStyle(document.documentElement).fontSize)}),mounted(){window.addEventListener("resize",this.resize)},beforeUnmount(){window.removeEventListener("resize",this.resize)},methods:{...Mt(Me,["toggleShell"]),checkTheme(){return Qp=="dark"?"rgba(255, 255, 255, 0.4)":"rgba(127, 127, 127, 0.4)"},startDrag(){document.addEventListener("pointermove",this.handleDrag),this.shellDrag=!0},stopDrag(){document.removeEventListener("pointermove",this.handleDrag),this.shellDrag=!1},handleDrag:Op.throttle(function(e){const t=window.innerHeight/this.fontsize-4,r=(window.innerHeight-e.clientY)/this.fontsize,i=2.25+document.querySelector(".shell__divider").offsetHeight/this.fontsize;r<=t&&r>=i&&(this.shellHeight=r.toFixed(2))},32),resize:Op.throttle(function(){const e=window.innerHeight/this.fontsize-4,t=2.25+document.querySelector(".shell__divider").offsetHeight/this.fontsize;this.shellHeight>e?this.shellHeight=e:this.shellHeight<t&&(this.shellHeight=t)},32),scroll:function(){this.$refs.scrollable.scrollTop=this.$refs.scrollable.scrollHeight},focus:function(){this.$refs.input.focus()},historyUp(){this.historyPos>0&&(this.$refs.input.innerText=this.history[--this.historyPos],this.focus())},historyDown(){this.historyPos>=0&&this.historyPos<this.history.length-1?(this.$refs.input.innerText=this.history[++this.historyPos],this.focus()):(this.historyPos=this.history.length,this.$refs.input.innerText="")},submit:function(e){const t=e.target.innerText.trim();if(t==="")return;if(t==="clear"){this.content=[],e.target.innerHTML="";return}if(t==="exit"){e.target.innerHTML="",this.toggleShell();return}this.canInput=!1,e.target.innerHTML="";let r={text:"".concat(t,"\n\n")};this.history.push(t),this.historyPos=this.history.length,this.content.push(r),OL(this.path,t,i=>{r.text+="".concat(i.data,"\n"),this.scroll()},()=>{r.text=r.text.replace(/\u001b\[[0-9;]+m/g,"").trimEnd(),this.canInput=!0,this.$refs.input.focus(),this.scroll()})}}},eU=p("div",{class:"shell__prompt"},[p("i",{class:"material-icons"},"chevron_right")],-1),tU={class:"shell__text"},nU=p("div",{class:"shell__prompt"},[p("i",{class:"material-icons"},"chevron_right")],-1);function rU(e,t,r,i,l,u){return $(),I("div",{class:nt(["shell",{"shell--hidden":!e.showShell}]),style:qt({height:"".concat(this.shellHeight,"em"),direction:"ltr"})},[p("div",{onPointerdown:t[0]||(t[0]=s=>u.startDrag()),onPointerup:t[1]||(t[1]=s=>u.stopDrag()),class:"shell__divider",style:qt(this.shellDrag?{background:"".concat(u.checkTheme())}:"")},null,36),p("div",{onClick:t[5]||(t[5]=(...s)=>u.focus&&u.focus(...s)),class:"shell__content",ref:"scrollable"},[($(!0),I(We,null,bt(e.content,(s,f)=>($(),I("div",{key:f,class:"shell__result"},[eU,p("pre",tU,S(s.text),1)]))),128)),p("div",{class:nt(["shell__result",{"shell__result--hidden":!e.canInput}])},[nU,p("pre",{tabindex:"0",ref:"input",class:"shell__text",contenteditable:!0,onKeydown:[t[2]||(t[2]=Tt(Wt((...s)=>u.historyUp&&u.historyUp(...s),["prevent"]),["arrow-up"])),t[3]||(t[3]=Tt(Wt((...s)=>u.historyDown&&u.historyDown(...s),["prevent"]),["arrow-down"]))],onKeypress:t[4]||(t[4]=Tt(Wt((...s)=>u.submit&&u.submit(...s),["prevent"]),["enter"]))},null,544)],2)],512),Te(p("div",{onPointerup:t[6]||(t[6]=s=>u.stopDrag()),class:"shell__overlay"},null,544),[[xr,this.shellDrag]])],6)}const oU=pt(Z8,[["render",rU]]),iU={name:"uploadFiles",data:function(){return{open:!1}},computed:{...Et(zr,["filesInUpload","filesInUploadCount","uploadSpeed","getETA","getProgress","getProgressDecimal","getTotalProgressBytes","getTotalSize"]),...ta(lt,["reload"]),formattedETA(){if(!this.getETA||this.getETA===1/0)return"--:--:--";let e=this.getETA;const t=Math.floor(e/3600);e%=3600;const r=Math.floor(e/60),i=Math.round(e%60);return"".concat(t.toString().padStart(2,"0"),":").concat(r.toString().padStart(2,"0"),":").concat(i.toString().padStart(2,"0"))}},methods:{...Mt(zr,["reset"]),toggle:function(){this.open=!this.open},abortAll(){confirm(this.$t("upload.abortUpload"))&&(mL(),en.done("upload"),this.open=!1,this.reset(),this.reload=!0)}}},lg=e=>(Mp("data-v-a7d9fb58"),e=e(),Fp(),e),sU={class:"card floating"},aU={class:"card-title"},lU={class:"upload-info"},uU={class:"upload-speed"},cU={class:"upload-eta"},fU={class:"upload-percentage"},dU={class:"upload-fraction"},hU=lg(()=>p("i",{class:"material-icons"},S("cancel"),-1)),pU=[hU],vU={class:"material-icons"},mU={class:"card-content file-icons"},gU=["data-dir","data-type","aria-label"],bU={class:"file-name"},yU=lg(()=>p("i",{class:"material-icons"},null,-1)),_U={class:"file-progress"};function wU(e,t,r,i,l,u){return e.filesInUploadCount>0?($(),I("div",{key:0,class:nt(["upload-files",{closed:!e.open}])},[p("div",sU,[p("div",aU,[p("h2",null,S(e.$t("prompts.uploadFiles",{files:e.filesInUploadCount})),1),p("div",lU,[p("div",uU,S(e.uploadSpeed.toFixed(2))+" MB/s",1),p("div",cU,S(u.formattedETA)+" remaining",1),p("div",fU,S(e.getProgressDecimal)+"% Completed ",1),p("div",dU,S(e.getTotalProgressBytes)+" / "+S(e.getTotalSize),1)]),p("button",{class:"action",onClick:t[0]||(t[0]=(...s)=>u.abortAll&&u.abortAll(...s)),"aria-label":"Abort upload",title:"Abort upload"},pU),p("button",{class:"action",onClick:t[1]||(t[1]=(...s)=>u.toggle&&u.toggle(...s)),"aria-label":"Toggle file upload list",title:"Toggle file upload list"},[p("i",vU,S(e.open?"keyboard_arrow_down":"keyboard_arrow_up"),1)])]),p("div",mU,[($(!0),I(We,null,bt(e.filesInUpload,s=>($(),I("div",{class:"file",key:s.id,"data-dir":s.isDir,"data-type":s.type,"aria-label":s.name},[p("div",bU,[yU,we(" "+S(s.name),1)]),p("div",_U,[p("div",{style:qt({width:s.progress+"%"})},null,4)])],8,gU))),128))])])],2)):oe("",!0)}const SU=pt(iU,[["render",wU],["__scopeId","data-v-a7d9fb58"]]),$U={key:0,class:"progress"},Gl=ke({__name:"Layout",setup(e){const t=Me(),r=yt(),i=lt(),l=zr(),u=$n();return Xe(u,()=>{i.selected=[],i.multiple=!1,t.currentPromptName!=="success"&&t.closeHovers()}),(s,f)=>{var d;const c=$t("router-view");return $(),I("div",null,[w(l).getProgress?($(),I("div",$U,[p("div",{style:qt({width:w(l).getProgress+"%"})},null,4)])):oe("",!0),Ie(dx),p("main",null,[Ie(c),w(go)&&w(r).isLoggedIn&&((d=w(r).user)!=null&&d.perm.execute)?($(),$e(oU,{key:0})):oe("",!0)]),Ie(J8),Ie(SU)])}}}),EU=["aria-label","title"],CU={class:"material-icons"},TU={key:0,class:"counter"},gt=ke({__name:"Action",props:{icon:{},label:{},counter:{},show:{}},emits:["action"],setup(e,{emit:t}){const r=e,i=t,l=Me(),u=()=>{r.show&&l.showHover(r.show),i("action")};return(s,f)=>($(),I("button",{onClick:u,"aria-label":s.label,title:s.label,class:"action"},[p("i",CU,S(s.icon),1),p("span",null,S(s.label),1),s.counter&&s.counter>0?($(),I("span",TU,S(s.counter),1)):oe("",!0)],8,EU))}}),AU=["src"],Li=ke({__name:"HeaderBar",props:{showLogo:{type:Boolean},showMenu:{type:Boolean}},setup(e){const t=Me(),r=c$(),{t:i}=ht(),l=ve(()=>!!r.actions);return(u,s)=>($(),I("header",null,[u.showLogo?($(),I("img",{key:0,src:w(Vp)},null,8,AU)):oe("",!0),u.showMenu?($(),$e(gt,{key:1,class:"menu-button",icon:"menu",label:w(i)("buttons.toggleSidebar"),onAction:s[0]||(s[0]=f=>w(t).showHover("sidebar"))},null,8,["label"])):oe("",!0),mo(u.$slots,"default"),p("div",{id:"dropdown",class:nt({active:w(t).currentPromptName==="more"})},[mo(u.$slots,"actions")],2),l.value?($(),$e(gt,{key:2,id:"more",icon:"more_vert",label:w(i)("buttons.more"),onAction:s[1]||(s[1]=f=>w(t).showHover("more"))},null,8,["label"])):oe("",!0),Te(p("div",{class:"overlay",onClick:s[2]||(s[2]=(...f)=>w(t).closeHovers&&w(t).closeHovers(...f))},null,512),[[xr,w(t).currentPromptName=="more"]])]))}}),PU={class:"breadcrumbs"},RU=p("i",{class:"material-icons"},"home",-1),kU=p("span",{class:"chevron"},[p("i",{class:"material-icons"},"keyboard_arrow_right")],-1),ug=ke({__name:"Breadcrumbs",props:{base:{},noLink:{type:Boolean}},setup(e){const{t}=ht(),r=$n(),i=e,l=ve(()=>{let f=r.path.replace(i.base,"").split("/");f[0]===""&&f.shift(),f[f.length-1]===""&&f.pop();let c=[];for(let d=0;d<f.length;d++)d===0?c.push({name:decodeURIComponent(f[d]),url:i.base+"/"+f[d]+"/"}):c.push({name:decodeURIComponent(f[d]),url:c[d-1].url+f[d]+"/"});if(c.length>3){for(;c.length!==4;)c.shift();c[0].name="..."}return c}),u=ve(()=>i.noLink?"span":"router-link");return(s,f)=>($(),I("div",PU,[($(),$e(Yn(u.value),{to:s.base||"","aria-label":w(t)("files.home"),title:w(t)("files.home")},{default:it(()=>[RU]),_:1},8,["to","aria-label","title"])),($(!0),I(We,null,bt(l.value,(c,d)=>($(),I("span",{key:d},[kU,($(),$e(Yn(u.value),{to:c.url},{default:it(()=>[we(S(c.name),1)]),_:2},1032,["to"]))]))),128))]))}}),OU={class:"message"},LU={class:"material-icons"},Jn=ke({__name:"Errors",props:{errorCode:{default:500},showHeader:{type:Boolean,default:!1}},setup(e){const{t}=ht({}),r={0:{icon:"cloud_off",message:"errors.connection"},403:{icon:"error",message:"errors.forbidden"},404:{icon:"gps_off",message:"errors.notFound"},500:{icon:"error_outline",message:"errors.internal"}},i=e,l=ve(()=>r[i.errorCode]?r[i.errorCode]:r[500]);return(u,s)=>($(),I("div",null,[u.showHeader?($(),$e(Li,{key:0,showMenu:"",showLogo:""})):oe("",!0),p("h2",OU,[p("i",LU,S(l.value.icon),1),p("span",null,S(w(t)(l.value.message)),1)])]))}}),IU=Ti("clipboard",{state:()=>({key:"",items:[],path:void 0}),getters:{},actions:{resetClipboard(){this.$reset()}}});function xU(e){for(let i=0;i<e.length;i++)e[i]=e[i].toLowerCase();let t=null;const r=Array.prototype.find;return r.call(document.styleSheets,i=>(t=r.call(i.cssRules,l=>{let u=!1;if(l instanceof window.CSSStyleRule)for(let s=0;s<e.length;s++)l.selectorText.toLowerCase()===e[s]&&(u=!0);return u}),t!=null)),t}const DU={id:"input"},UU=["aria-label","title"],BU=p("i",{class:"material-icons"},"arrow_back",-1),NU=[BU],MU={key:1,class:"material-icons"},FU=["autofocus","aria-label","placeholder"],zU={key:0,class:"boxes"},HU=["onClick","aria-label"],jU={class:"material-icons"},qU={key:0,class:"material-icons"},WU={key:1,class:"material-icons"},VU=p("p",{id:"renew"},[p("i",{class:"material-icons spin"},"autorenew")],-1),GU=ke({__name:"Search",setup(e){const t={image:{label:"images",icon:"insert_photo"},audio:{label:"music",icon:"volume_up"},video:{label:"video",icon:"movie"},pdf:{label:"pdf",icon:"picture_as_pdf"}},r=Me(),i=lt(),{currentPromptName:l}=di(r),u=ce(""),s=ce(!1),f=ce(!1),c=ce([]),d=ce(!1),v=ce(50),m=st("$showError"),y=ce(null),E=ce(null),{t:R}=ht(),U=$n();Xe(l,(K,se)=>{var le,N;s.value=K==="search",se==="search"&&!s.value?(d.value&&(i.reload=!0),document.body.style.overflow="auto",F(),u.value="",s.value=!1,(le=y.value)==null||le.blur()):s.value&&(d.value=!1,(N=y.value)==null||N.focus(),document.body.style.overflow="hidden")}),Xe(u,()=>{c.value.length&&F()});const O=ve(()=>c.value.length===0),T=ve(()=>f.value?"":u.value===""?R("search.typeToSearch"):R("search.pressToSearch")),B=ve(()=>c.value.slice(0,v.value));At(()=>{E.value!==null&&E.value.addEventListener("scroll",K=>{K.target.offsetHeight+K.target.scrollTop>=K.target.scrollHeight-100&&(v.value+=50)})});const M=()=>{!s.value&&r.showHover("search")},H=K=>{K.stopPropagation(),K.preventDefault(),r.closeHovers()},j=K=>{if(K.key==="Escape"){H(K);return}c.value.length=0},re=K=>{u.value="".concat(K," "),y.value!==null&&y.value.focus()},F=()=>{f.value=!1,v.value=50,c.value=[]},J=async K=>{if(K.preventDefault(),u.value==="")return;let se=U.path;i.isListing||(se=In.removeLastDir(se)+"/"),f.value=!0;try{c.value=await PL(se,u.value)}catch(le){m(le)}f.value=!1};return(K,se)=>{const le=$t("router-link");return $(),I("div",{id:"search",onClick:M,class:nt({active:s.value,ongoing:f.value})},[p("div",DU,[s.value?($(),I("button",{key:0,class:"action",onClick:H,"aria-label":K.$t("buttons.close"),title:K.$t("buttons.close")},NU,8,UU)):($(),I("i",MU,"search")),Te(p("input",{type:"text",onKeyup:[Wt(j,["exact"]),Tt(J,["enter"])],ref_key:"input",ref:y,autofocus:s.value,"onUpdate:modelValue":se[0]||(se[0]=N=>u.value=N),"aria-label":K.$t("search.search"),placeholder:K.$t("search.search")},null,40,FU),[[ct,u.value,void 0,{trim:!0}]])]),p("div",{id:"result",ref_key:"result",ref:E},[p("div",null,[O.value?($(),I(We,{key:0},[p("p",null,S(T.value),1),u.value.length===0?($(),I("div",zU,[p("h3",null,S(K.$t("search.types")),1),p("div",null,[($(),I(We,null,bt(t,(N,W)=>p("div",{tabindex:"0",key:W,role:"button",onClick:ue=>re("type:"+W),"aria-label":K.$t("search."+N.label)},[p("i",jU,S(N.icon),1),p("p",null,S(K.$t("search."+N.label)),1)],8,HU)),64))])])):oe("",!0)],64)):oe("",!0),Te(p("ul",null,[($(!0),I(We,null,bt(B.value,(N,W)=>($(),I("li",{key:W},[Ie(le,{onClick:H,to:N.url},{default:it(()=>[N.dir?($(),I("i",qU,"folder")):($(),I("i",WU,"insert_drive_file")),p("span",null,"./"+S(N.path),1)]),_:2},1032,["to"])]))),128))],512),[[xr,c.value.length>0]])]),VU],512)],2)}}}),KU=["draggable","data-dir","data-type","aria-label","aria-selected","data-ext"],QU={key:0},YU={key:1,class:"material-icons"},XU={class:"name"},JU={key:0,class:"size","data-order":"-1"},ZU=["data-order"],e4={class:"modified"},t4=["datetime"],wu=ke({__name:"ListingItem",props:{name:{},isDir:{type:Boolean},url:{},type:{},size:{},modified:{},index:{},readOnly:{type:Boolean},path:{}},setup(e){const t=ce(0),r=st("$showError"),i=Ai(),l=e,u=yt(),s=lt(),f=Me(),c=ve(()=>{var F;return!l.readOnly&&((F=u.user)==null?void 0:F.singleClick)}),d=ve(()=>s.selected.indexOf(l.index)!==-1),v=ve(()=>{var F;return!l.readOnly&&((F=u.user)==null?void 0:F.perm.rename)}),m=ve(()=>{var F;if(!l.isDir||l.readOnly)return!1;for(let J of s.selected)if(((F=s.req)==null?void 0:F.items[J].url)===l.url)return!1;return!0}),y=ve(()=>{const F={path:l.path,modified:l.modified};return yL(F,"thumb")}),E=ve(()=>b$),R=()=>l.type=="invalid_link"?"invalid link":Gs(l.size),U=()=>{var F;return!l.readOnly&&((F=u.user)!=null&&F.dateFormat)?Ln(l.modified).format("L LT"):Ln(l.modified).fromNow()},O=()=>{if(s.selectedCount===0){s.selected.push(l.index);return}d.value||(s.selected=[],s.selected.push(l.index))},T=F=>{var K;if(!m.value)return;F.preventDefault();let J=F.target;if(J!==null){for(let se=0;se<5;se++)J!=null&&J.classList.contains("item")||(J=(K=J==null?void 0:J.parentElement)!=null?K:null);J!==null&&(J.style.opacity="1")}},B=async F=>{var P,A,k;if(!m.value||(F.preventDefault(),s.selectedCount===0))return;let J=F.target;for(let q=0;q<5;q++)J!==null&&!J.classList.contains("item")&&(J=J.parentElement);let K=[];for(let q of s.selected)s.req&&K.push({from:(P=s.req)==null?void 0:P.items[q].url,to:l.url+encodeURIComponent((A=s.req)==null?void 0:A.items[q].name),name:(k=s.req)==null?void 0:k.items[q].name});if(J===null)return;let se=J.__vue__.url,le=(await Vr(se)).items,N=(q,Y)=>{ua(K,q,Y).then(()=>{s.reload=!0}).catch(r)},W=Ur(K,le),ue=!1,ae=!1;if(W){f.showHover({prompt:"replace-rename",confirm:(q,Y)=>{ue=Y=="overwrite",ae=Y=="rename",q.preventDefault(),f.closeHovers(),N(ue,ae)}});return}N(ue,ae)},M=F=>{c.value&&!F.ctrlKey&&!F.metaKey&&!F.shiftKey&&!s.multiple?j():H(F)},H=F=>{if(!c.value&&s.selectedCount!==0&&F.preventDefault(),setTimeout(()=>{t.value=0},300),t.value++,t.value>1&&j(),s.selected.indexOf(l.index)!==-1){s.removeSelected(l.index);return}if(F.shiftKey&&s.selected.length>0){let J=0,K=0;for(l.index>s.selected[0]?(J=s.selected[0]+1,K=l.index):(J=l.index,K=s.selected[0]-1);J<=K;J++)s.selected.indexOf(J)==-1&&s.selected.push(J);return}!c.value&&!F.ctrlKey&&!F.metaKey&&!s.multiple&&(s.selected=[]),s.selected.push(l.index)},j=()=>{i.push({path:l.url})},re=F=>{const J=F.lastIndexOf(".");return J===-1?F:F.substring(J)};return(F,J)=>{const K=zp("lazy");return $(),I("div",{class:"item",role:"button",tabindex:"0",draggable:v.value,onDragstart:O,onDragover:T,onDrop:B,onClick:M,"data-dir":F.isDir,"data-type":F.type,"aria-label":F.name,"aria-selected":d.value,"data-ext":re(F.name).toLowerCase()},[p("div",null,[!F.readOnly&&F.type==="image"&&E.value?Te(($(),I("img",QU,null,512)),[[K,y.value]]):($(),I("i",YU))]),p("div",null,[p("p",XU,S(F.name),1),F.isDir?($(),I("p",JU,"")):($(),I("p",{key:1,class:"size","data-order":R()},S(R()),9,ZU)),p("p",e4,[p("time",{datetime:F.modified},S(U()),9,t4)])])],40,KU)}}}),n4=p("title",null,null,-1),r4={key:0,id:"file-selection"},o4={key:0},i4={key:1},s4={class:"message delayed"},a4=p("div",{class:"spinner"},[p("div",{class:"bounce1"}),p("div",{class:"bounce2"}),p("div",{class:"bounce3"})],-1),l4={key:0},u4={class:"message"},c4=p("i",{class:"material-icons"},"sentiment_dissatisfied",-1),f4={class:"item header"},d4=p("div",null,null,-1),h4=["title","aria-label"],p4={class:"material-icons"},v4=["title","aria-label"],m4={class:"material-icons"},g4=["title","aria-label"],b4={class:"material-icons"},y4={key:0},_4={key:1},w4={key:2},S4={key:3},$4=["title","aria-label"],E4=p("i",{class:"material-icons"},"clear",-1),C4=[E4],T4=ke({__name:"FileListing",setup(e){const t=ce(50),r=ce(280),i=ce(0),l=ce(window.innerWidth),u=ce(0),s=st("$showError"),f=IU(),c=yt(),d=lt(),v=Me(),{req:m}=di(d),y=$n(),{t:E}=ht(),R=ce(null),U=ve(()=>d.req?d.req.sorting.by==="name":!1),O=ve(()=>d.req?d.req.sorting.by==="size":!1),T=ve(()=>d.req?d.req.sorting.by==="modified":!1),B=ve(()=>d.req?d.req.sorting.asc:!1),M=ve(()=>H.value.dirs.slice(0,t.value)),H=ve(()=>{var pe;const ee=[],Q=[];return(pe=d.req)==null||pe.items.forEach(Se=>{Se.isDir?ee.push(Se):Q.push(Se)}),{dirs:ee,files:Q}}),j=ve(()=>{let ee=t.value-H.value.dirs.length;return ee<0&&(ee=0),H.value.files.slice(0,ee)}),re=ve(()=>U.value&&!B.value?"arrow_upward":"arrow_downward"),F=ve(()=>O.value&&B.value?"arrow_downward":"arrow_upward"),J=ve(()=>T.value&&B.value?"arrow_downward":"arrow_upward"),K=ve(()=>{const ee={list:"view_module",mosaic:"grid_view","mosaic gallery":"view_list"};return c.user===null?ee.list:ee[c.user.viewMode]}),se=ve(()=>{var ee,Q,pe,Se,_e,ft,Pt,xe;return{upload:(ee=c.user)==null?void 0:ee.perm.create,download:(Q=c.user)==null?void 0:Q.perm.download,shell:((pe=c.user)==null?void 0:pe.perm.execute)&&go,delete:d.selectedCount>0&&((Se=c.user)==null?void 0:Se.perm.delete),rename:d.selectedCount===1&&((_e=c.user)==null?void 0:_e.perm.rename),share:d.selectedCount===1&&((ft=c.user)==null?void 0:ft.perm.share),move:d.selectedCount>0&&((Pt=c.user)==null?void 0:Pt.perm.rename),copy:d.selectedCount>0&&((xe=c.user)==null?void 0:xe.perm.create)}}),le=ve(()=>l.value<=736);Xe(m,()=>{var ee;window.sessionStorage.getItem("listFrozen")!=="true"&&window.sessionStorage.getItem("modified")!=="true"&&(t.value=50,Dt(()=>{ye(),De(!0)})),(ee=m.value)!=null&&ee.isDir&&(window.sessionStorage.setItem("listFrozen","false"),window.sessionStorage.setItem("modified","false"))}),At(()=>{var ee;A(),ye(),De(!0),window.addEventListener("keydown",W),window.addEventListener("scroll",k),window.addEventListener("resize",V),(ee=c.user)!=null&&ee.perm.create&&(document.addEventListener("dragover",ue),document.addEventListener("dragenter",q),document.addEventListener("dragleave",Y),document.addEventListener("drop",X))}),jr(()=>{var ee;window.removeEventListener("keydown",W),window.removeEventListener("scroll",k),window.removeEventListener("resize",V),!(c.user&&!((ee=c.user)!=null&&ee.perm.create))&&(document.removeEventListener("dragover",ue),document.removeEventListener("dragenter",q),document.removeEventListener("dragleave",Y),document.removeEventListener("drop",X))});const N=ee=>qu.encodeURI(ee),W=ee=>{var Q,pe,Se;if(v.currentPrompt===null){if(ee.key==="Escape"&&(d.selected=[]),ee.key==="Delete"){if(!((Q=c.user)!=null&&Q.perm.delete)||d.selectedCount==0)return;v.showHover("delete")}if(ee.key==="F2"){if(!((pe=c.user)!=null&&pe.perm.rename)||d.selectedCount!==1)return;v.showHover("rename")}if(!(!ee.ctrlKey&&!ee.metaKey))switch(ee.key){case"f":ee.preventDefault(),v.showHover("search");break;case"c":case"x":ae(ee);break;case"v":P(ee);break;case"a":ee.preventDefault();for(let _e of H.value.files)d.selected.indexOf(_e.index)===-1&&d.selected.push(_e.index);for(let _e of H.value.dirs)d.selected.indexOf(_e.index)===-1&&d.selected.push(_e.index);break;case"s":ee.preventDefault(),(Se=document.getElementById("download-button"))==null||Se.click();break}}},ue=ee=>{ee.preventDefault()},ae=ee=>{var pe;if(((pe=ee.target.tagName)==null?void 0:pe.toLowerCase())==="input"||d.req===null)return;let Q=[];for(let Se of d.selected)Q.push({from:d.req.items[Se].url,name:d.req.items[Se].name});Q.length!==0&&f.$patch({key:ee.key,items:Q,path:y.path})},P=ee=>{var Pt;if(((Pt=ee.target.tagName)==null?void 0:Pt.toLowerCase())==="input")return;let Q=[];for(let xe of f.items){const Je=xe.from.endsWith("/")?xe.from.slice(0,-1):xe.from,nn=y.path+encodeURIComponent(xe.name);Q.push({from:Je,to:nn,name:xe.name})}if(Q.length===0)return;let pe=(xe,Je)=>{Qm(Q,xe,Je).then(()=>{d.reload=!0}).catch(s)};if(f.key==="x"&&(pe=(xe,Je)=>{ua(Q,xe,Je).then(()=>{f.resetClipboard(),d.reload=!0}).catch(s)}),f.path==y.path){pe(!1,!0);return}let Se=Ur(Q,d.req.items),_e=!1,ft=!1;if(Se){v.showHover({prompt:"replace-rename",confirm:(xe,Je)=>{_e=Je=="overwrite",ft=Je=="rename",xe.preventDefault(),v.closeHovers(),pe(_e,ft)}});return}pe(_e,ft)},A=()=>{var pe,Se;let ee=xU(["#listing.mosaic .item",".mosaic#listing .item"]);if(ee===null)return;let Q=Math.floor(((Se=(pe=document.querySelector("main"))==null?void 0:pe.offsetWidth)!=null?Se:0)/r.value);Q===0&&(Q=1),ee.style.width="calc(".concat(100/Q,"% - 1em)")},k=_u(()=>{var Se,_e,ft,Pt;const ee=((_e=(Se=d.req)==null?void 0:Se.numDirs)!=null?_e:0)+((Pt=(ft=d.req)==null?void 0:ft.numFiles)!=null?Pt:0);if(t.value>=ee)return;const Q=window.innerHeight+window.scrollY,pe=document.body.offsetHeight-window.innerHeight*.25;if(Q>pe){const xe=Math.ceil(window.innerHeight*2/u.value);t.value+=xe}},100),q=()=>{i.value++;let ee=document.getElementsByClassName("item");Array.from(ee).forEach(Q=>{Q.style.opacity="0.5"})},Y=()=>{i.value--,i.value==0&&Ee()},X=async ee=>{ee.preventDefault(),i.value=0,Ee();let Q=ee.dataTransfer,pe=ee.target;if(d.req===null||Q===null||Q.files.length<=0)return;for(let xe=0;xe<5;xe++)pe!==null&&!pe.classList.contains("item")&&(pe=pe.parentElement);let Se=await j3(Q),_e=d.req.items,ft=y.path.endsWith("/")?y.path:y.path+"/";if(pe!==null&&pe.classList.contains("item")&&pe.dataset.dir==="true"){ft=pe.__vue__.url;try{_e=(await Vr(ft)).items}catch(xe){s(xe)}}if(Ur(Se,_e)){v.showHover({prompt:"replace",action:xe=>{xe.preventDefault(),v.closeHovers(),Qn(Se,ft,!1)},confirm:xe=>{xe.preventDefault(),v.closeHovers(),Qn(Se,ft,!0)}});return}Qn(Se,ft)},ge=ee=>{var Pt;v.closeHovers();let Q=(Pt=ee.currentTarget)==null?void 0:Pt.files;if(Q===null)return;let pe=!!Q[0].webkitRelativePath;const Se=[];for(let xe=0;xe<Q.length;xe++){const Je=Q[xe],nn=pe?Je.webkitRelativePath:void 0;Se.push({file:Je,name:Je.name,size:Je.size,isDir:!1,fullPath:nn})}let _e=y.path.endsWith("/")?y.path:y.path+"/";if(Ur(Se,d.req.items)){v.showHover({prompt:"replace",action:xe=>{xe.preventDefault(),v.closeHovers(),Qn(Se,_e,!1)},confirm:xe=>{xe.preventDefault(),v.closeHovers(),Qn(Se,_e,!0)}});return}Qn(Se,_e)},Ee=()=>{let ee=document.getElementsByClassName("item");Array.from(ee).forEach(Q=>{Q.style.opacity="1"})},Ae=async ee=>{var pe,Se;let Q=!1;ee==="name"?re.value==="arrow_upward"&&(Q=!0):ee==="size"?F.value==="arrow_upward"&&(Q=!0):ee==="modified"&&J.value==="arrow_upward"&&(Q=!0);try{(pe=c.user)!=null&&pe.id&&await Ei({id:(Se=c.user)==null?void 0:Se.id,sorting:{by:ee,asc:Q}},["sorting"])}catch(_e){s(_e)}d.reload=!0},Ve=()=>{v.showHover("search")},Fe=()=>{d.toggleMultiple(),v.closeHovers()},V=_u(()=>{A(),l.value=window.innerWidth,R.value!=null&&(ye(),De())},100),he=()=>{if(d.req!==null){if(d.selectedCount===1&&!d.req.items[d.selected[0]].isDir){hp(null,d.req.items[d.selected[0]].url);return}v.showHover({prompt:"download",confirm:ee=>{v.closeHovers();let Q=[];if(d.selectedCount>0&&d.req!==null)for(let pe of d.selected)Q.push(d.req.items[pe].url);else Q.push(y.path);hp(ee,...Q)}})}},Z=async()=>{var pe,Se,_e;v.closeHovers();const ee={list:"mosaic",mosaic:"mosaic gallery","mosaic gallery":"list"},Q={id:(pe=c.user)==null?void 0:pe.id,viewMode:ee[(_e=(Se=c.user)==null?void 0:Se.viewMode)!=null?_e:"list"]||"list"};Ei(Q,["viewMode"]).catch(s),c.updateUser(Q),ye(),De()},fe=()=>{var ee;typeof window.DataTransferItem<"u"&&typeof DataTransferItem.prototype.webkitGetAsEntry<"u"?v.showHover("upload"):(ee=document.getElementById("upload-input"))==null||ee.click()},ye=()=>{if(R.value===null||d.req===null)return;let ee=d.req.numDirs+d.req.numFiles;ee>t.value&&(ee=t.value),u.value=R.value.offsetHeight/ee},De=(ee=!1)=>{if(d.req===null)return;const Q=d.req.numDirs+d.req.numFiles;if(t.value>=Q&&!ee)return;const pe=window.innerHeight,Se=Math.ceil((pe+pe*2)/u.value);t.value>Se&&!ee||(t.value=Se>Q?Q:Se)};return(ee,Q)=>{var pe,Se,_e,ft,Pt,xe,Je,nn,yr,xi,tr,Di,nr,Un;return $(),I("div",null,[Ie(Li,{showMenu:"",showLogo:""},{actions:it(()=>[le.value?oe("",!0):($(),I(We,{key:0},[se.value.share?($(),$e(gt,{key:0,icon:"share",label:w(E)("buttons.share"),show:"share"},null,8,["label"])):oe("",!0),se.value.rename?($(),$e(gt,{key:1,icon:"mode_edit",label:w(E)("buttons.rename"),show:"rename"},null,8,["label"])):oe("",!0),se.value.copy?($(),$e(gt,{key:2,id:"copy-button",icon:"content_copy",label:w(E)("buttons.copyFile"),show:"copy"},null,8,["label"])):oe("",!0),se.value.move?($(),$e(gt,{key:3,id:"move-button",icon:"forward",label:w(E)("buttons.moveFile"),show:"move"},null,8,["label"])):oe("",!0),se.value.delete?($(),$e(gt,{key:4,id:"delete-button",icon:"delete",label:w(E)("buttons.delete"),show:"delete"},null,8,["label"])):oe("",!0)],64)),se.value.shell?($(),$e(gt,{key:1,icon:"code",label:w(E)("buttons.shell"),onAction:w(v).toggleShell},null,8,["label","onAction"])):oe("",!0),Ie(gt,{icon:K.value,label:w(E)("buttons.switchView"),onAction:Z},null,8,["icon","label"]),se.value.download?($(),$e(gt,{key:2,icon:"file_download",label:w(E)("buttons.download"),onAction:he,counter:w(d).selectedCount},null,8,["label","counter"])):oe("",!0),se.value.upload?($(),$e(gt,{key:3,icon:"file_upload",id:"upload-button",label:w(E)("buttons.upload"),onAction:fe},null,8,["label"])):oe("",!0),Ie(gt,{icon:"info",label:w(E)("buttons.info"),show:"info"},null,8,["label"]),Ie(gt,{icon:"check_circle",label:w(E)("buttons.selectMultiple"),onAction:Fe},null,8,["label"])]),default:it(()=>[Ie(GU),n4,Ie(gt,{class:"search-button",icon:"search",label:w(E)("buttons.search"),onAction:Q[0]||(Q[0]=je=>Ve())},null,8,["label"])]),_:1}),le.value?($(),I("div",r4,[w(d).selectedCount>0?($(),I("span",o4,S(w(E)("prompts.filesSelected",w(d).selectedCount)),1)):oe("",!0),se.value.share?($(),$e(gt,{key:1,icon:"share",label:w(E)("buttons.share"),show:"share"},null,8,["label"])):oe("",!0),se.value.rename?($(),$e(gt,{key:2,icon:"mode_edit",label:w(E)("buttons.rename"),show:"rename"},null,8,["label"])):oe("",!0),se.value.copy?($(),$e(gt,{key:3,icon:"content_copy",label:w(E)("buttons.copyFile"),show:"copy"},null,8,["label"])):oe("",!0),se.value.move?($(),$e(gt,{key:4,icon:"forward",label:w(E)("buttons.moveFile"),show:"move"},null,8,["label"])):oe("",!0),se.value.delete?($(),$e(gt,{key:5,icon:"delete",label:w(E)("buttons.delete"),show:"delete"},null,8,["label"])):oe("",!0)])):oe("",!0),w(v).loading?($(),I("div",i4,[p("h2",s4,[a4,p("span",null,S(w(E)("files.loading")),1)])])):($(),I(We,{key:2},[((Se=(pe=w(d).req)==null?void 0:pe.numDirs)!=null?Se:0)+((ft=(_e=w(d).req)==null?void 0:_e.numFiles)!=null?ft:0)==0?($(),I("div",l4,[p("h2",u4,[c4,p("span",null,S(w(E)("files.lonely")),1)]),p("input",{style:{display:"none"},type:"file",id:"upload-input",onChange:Q[1]||(Q[1]=je=>ge(je)),multiple:""},null,32),p("input",{style:{display:"none"},type:"file",id:"upload-folder-input",onChange:Q[2]||(Q[2]=je=>ge(je)),webkitdirectory:"",multiple:""},null,32)])):($(),I("div",{key:1,id:"listing",ref_key:"listing",ref:R,class:nt(["file-icons",(xe=(Pt=w(c).user)==null?void 0:Pt.viewMode)!=null?xe:""])},[p("div",null,[p("div",f4,[d4,p("div",null,[p("p",{class:nt([{active:U.value},"name"]),role:"button",tabindex:"0",onClick:Q[3]||(Q[3]=je=>Ae("name")),title:w(E)("files.sortByName"),"aria-label":w(E)("files.sortByName")},[p("span",null,S(w(E)("files.name")),1),p("i",p4,S(re.value),1)],10,h4),p("p",{class:nt([{active:O.value},"size"]),role:"button",tabindex:"0",onClick:Q[4]||(Q[4]=je=>Ae("size")),title:w(E)("files.sortBySize"),"aria-label":w(E)("files.sortBySize")},[p("span",null,S(w(E)("files.size")),1),p("i",m4,S(F.value),1)],10,v4),p("p",{class:nt([{active:T.value},"modified"]),role:"button",tabindex:"0",onClick:Q[5]||(Q[5]=je=>Ae("modified")),title:w(E)("files.sortByLastModified"),"aria-label":w(E)("files.sortByLastModified")},[p("span",null,S(w(E)("files.lastModified")),1),p("i",b4,S(J.value),1)],10,g4)])])]),(nn=(Je=w(d).req)==null?void 0:Je.numDirs)!=null&&nn?($(),I("h2",y4,S(w(E)("files.folders")),1)):oe("",!0),(xi=(yr=w(d).req)==null?void 0:yr.numDirs)!=null&&xi?($(),I("div",_4,[($(!0),I(We,null,bt(M.value,je=>($(),$e(wu,{key:N(je.name),index:je.index,name:je.name,isDir:je.isDir,url:je.url,modified:je.modified,type:je.type,size:je.size,path:je.path},null,8,["index","name","isDir","url","modified","type","size","path"]))),128))])):oe("",!0),(Di=(tr=w(d).req)==null?void 0:tr.numFiles)!=null&&Di?($(),I("h2",w4,S(w(E)("files.files")),1)):oe("",!0),(Un=(nr=w(d).req)==null?void 0:nr.numFiles)!=null&&Un?($(),I("div",S4,[($(!0),I(We,null,bt(j.value,je=>($(),$e(wu,{key:N(je.name),index:je.index,name:je.name,isDir:je.isDir,url:je.url,modified:je.modified,type:je.type,size:je.size,path:je.path},null,8,["index","name","isDir","url","modified","type","size","path"]))),128))])):oe("",!0),p("input",{style:{display:"none"},type:"file",id:"upload-input",onChange:Q[6]||(Q[6]=je=>ge(je)),multiple:""},null,32),p("input",{style:{display:"none"},type:"file",id:"upload-folder-input",onChange:Q[7]||(Q[7]=je=>ge(je)),webkitdirectory:"",multiple:""},null,32),p("div",{class:nt({active:w(d).multiple}),id:"multiple-selection"},[p("p",null,S(w(E)("files.multipleSelectionEnabled")),1),p("div",{onClick:Q[8]||(Q[8]=()=>w(d).multiple=!1),tabindex:"0",role:"button",title:w(E)("buttons.clear"),"aria-label":w(E)("buttons.clear"),class:"action"},C4,8,$4)],2)],2))],64))])}}}),A4={key:3},P4={class:"message delayed"},R4=p("div",{class:"spinner"},[p("div",{class:"bounce1"}),p("div",{class:"bounce2"}),p("div",{class:"bounce3"})],-1),k4=ke({__name:"Files",setup(e){const t=Ld(()=>Id(()=>import("./Editor-CABXmvTh.js"),__vite__mapDeps([0,1,2]),import.meta.url)),r=Ld(()=>Id(()=>import("./Preview-DR8FGSaM.js"),__vite__mapDeps([3,1,2,4]),import.meta.url)),i=Me(),l=lt(),u=zr(),{reload:s}=di(l),{error:f}=di(u),c=$n(),{t:d}=ht({}),v=U=>U.endsWith("/")?U.slice(0,-1):U,m=ce(null),y=ve(()=>{var U;return((U=l.req)==null?void 0:U.type)===void 0?null:l.req.isDir?T4:l.req.type==="text"||l.req.type==="textImmutable"?t:r});At(()=>{E(),l.isFiles=!0,window.addEventListener("keydown",R)}),jr(()=>{window.removeEventListener("keydown",R)}),Ys(()=>{l.isFiles=!1,i.showShell&&i.toggleShell(),l.updateRequest(null)}),Xe(c,(U,O)=>{O.path.endsWith("/")?window.sessionStorage.setItem("listFrozen",(!U.path.endsWith("/")).toString()):U.path.endsWith("/")&&l.updateRequest(null),E()}),Xe(s,U=>{U&&E()}),Xe(f,U=>{U&&i.showError()});const E=async()=>{l.reload=!1,l.selected=[],l.multiple=!1,i.closeHovers(),window.sessionStorage.getItem("listFrozen")!=="true"&&window.sessionStorage.getItem("modified")!=="true"&&(i.loading=!0),m.value=null;let U=c.path;U===""&&(U="/"),U[0]!=="/"&&(U="/"+U);try{const O=await Vr(U);if(v(O.path)!==v("/".concat([...c.params.path].join("/"))))throw new Error("Data Mismatch!");l.updateRequest(O),document.title="".concat(O.name," - ").concat(d("files.files")," - ").concat(Tu)}catch(O){O instanceof Error&&(m.value=O)}finally{i.loading=!1}},R=U=>{U.key==="F1"&&(U.preventDefault(),i.showHover("help"))};return(U,O)=>{var T;return $(),I("div",null,[m.value||((T=w(l).req)==null?void 0:T.type)===null?($(),$e(Li,{key:0,showMenu:"",showLogo:""})):oe("",!0),Ie(ug,{base:"/files"}),m.value?($(),$e(Jn,{key:1,errorCode:m.value.status},null,8,["errorCode"])):y.value?($(),$e(Yn(y.value),{key:2})):y.value!==null?($(),I("div",A4,[p("h2",P4,[R4,p("span",null,S(w(d)("files.loading")),1)])])):oe("",!0)])}}});/*!
 * qrcode.vue v3.4.1
 * A Vue.js component to generate QRCode.
 *  2017-2023 @scopewu(https://github.com/scopewu)
 * MIT License.
 */var Qs=function(){return Qs=Object.assign||function(t){for(var r,i=1,l=arguments.length;i<l;i++){r=arguments[i];for(var u in r)Object.prototype.hasOwnProperty.call(r,u)&&(t[u]=r[u])}return t},Qs.apply(this,arguments)};var Hr;(function(e){var t=function(){function s(f,c,d,v){if(this.version=f,this.errorCorrectionLevel=c,this.modules=[],this.isFunction=[],f<s.MIN_VERSION||f>s.MAX_VERSION)throw new RangeError("Version value out of range");if(v<-1||v>7)throw new RangeError("Mask value out of range");this.size=f*4+17;for(var m=[],y=0;y<this.size;y++)m.push(!1);for(var y=0;y<this.size;y++)this.modules.push(m.slice()),this.isFunction.push(m.slice());this.drawFunctionPatterns();var E=this.addEccAndInterleave(d);if(this.drawCodewords(E),v==-1)for(var R=1e9,y=0;y<8;y++){this.applyMask(y),this.drawFormatBits(y);var U=this.getPenaltyScore();U<R&&(v=y,R=U),this.applyMask(y)}l(0<=v&&v<=7),this.mask=v,this.applyMask(v),this.drawFormatBits(v),this.isFunction=[]}return s.encodeText=function(f,c){var d=e.QrSegment.makeSegments(f);return s.encodeSegments(d,c)},s.encodeBinary=function(f,c){var d=e.QrSegment.makeBytes(f);return s.encodeSegments([d],c)},s.encodeSegments=function(f,c,d,v,m,y){if(d===void 0&&(d=1),v===void 0&&(v=40),m===void 0&&(m=-1),y===void 0&&(y=!0),!(s.MIN_VERSION<=d&&d<=v&&v<=s.MAX_VERSION)||m<-1||m>7)throw new RangeError("Invalid value");var E,R;for(E=d;;E++){var U=s.getNumDataCodewords(E,c)*8,O=u.getTotalBits(f,E);if(O<=U){R=O;break}if(E>=v)throw new RangeError("Data too long")}for(var T=0,B=[s.Ecc.MEDIUM,s.Ecc.QUARTILE,s.Ecc.HIGH];T<B.length;T++){var M=B[T];y&&R<=s.getNumDataCodewords(E,M)*8&&(c=M)}for(var H=[],j=0,re=f;j<re.length;j++){var F=re[j];r(F.mode.modeBits,4,H),r(F.numChars,F.mode.numCharCountBits(E),H);for(var J=0,K=F.getData();J<K.length;J++){var se=K[J];H.push(se)}}l(H.length==R);var le=s.getNumDataCodewords(E,c)*8;l(H.length<=le),r(0,Math.min(4,le-H.length),H),r(0,(8-H.length%8)%8,H),l(H.length%8==0);for(var N=236;H.length<le;N^=253)r(N,8,H);for(var W=[];W.length*8<H.length;)W.push(0);return H.forEach(function(ue,ae){return W[ae>>>3]|=ue<<7-(ae&7)}),new s(E,c,W,m)},s.prototype.getModule=function(f,c){return 0<=f&&f<this.size&&0<=c&&c<this.size&&this.modules[c][f]},s.prototype.getModules=function(){return this.modules},s.prototype.drawFunctionPatterns=function(){for(var f=0;f<this.size;f++)this.setFunctionModule(6,f,f%2==0),this.setFunctionModule(f,6,f%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);for(var c=this.getAlignmentPatternPositions(),d=c.length,f=0;f<d;f++)for(var v=0;v<d;v++)f==0&&v==0||f==0&&v==d-1||f==d-1&&v==0||this.drawAlignmentPattern(c[f],c[v]);this.drawFormatBits(0),this.drawVersion()},s.prototype.drawFormatBits=function(f){for(var c=this.errorCorrectionLevel.formatBits<<3|f,d=c,v=0;v<10;v++)d=d<<1^(d>>>9)*1335;var m=(c<<10|d)^21522;l(m>>>15==0);for(var v=0;v<=5;v++)this.setFunctionModule(8,v,i(m,v));this.setFunctionModule(8,7,i(m,6)),this.setFunctionModule(8,8,i(m,7)),this.setFunctionModule(7,8,i(m,8));for(var v=9;v<15;v++)this.setFunctionModule(14-v,8,i(m,v));for(var v=0;v<8;v++)this.setFunctionModule(this.size-1-v,8,i(m,v));for(var v=8;v<15;v++)this.setFunctionModule(8,this.size-15+v,i(m,v));this.setFunctionModule(8,this.size-8,!0)},s.prototype.drawVersion=function(){if(!(this.version<7)){for(var f=this.version,c=0;c<12;c++)f=f<<1^(f>>>11)*7973;var d=this.version<<12|f;l(d>>>18==0);for(var c=0;c<18;c++){var v=i(d,c),m=this.size-11+c%3,y=Math.floor(c/3);this.setFunctionModule(m,y,v),this.setFunctionModule(y,m,v)}}},s.prototype.drawFinderPattern=function(f,c){for(var d=-4;d<=4;d++)for(var v=-4;v<=4;v++){var m=Math.max(Math.abs(v),Math.abs(d)),y=f+v,E=c+d;0<=y&&y<this.size&&0<=E&&E<this.size&&this.setFunctionModule(y,E,m!=2&&m!=4)}},s.prototype.drawAlignmentPattern=function(f,c){for(var d=-2;d<=2;d++)for(var v=-2;v<=2;v++)this.setFunctionModule(f+v,c+d,Math.max(Math.abs(v),Math.abs(d))!=1)},s.prototype.setFunctionModule=function(f,c,d){this.modules[c][f]=d,this.isFunction[c][f]=!0},s.prototype.addEccAndInterleave=function(f){var c=this.version,d=this.errorCorrectionLevel;if(f.length!=s.getNumDataCodewords(c,d))throw new RangeError("Invalid argument");for(var v=s.NUM_ERROR_CORRECTION_BLOCKS[d.ordinal][c],m=s.ECC_CODEWORDS_PER_BLOCK[d.ordinal][c],y=Math.floor(s.getNumRawDataModules(c)/8),E=v-y%v,R=Math.floor(y/v),U=[],O=s.reedSolomonComputeDivisor(m),T=0,B=0;T<v;T++){var M=f.slice(B,B+R-m+(T<E?0:1));B+=M.length;var H=s.reedSolomonComputeRemainder(M,O);T<E&&M.push(0),U.push(M.concat(H))}for(var j=[],re=function(F){U.forEach(function(J,K){(F!=R-m||K>=E)&&j.push(J[F])})},T=0;T<U[0].length;T++)re(T);return l(j.length==y),j},s.prototype.drawCodewords=function(f){if(f.length!=Math.floor(s.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");for(var c=0,d=this.size-1;d>=1;d-=2){d==6&&(d=5);for(var v=0;v<this.size;v++)for(var m=0;m<2;m++){var y=d-m,E=(d+1&2)==0,R=E?this.size-1-v:v;!this.isFunction[R][y]&&c<f.length*8&&(this.modules[R][y]=i(f[c>>>3],7-(c&7)),c++)}}l(c==f.length*8)},s.prototype.applyMask=function(f){if(f<0||f>7)throw new RangeError("Mask value out of range");for(var c=0;c<this.size;c++)for(var d=0;d<this.size;d++){var v=void 0;switch(f){case 0:v=(d+c)%2==0;break;case 1:v=c%2==0;break;case 2:v=d%3==0;break;case 3:v=(d+c)%3==0;break;case 4:v=(Math.floor(d/3)+Math.floor(c/2))%2==0;break;case 5:v=d*c%2+d*c%3==0;break;case 6:v=(d*c%2+d*c%3)%2==0;break;case 7:v=((d+c)%2+d*c%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[c][d]&&v&&(this.modules[c][d]=!this.modules[c][d])}},s.prototype.getPenaltyScore=function(){for(var f=0,c=0;c<this.size;c++){for(var d=!1,v=0,m=[0,0,0,0,0,0,0],y=0;y<this.size;y++)this.modules[c][y]==d?(v++,v==5?f+=s.PENALTY_N1:v>5&&f++):(this.finderPenaltyAddHistory(v,m),d||(f+=this.finderPenaltyCountPatterns(m)*s.PENALTY_N3),d=this.modules[c][y],v=1);f+=this.finderPenaltyTerminateAndCount(d,v,m)*s.PENALTY_N3}for(var y=0;y<this.size;y++){for(var d=!1,E=0,m=[0,0,0,0,0,0,0],c=0;c<this.size;c++)this.modules[c][y]==d?(E++,E==5?f+=s.PENALTY_N1:E>5&&f++):(this.finderPenaltyAddHistory(E,m),d||(f+=this.finderPenaltyCountPatterns(m)*s.PENALTY_N3),d=this.modules[c][y],E=1);f+=this.finderPenaltyTerminateAndCount(d,E,m)*s.PENALTY_N3}for(var c=0;c<this.size-1;c++)for(var y=0;y<this.size-1;y++){var R=this.modules[c][y];R==this.modules[c][y+1]&&R==this.modules[c+1][y]&&R==this.modules[c+1][y+1]&&(f+=s.PENALTY_N2)}for(var U=0,O=0,T=this.modules;O<T.length;O++){var B=T[O];U=B.reduce(function(j,re){return j+(re?1:0)},U)}var M=this.size*this.size,H=Math.ceil(Math.abs(U*20-M*10)/M)-1;return l(0<=H&&H<=9),f+=H*s.PENALTY_N4,l(0<=f&&f<=2568888),f},s.prototype.getAlignmentPatternPositions=function(){if(this.version==1)return[];for(var f=Math.floor(this.version/7)+2,c=this.version==32?26:Math.ceil((this.version*4+4)/(f*2-2))*2,d=[6],v=this.size-7;d.length<f;v-=c)d.splice(1,0,v);return d},s.getNumRawDataModules=function(f){if(f<s.MIN_VERSION||f>s.MAX_VERSION)throw new RangeError("Version number out of range");var c=(16*f+128)*f+64;if(f>=2){var d=Math.floor(f/7)+2;c-=(25*d-10)*d-55,f>=7&&(c-=36)}return l(208<=c&&c<=29648),c},s.getNumDataCodewords=function(f,c){return Math.floor(s.getNumRawDataModules(f)/8)-s.ECC_CODEWORDS_PER_BLOCK[c.ordinal][f]*s.NUM_ERROR_CORRECTION_BLOCKS[c.ordinal][f]},s.reedSolomonComputeDivisor=function(f){if(f<1||f>255)throw new RangeError("Degree out of range");for(var c=[],d=0;d<f-1;d++)c.push(0);c.push(1);for(var v=1,d=0;d<f;d++){for(var m=0;m<c.length;m++)c[m]=s.reedSolomonMultiply(c[m],v),m+1<c.length&&(c[m]^=c[m+1]);v=s.reedSolomonMultiply(v,2)}return c},s.reedSolomonComputeRemainder=function(f,c){for(var d=c.map(function(R){return 0}),v=function(R){var U=R^d.shift();d.push(0),c.forEach(function(O,T){return d[T]^=s.reedSolomonMultiply(O,U)})},m=0,y=f;m<y.length;m++){var E=y[m];v(E)}return d},s.reedSolomonMultiply=function(f,c){if(f>>>8||c>>>8)throw new RangeError("Byte out of range");for(var d=0,v=7;v>=0;v--)d=d<<1^(d>>>7)*285,d^=(c>>>v&1)*f;return l(d>>>8==0),d},s.prototype.finderPenaltyCountPatterns=function(f){var c=f[1];l(c<=this.size*3);var d=c>0&&f[2]==c&&f[3]==c*3&&f[4]==c&&f[5]==c;return(d&&f[0]>=c*4&&f[6]>=c?1:0)+(d&&f[6]>=c*4&&f[0]>=c?1:0)},s.prototype.finderPenaltyTerminateAndCount=function(f,c,d){return f&&(this.finderPenaltyAddHistory(c,d),c=0),c+=this.size,this.finderPenaltyAddHistory(c,d),this.finderPenaltyCountPatterns(d)},s.prototype.finderPenaltyAddHistory=function(f,c){c[0]==0&&(f+=this.size),c.pop(),c.unshift(f)},s.MIN_VERSION=1,s.MAX_VERSION=40,s.PENALTY_N1=3,s.PENALTY_N2=3,s.PENALTY_N3=40,s.PENALTY_N4=10,s.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],s.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],s}();e.QrCode=t;function r(s,f,c){if(f<0||f>31||s>>>f)throw new RangeError("Value out of range");for(var d=f-1;d>=0;d--)c.push(s>>>d&1)}function i(s,f){return(s>>>f&1)!=0}function l(s){if(!s)throw new Error("Assertion error")}var u=function(){function s(f,c,d){if(this.mode=f,this.numChars=c,this.bitData=d,c<0)throw new RangeError("Invalid argument");this.bitData=d.slice()}return s.makeBytes=function(f){for(var c=[],d=0,v=f;d<v.length;d++){var m=v[d];r(m,8,c)}return new s(s.Mode.BYTE,f.length,c)},s.makeNumeric=function(f){if(!s.isNumeric(f))throw new RangeError("String contains non-numeric characters");for(var c=[],d=0;d<f.length;){var v=Math.min(f.length-d,3);r(parseInt(f.substring(d,d+v),10),v*3+1,c),d+=v}return new s(s.Mode.NUMERIC,f.length,c)},s.makeAlphanumeric=function(f){if(!s.isAlphanumeric(f))throw new RangeError("String contains unencodable characters in alphanumeric mode");var c=[],d;for(d=0;d+2<=f.length;d+=2){var v=s.ALPHANUMERIC_CHARSET.indexOf(f.charAt(d))*45;v+=s.ALPHANUMERIC_CHARSET.indexOf(f.charAt(d+1)),r(v,11,c)}return d<f.length&&r(s.ALPHANUMERIC_CHARSET.indexOf(f.charAt(d)),6,c),new s(s.Mode.ALPHANUMERIC,f.length,c)},s.makeSegments=function(f){return f==""?[]:s.isNumeric(f)?[s.makeNumeric(f)]:s.isAlphanumeric(f)?[s.makeAlphanumeric(f)]:[s.makeBytes(s.toUtf8ByteArray(f))]},s.makeEci=function(f){var c=[];if(f<0)throw new RangeError("ECI assignment value out of range");if(f<128)r(f,8,c);else if(f<16384)r(2,2,c),r(f,14,c);else if(f<1e6)r(6,3,c),r(f,21,c);else throw new RangeError("ECI assignment value out of range");return new s(s.Mode.ECI,0,c)},s.isNumeric=function(f){return s.NUMERIC_REGEX.test(f)},s.isAlphanumeric=function(f){return s.ALPHANUMERIC_REGEX.test(f)},s.prototype.getData=function(){return this.bitData.slice()},s.getTotalBits=function(f,c){for(var d=0,v=0,m=f;v<m.length;v++){var y=m[v],E=y.mode.numCharCountBits(c);if(y.numChars>=1<<E)return 1/0;d+=4+E+y.bitData.length}return d},s.toUtf8ByteArray=function(f){f=encodeURI(f);for(var c=[],d=0;d<f.length;d++)f.charAt(d)!="%"?c.push(f.charCodeAt(d)):(c.push(parseInt(f.substring(d+1,d+3),16)),d+=2);return c},s.NUMERIC_REGEX=/^[0-9]*$/,s.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,s.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",s}();e.QrSegment=u})(Hr||(Hr={}));(function(e){(function(t){var r=function(){function i(l,u){this.ordinal=l,this.formatBits=u}return i.LOW=new i(0,1),i.MEDIUM=new i(1,0),i.QUARTILE=new i(2,3),i.HIGH=new i(3,2),i}();t.Ecc=r})(e.QrCode||(e.QrCode={}))})(Hr||(Hr={}));(function(e){(function(t){var r=function(){function i(l,u){this.modeBits=l,this.numBitsCharCount=u}return i.prototype.numCharCountBits=function(l){return this.numBitsCharCount[Math.floor((l+7)/17)]},i.NUMERIC=new i(1,[10,12,14]),i.ALPHANUMERIC=new i(2,[9,11,13]),i.BYTE=new i(4,[8,16,16]),i.KANJI=new i(8,[8,10,12]),i.ECI=new i(7,[0,0,0]),i}();t.Mode=r})(e.QrSegment||(e.QrSegment={}))})(Hr||(Hr={}));var po=Hr,cg="H",Ju={L:po.QrCode.Ecc.LOW,M:po.QrCode.Ecc.MEDIUM,Q:po.QrCode.Ecc.QUARTILE,H:po.QrCode.Ecc.HIGH},O4=function(){try{new Path2D().addPath(new Path2D)}catch(e){return!1}return!0}();function fg(e){return e in Ju}function dg(e,t){t===void 0&&(t=0);var r=[];return e.forEach(function(i,l){var u=null;i.forEach(function(s,f){if(!s&&u!==null){r.push("M".concat(u+t," ").concat(l+t,"h").concat(f-u,"v1H").concat(u+t,"z")),u=null;return}if(f===i.length-1){if(!s)return;u===null?r.push("M".concat(f+t,",").concat(l+t," h1v1H").concat(f+t,"z")):r.push("M".concat(u+t,",").concat(l+t," h").concat(f+1-u,"v1H").concat(u+t,"z"));return}s&&u===null&&(u=f)})}),r.join("")}var Zu={value:{type:String,required:!0,default:""},size:{type:Number,default:100},level:{type:String,default:cg,validator:function(e){return fg(e)}},background:{type:String,default:"#fff"},foreground:{type:String,default:"#000"},margin:{type:Number,required:!1,default:0}},L4=Qs(Qs({},Zu),{renderAs:{type:String,required:!1,default:"canvas",validator:function(e){return["canvas","svg"].indexOf(e)>-1}}}),I4=ke({name:"QRCodeSvg",props:Zu,setup:function(e){var t=ce(0),r=ce(""),i=function(){var l=e.value,u=e.level,s=e.margin,f=po.QrCode.encodeText(l,Ju[u]).getModules();t.value=f.length+s*2,r.value=dg(f,s)};return i(),Hp(i),function(){return Dr("svg",{width:e.size,height:e.size,"shape-rendering":"crispEdges",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(t.value," ").concat(t.value)},[Dr("path",{fill:e.background,d:"M0,0 h".concat(t.value,"v").concat(t.value,"H0z")}),Dr("path",{fill:e.foreground,d:r.value})])}}}),x4=ke({name:"QRCodeCanvas",props:Zu,setup:function(e){var t=ce(null),r=function(){var i=e.value,l=e.level,u=e.size,s=e.margin,f=e.background,c=e.foreground,d=t.value;if(d){var v=d.getContext("2d");if(v){var m=po.QrCode.encodeText(i,Ju[l]).getModules(),y=m.length+s*2,E=window.devicePixelRatio||1,R=u/y*E;d.height=d.width=u*E,v.scale(R,R),v.fillStyle=f,v.fillRect(0,0,y,y),v.fillStyle=c,O4?v.fill(new Path2D(dg(m,s))):m.forEach(function(U,O){U.forEach(function(T,B){T&&v.fillRect(B+s,O+s,1,1)})})}}};return At(r),Hp(r),function(){return Dr("canvas",{ref:t,style:{width:"".concat(e.size,"px"),height:"".concat(e.size,"px")}})}}}),Lp=ke({name:"Qrcode",render:function(){var e=this.$props,t=e.renderAs,r=e.value,i=e.size,l=e.margin,u=e.level,s=e.background,f=e.foreground,c=i>>>0,d=l>>>0,v=fg(u)?u:cg;return Dr(t==="svg"?I4:x4,{value:r,size:c,margin:d,level:v,background:s,foreground:f})},props:L4});const br=e=>(Mp("data-v-11060d4d"),e=e(),Fp(),e),D4=br(()=>p("title",null,null,-1)),U4=["aria-label","data-title"],B4=br(()=>p("i",{class:"material-icons"},"content_paste",-1)),N4=[B4],M4={key:0},F4={class:"message delayed",style:{"padding-top":"3em !important"}},z4=br(()=>p("div",{class:"spinner"},[p("div",{class:"bounce1"}),p("div",{class:"bounce2"}),p("div",{class:"bounce3"})],-1)),H4={key:1},j4={key:0},q4={class:"card floating",id:"password",style:{"z-index":"9999999"}},W4={key:0,class:"share__wrong__password"},V4={class:"card-title"},G4={class:"card-content"},K4=["placeholder"],Q4={class:"card-action"},Y4=["aria-label","data-title"],X4=br(()=>p("div",{class:"overlay"},null,-1)),J4={key:2},Z4={class:"share"},eB={class:"share__box share__box__info",style:{position:"sticky",top:"-20.6em","z-index":"999"}},tB={class:"share__box__header",style:{height:"3em"}},nB={key:0,class:"share__box__element share__box__center share__box__icon"},rB={class:"material-icons"},oB={class:"share__box__element",style:{height:"3em"}},iB=["title"],sB={class:"share__box__element",style:{height:"3em"}},aB={class:"share__box__element share__box__center"},lB=["href"],uB=br(()=>p("i",{class:"material-icons"},"file_download",-1)),cB=["href"],fB=br(()=>p("i",{class:"material-icons"},"open_in_new",-1)),dB={key:2,class:"share__box__element share__box__center"},hB={key:3,class:"share__box__element share__box__header",style:{height:"3em"}},pB={key:4,class:"share__box__element share__box__center share__box__icon",style:{padding:"0em !important",height:"12em !important"}},vB=["href"],mB=["src"],gB={key:1,style:{height:"12em","padding-top":"1em",margin:"0"}},bB=["src","autoplay"],yB=["src"],_B=["href"],wB={key:3,class:"material-icons"},SB={key:4,class:"material-icons"},$B={key:0,id:"shareList",class:"share__box share__box__items"},EB={key:0,class:"share__box__header"},CB={id:"listing",class:"list file-icons"},TB={class:"name"},AB=["data-title","aria-label"],PB=br(()=>p("i",{class:"material-icons"},"clear",-1)),RB=[PB],kB={key:1,class:"share__box share__box__items"},OB={class:"message"},LB=br(()=>p("i",{class:"material-icons"},"sentiment_dissatisfied",-1)),IB=ke({__name:"Share",setup(e){const t=ce(null),r=ce(100),i=ce(""),l=ce(!1),u=ce(""),s=ce(""),f=ce(),c=ce(!1),d=st("$showSuccess"),{t:v}=ht({}),m=$n(),y=lt(),E=Me();Xe(m,()=>{r.value=100,J()});const R=ve(()=>y.req),U=ve(()=>R.value===null?"insert_drive_file":R.value.isDir?"folder":R.value.type==="image"?"insert_photo":R.value.type==="audio"?"volume_up":R.value.type==="video"?"movie":"insert_drive_file"),O=ve(()=>R.value?Us(R.value):""),T=ve(()=>R.value?R.value.items[y.selected[0]].url.replace(/share/,"api/public/dl")+"?token="+s.value:""),B=ve(()=>R.value?Us(R.value,!0):""),M=ve(()=>{var ae;return R.value?R.value.isDir?R.value.items.length:Gs((ae=R.value.size)!=null?ae:0):""}),H=ve(()=>{var ae;return Ln((ae=R.value)==null?void 0:ae.modified).fromNow()}),j=ve(()=>R.value?new Date(Date.parse(R.value.modified)).toLocaleString():new Date().toLocaleString()),re=ae=>qu.encodeURI(ae),F=()=>{var ae,P;c.value?((ae=f.value)==null||ae.pause(),c.value=!1):((P=f.value)==null||P.play(),c.value=!0)},J=async()=>{y.reload=!1,y.selected=[],y.multiple=!1,E.closeHovers(),E.loading=!0,t.value=null,i.value!==""&&(l.value=!0);let ae=m.path;ae===""&&(ae="/"),ae[0]!=="/"&&(ae="/"+ae);try{const P=await AL(ae,i.value);P.hash=u.value,s.value=P.token||"",y.updateRequest(P),document.title="".concat(P.name," - ").concat(document.title)}catch(P){P instanceof Error&&(t.value=P)}finally{E.loading=!1}},K=ae=>{ae.key==="Escape"&&y.selectedCount>0&&(y.selected=[])},se=()=>{y.toggleMultiple()},le=()=>{var ae;return y.selectedCount===1&&!((ae=R.value)!=null&&ae.items[y.selected[0]].isDir)},N=()=>R.value?le()?(vp(null,u.value,s.value,R.value.items[y.selected[0]].path),!0):(E.showHover({prompt:"download",confirm:ae=>{if(R.value===null)return!1;E.closeHovers();let P=[];for(let A of y.selected)P.push(R.value.items[A].path);return vp(ae,u.value,s.value,...P),!0}}),!0):!1,W=()=>le()&&R.value?Us({...R.value,hash:u.value,path:R.value.items[y.selected[0]].path}):"",ue=ae=>{Xu(ae).then(()=>{d(v("success.linkCopied"))},()=>{})};return At(async()=>{u.value=m.params.path[0],window.addEventListener("keydown",K),await J()}),jr(()=>{window.removeEventListener("keydown",K)}),(ae,P)=>{const A=zp("focus");return $(),I("div",null,[Ie(Li,{showMenu:"",showLogo:""},{default:it(()=>[D4,w(y).selectedCount?($(),$e(gt,{key:0,icon:"file_download",label:w(v)("buttons.download"),onAction:N,counter:w(y).selectedCount},null,8,["label","counter"])):oe("",!0),le()?($(),I("button",{key:1,class:"action copy-clipboard","aria-label":w(v)("buttons.copyDownloadLinkToClipboard"),"data-title":w(v)("buttons.copyDownloadLinkToClipboard"),onClick:P[0]||(P[0]=k=>ue(W()))},N4,8,U4)):oe("",!0),Ie(gt,{icon:"check_circle",label:w(v)("buttons.selectMultiple"),onAction:se},null,8,["label"])]),_:1}),Ie(ug,{base:"/share/"+u.value},null,8,["base"]),w(E).loading?($(),I("div",M4,[p("h2",F4,[z4,p("span",null,S(w(v)("files.loading")),1)])])):t.value?($(),I("div",H4,[t.value.status===401?($(),I("div",j4,[p("div",q4,[l.value?($(),I("div",W4,S(w(v)("login.wrongCredentials")),1)):oe("",!0),p("div",V4,[p("h2",null,S(w(v)("login.password")),1)]),p("div",G4,[Te(p("input",{class:"input input--block",type:"password",placeholder:w(v)("login.password"),"onUpdate:modelValue":P[1]||(P[1]=k=>i.value=k),onKeyup:Tt(J,["enter"])},null,40,K4),[[A],[ct,i.value]])]),p("div",Q4,[p("button",{class:"button button--flat",onClick:J,"aria-label":w(v)("buttons.submit"),"data-title":w(v)("buttons.submit")},S(w(v)("buttons.submit")),9,Y4)])]),X4])):($(),$e(Jn,{key:1,errorCode:t.value.status},null,8,["errorCode"]))])):R.value!==null?($(),I("div",J4,[p("div",Z4,[p("div",eB,[p("div",tB,S(R.value.isDir?w(v)("download.downloadFolder"):w(v)("download.downloadFile")),1),R.value.isDir?oe("",!0):($(),I("div",nB,[p("i",rB,S(U.value),1)])),p("div",oB,[p("strong",null,S(ae.$t("prompts.displayName")),1),we(" "+S(R.value.name),1)]),R.value.isDir?oe("",!0):($(),I("div",{key:1,class:"share__box__element",title:j.value},[p("strong",null,S(ae.$t("prompts.lastModified"))+":",1),we(" "+S(H.value),1)],8,iB)),p("div",sB,[p("strong",null,S(ae.$t("prompts.size"))+":",1),we(" "+S(M.value),1)]),p("div",aB,[p("a",{target:"_blank",href:O.value,class:"button button--flat",style:{height:"4em"}},[p("div",null,[uB,we(S(w(v)("buttons.download")),1)])],8,lB),R.value.isDir?oe("",!0):($(),I("a",{key:0,target:"_blank",href:B.value,class:"button button--flat"},[p("div",null,[fB,we(S(w(v)("buttons.openFile")),1)])],8,cB)),R.value.isDir?($(),$e(Lp,{key:1,value:O.value,size:100,level:"M"},null,8,["value"])):oe("",!0)]),R.value.isDir?oe("",!0):($(),I("div",dB,[Ie(Lp,{value:O.value,size:200,level:"M"},null,8,["value"])])),R.value.isDir?($(),I("div",hB,S(ae.$t("sidebar.preview")),1)):oe("",!0),R.value.isDir?($(),I("div",pB,[!w(y).multiple&&w(y).selectedCount===1&&R.value.items[w(y).selected[0]].type==="image"?($(),I("a",{key:0,target:"_blank",href:T.value,class:"button button--flat",style:{height:"12em",padding:"0",margin:"0"}},[p("img",{style:{height:"12em"},src:T.value},null,8,mB)],8,vB)):w(y).multiple&&w(y).selectedCount===1&&R.value.items[w(y).selected[0]].type==="audio"?($(),I("div",gB,[c.value?oe("",!0):($(),I("button",{key:0,onClick:F,style:{"font-size":"6em !important",border:"0px",outline:"none",background:"white"},class:"material-icons"}," play_circle_filled ")),c.value?($(),I("button",{key:1,onClick:F,style:{"font-size":"6em !important",border:"0px",outline:"none",background:"white"},class:"material-icons"}," pause_circle_filled ")):oe("",!0),p("audio",{id:"myaudio",ref_key:"audio",ref:f,src:T.value,controls:"",autoplay:c.value},null,8,bB)])):!w(y).multiple&&w(y).selectedCount===1&&R.value.items[w(y).selected[0]].type==="video"?($(),I("video",{key:2,style:{height:"12em",padding:"0",margin:"0"},src:T.value,controls:""},[we(" Sorry, your browser doesn't support embedded videos, but don't worry, you can "),p("a",{href:T.value},"download it",8,_B),we(" and watch it with your favorite video player! ")],8,yB)):!w(y).multiple&&w(y).selectedCount===1&&R.value.items[w(y).selected[0]].isDir?($(),I("i",wB,"folder ")):($(),I("i",SB,"call_to_action"))])):oe("",!0)]),R.value.isDir&&R.value.items.length>0?($(),I("div",$B,[R.value.isDir?($(),I("div",EB,S(w(v)("files.files")),1)):oe("",!0),p("div",CB,[($(!0),I(We,null,bt(R.value.items.slice(0,r.value),k=>($(),$e(wu,{key:re(k.name),index:k.index,name:k.name,isDir:k.isDir,url:k.url,modified:k.modified,type:k.type,size:k.size,readOnly:""},null,8,["index","name","isDir","url","modified","type","size"]))),128)),R.value.items.length>r.value?($(),I("div",{key:0,class:"item",onClick:P[2]||(P[2]=k=>r.value+=100)},[p("div",null,[p("p",TB,"+ "+S(R.value.items.length-r.value),1)])])):oe("",!0),p("div",{class:nt({active:w(y).multiple}),id:"multiple-selection"},[p("p",null,S(w(v)("files.multipleSelectionEnabled")),1),p("div",{onClick:P[3]||(P[3]=()=>w(y).multiple=!1),tabindex:"0",role:"button","data-title":w(v)("buttons.clear"),"aria-label":w(v)("buttons.clear"),class:"action"},RB,8,AB)],2)])])):R.value.isDir&&R.value.items.length===0?($(),I("div",kB,[p("h2",OB,[LB,p("span",null,S(w(v)("files.lonely")),1)])])):oe("",!0)])])):oe("",!0)])}}}),xB=pt(IB,[["__scopeId","data-v-11060d4d"]]),DB={key:1,class:"row"},UB={class:"column"},BB={class:"card"},NB={class:"card-title"},MB={class:"button"},FB={class:"card-content full"},zB=p("th",null,null,-1),HB={key:0,class:"material-icons"},jB={key:1,class:"material-icons"},qB={class:"small"},WB=p("i",{class:"material-icons"},"mode_edit",-1),VB=ke({__name:"Users",setup(e){const t=ce(null),r=ce([]),i=Me(),{t:l}=ht();return At(async()=>{i.loading=!0;try{r.value=await Jm()}catch(u){u instanceof Error&&(t.value=u)}finally{i.loading=!1}}),(u,s)=>{const f=$t("router-link");return t.value?($(),$e(Jn,{key:0,errorCode:t.value.status},null,8,["errorCode"])):w(i).loading?oe("",!0):($(),I("div",DB,[p("div",UB,[p("div",BB,[p("div",NB,[p("h2",null,S(w(l)("settings.users")),1),Ie(f,{to:"/settings/users/new"},{default:it(()=>[p("button",MB,S(w(l)("buttons.new")),1)]),_:1})]),p("div",FB,[p("table",null,[p("tr",null,[p("th",null,S(w(l)("settings.username")),1),p("th",null,S(w(l)("settings.admin")),1),p("th",null,S(w(l)("settings.scope")),1),zB]),($(!0),I(We,null,bt(r.value,c=>($(),I("tr",{key:c.id},[p("td",null,S(c.username),1),p("td",null,[c.perm.admin?($(),I("i",HB,"done")):($(),I("i",jB,"close"))]),p("td",null,S(c.scope),1),p("td",qB,[Ie(f,{to:"/settings/users/"+c.id},{default:it(()=>[WB]),_:2},1032,["to"])])]))),128))])])])])]))}}}),GB={name:"languages",props:["locale"],data(){let e={};return Object.defineProperty(e,"locales",{value:mr({he:"",hu:"Magyar",ar:"",ca:"Catal",de:"Deutsch",el:"",en:"English",es:"Espaol",fr:"Franais",is:"Icelandic",it:"Italiano",ja:"",ko:"","nl-be":"Dutch (Belgium)",pl:"Polski","pt-br":"Portugus",pt:"Portugus (Brasil)",ro:"Romanian",ru:"",sk:"Slovenina","sv-se":"Swedish (Sweden)",tr:"Trke",uk:"","zh-cn":" ()","zh-tw":" ()"}),configurable:!1,writable:!1}),e},methods:{change(e){this.$emit("update:locale",e.target.value)}}},KB=["value"],QB=["value"];function YB(e,t,r,i,l,u){return $(),I("select",{name:"selectLanguage",onChange:t[0]||(t[0]=(...s)=>u.change&&u.change(...s)),value:r.locale},[($(!0),I(We,null,bt(e.locales,(s,f)=>($(),I("option",{key:f,value:f},S(s),9,QB))),128))],40,KB)}const hg=pt(GB,[["render",YB]]),XB={name:"rules-textarea",props:["rules"],methods:{remove(e,t){e.preventDefault();let r=[...this.rules];r.splice(t,1),this.$emit("update:rules",[...r])},create(e){e.preventDefault(),this.$emit("update:rules",[...this.rules,{allow:!0,path:"",regex:!1,regexp:{raw:""}}])}}},JB={class:"rules small"},ZB=["onUpdate:modelValue"],eN=p("label",null,"Regex",-1),tN=["onUpdate:modelValue"],nN=p("label",null,"Allow",-1),rN=["onUpdate:modelValue","placeholder"],oN=["onUpdate:modelValue","placeholder"],iN=["onClick"];function sN(e,t,r,i,l,u){return $(),I("form",JB,[($(!0),I(We,null,bt(r.rules,(s,f)=>($(),I("div",{key:f},[Te(p("input",{type:"checkbox","onUpdate:modelValue":c=>s.regex=c},null,8,ZB),[[St,s.regex]]),eN,Te(p("input",{type:"checkbox","onUpdate:modelValue":c=>s.allow=c},null,8,tN),[[St,s.allow]]),nN,s.regex?Te(($(),I("input",{key:0,onKeypress:t[0]||(t[0]=Tt(Wt(()=>{},["prevent"]),["enter"])),type:"text","onUpdate:modelValue":c=>s.regexp.raw=c,placeholder:e.$t("settings.insertRegex")},null,40,rN)),[[ct,s.regexp.raw]]):Te(($(),I("input",{key:1,onKeypress:t[1]||(t[1]=Tt(Wt(()=>{},["prevent"]),["enter"])),type:"text","onUpdate:modelValue":c=>s.path=c,placeholder:e.$t("settings.insertPath")},null,40,oN)),[[ct,s.path]]),p("button",{class:"button button--red",onClick:c=>u.remove(c,f)}," - ",8,iN)]))),128)),p("div",null,[p("button",{class:"button",onClick:t[2]||(t[2]=(...s)=>u.create&&u.create(...s)),default:"false"},S(e.$t("buttons.new")),1)])])}const pg=pt(XB,[["render",sN]]),aN={name:"permissions",props:["perm"],computed:{admin:{get(){return this.perm.admin},set(e){if(e)for(const t in this.perm)this.perm[t]=!0;this.perm.admin=e}},isExecEnabled:()=>go}},lN={class:"small"},uN=["disabled"],cN=["disabled"],fN=["disabled"],dN=["disabled"],hN={key:0},pN=["disabled"],vN=["disabled"],mN=["disabled"];function gN(e,t,r,i,l,u){return $(),I("div",null,[p("h3",null,S(e.$t("settings.permissions")),1),p("p",lN,S(e.$t("settings.permissionsHelp")),1),p("p",null,[Te(p("input",{type:"checkbox","onUpdate:modelValue":t[0]||(t[0]=s=>u.admin=s)},null,512),[[St,u.admin]]),we(" "+S(e.$t("settings.administrator")),1)]),p("p",null,[Te(p("input",{type:"checkbox",disabled:u.admin,"onUpdate:modelValue":t[1]||(t[1]=s=>r.perm.create=s)},null,8,uN),[[St,r.perm.create]]),we(" "+S(e.$t("settings.perm.create")),1)]),p("p",null,[Te(p("input",{type:"checkbox",disabled:u.admin,"onUpdate:modelValue":t[2]||(t[2]=s=>r.perm.delete=s)},null,8,cN),[[St,r.perm.delete]]),we(" "+S(e.$t("settings.perm.delete")),1)]),p("p",null,[Te(p("input",{type:"checkbox",disabled:u.admin,"onUpdate:modelValue":t[3]||(t[3]=s=>r.perm.download=s)},null,8,fN),[[St,r.perm.download]]),we(" "+S(e.$t("settings.perm.download")),1)]),p("p",null,[Te(p("input",{type:"checkbox",disabled:u.admin,"onUpdate:modelValue":t[4]||(t[4]=s=>r.perm.modify=s)},null,8,dN),[[St,r.perm.modify]]),we(" "+S(e.$t("settings.perm.modify")),1)]),u.isExecEnabled?($(),I("p",hN,[Te(p("input",{type:"checkbox",disabled:u.admin,"onUpdate:modelValue":t[5]||(t[5]=s=>r.perm.execute=s)},null,8,pN),[[St,r.perm.execute]]),we(" "+S(e.$t("settings.perm.execute")),1)])):oe("",!0),p("p",null,[Te(p("input",{type:"checkbox",disabled:u.admin,"onUpdate:modelValue":t[6]||(t[6]=s=>r.perm.rename=s)},null,8,vN),[[St,r.perm.rename]]),we(" "+S(e.$t("settings.perm.rename")),1)]),p("p",null,[Te(p("input",{type:"checkbox",disabled:u.admin,"onUpdate:modelValue":t[7]||(t[7]=s=>r.perm.share=s)},null,8,mN),[[St,r.perm.share]]),we(" "+S(e.$t("settings.perm.share")),1)])])}const bN=pt(aN,[["render",gN]]),yN={name:"permissions",props:["commands"],computed:{raw:{get(){return this.commands.join(" ")},set(e){e!==""?this.$emit("update:commands",e.split(" ")):this.$emit("update:commands",[])}}}},_N={class:"small"},wN=p("i",null,"git svn hg",-1);function SN(e,t,r,i,l,u){return $(),I("div",null,[p("h3",null,S(e.$t("settings.userCommands")),1),p("p",_N,[we(S(e.$t("settings.userCommandsHelp"))+" ",1),wN,we(". ")]),Te(p("input",{class:"input input--block",type:"text","onUpdate:modelValue":t[0]||(t[0]=s=>u.raw=s)},null,512),[[ct,u.raw,void 0,{trim:!0}]])])}const $N=pt(yN,[["render",SN]]),EN={key:0},CN={for:"username"},TN={key:1},AN={for:"password"},PN=["placeholder"],RN={for:"scope"},kN=["disabled","placeholder"],ON={key:2,class:"small"},LN={for:"locale"},IN={key:3},xN=["disabled"],DN={key:5},UN={class:"small"},vg=ke({__name:"UserForm",props:{user:{},isNew:{type:Boolean},isDefault:{type:Boolean},createUserDir:{type:Boolean}},setup(e){const{t}=ht(),r=ce(null),i=ce(null),l=e;At(()=>{l.user.scope&&(i.value=l.user.scope,r.value=l.createUserDir)});const u=ve(()=>l.isNew?"":t("settings.avoidChanges")),s=ve(()=>r.value?t("settings.userScopeGenerationPlaceholder"):""),f=ve(()=>l.isNew&&r.value);return Xe(()=>l.user,()=>{var c,d;(d=(c=l.user)==null?void 0:c.perm)!=null&&d.admin&&(l.user.lockPassword=!1)}),Xe(r,()=>{var c,d;(c=l.user)!=null&&c.scope&&(l.user.scope=r.value?"":(d=i.value)!=null?d:"")}),(c,d)=>{var v;return $(),I("div",null,[!c.isDefault&&l.user!==null?($(),I("p",EN,[p("label",CN,S(w(t)("settings.username")),1),Te(p("input",{class:"input input--block",type:"text","onUpdate:modelValue":d[0]||(d[0]=m=>c.user.username=m),id:"username"},null,512),[[ct,c.user.username]])])):oe("",!0),c.isDefault?oe("",!0):($(),I("p",TN,[p("label",AN,S(w(t)("settings.password")),1),Te(p("input",{class:"input input--block",type:"password",placeholder:u.value,"onUpdate:modelValue":d[1]||(d[1]=m=>c.user.password=m),id:"password"},null,8,PN),[[ct,c.user.password]])])),p("p",null,[p("label",RN,S(w(t)("settings.scope")),1),Te(p("input",{disabled:(v=r.value)!=null?v:!1,placeholder:s.value,class:"input input--block",type:"text","onUpdate:modelValue":d[2]||(d[2]=m=>c.user.scope=m),id:"scope"},null,8,kN),[[ct,c.user.scope]])]),f.value?($(),I("p",ON,[Te(p("input",{type:"checkbox","onUpdate:modelValue":d[3]||(d[3]=m=>r.value=m)},null,512),[[St,r.value]]),we(" "+S(w(t)("settings.createUserHomeDirectory")),1)])):oe("",!0),p("p",null,[p("label",LN,S(w(t)("settings.language")),1),Ie(hg,{class:"input input--block",id:"locale",locale:c.user.locale,"onUpdate:locale":d[4]||(d[4]=m=>c.user.locale=m)},null,8,["locale"])]),!c.isDefault&&c.user.perm?($(),I("p",IN,[Te(p("input",{type:"checkbox",disabled:c.user.perm.admin,"onUpdate:modelValue":d[5]||(d[5]=m=>c.user.lockPassword=m)},null,8,xN),[[St,c.user.lockPassword]]),we(" "+S(w(t)("settings.lockPassword")),1)])):oe("",!0),Ie(bN,{perm:c.user.perm,"onUpdate:perm":d[6]||(d[6]=m=>c.user.perm=m)},null,8,["perm"]),w(go)?($(),$e($N,{key:4,commands:c.user.commands,"onUpdate:commands":d[7]||(d[7]=m=>c.user.commands=m)},null,8,["commands"])):oe("",!0),c.isDefault?oe("",!0):($(),I("div",DN,[p("h3",null,S(w(t)("settings.rules")),1),p("p",UN,S(w(t)("settings.rulesHelp")),1),Ie(pg,{rules:c.user.rules,"onUpdate:rules":d[8]||(d[8]=m=>c.user.rules=m)},null,8,["rules"])]))])}}}),BN={key:1,class:"row"},NN={class:"column"},MN={class:"card-title"},FN={key:0},zN={key:1},HN={key:0,class:"card-content"},jN={class:"card-action"},qN=["aria-label","title"],WN=["aria-label","title"],VN=["value"],GN=ke({__name:"User",setup(e){const t=ce(),r=ce(),i=ce(),l=ce(!1),u=st("$showError"),s=st("$showSuccess"),f=yt(),c=Me(),d=$n(),v=Ai(),{t:m}=ht();At(()=>{E()});const y=ve(()=>d.path==="/settings/users/new");Xe(d,()=>E()),Xe(i,()=>{var T;(T=i.value)!=null&&T.perm.admin&&(i.value.lockPassword=!1)});const E=async()=>{c.loading=!0;try{if(y.value){let{defaults:T,createUserDir:B}=await Zm();l.value=B,i.value={...T,username:"",password:"",rules:[],lockPassword:!1,id:0}}else{const T=Array.isArray(d.params.id)?d.params.id.join(""):d.params.id;i.value={...await $L(parseInt(T))}}}catch(T){T instanceof Error&&(t.value=T)}finally{c.loading=!1}},R=()=>c.showHover({prompt:"deleteUser",confirm:U}),U=async T=>{if(T.preventDefault(),!i.value)return!1;try{await CL(i.value.id),v.push({path:"/settings/users"}),s(m("settings.userDeleted"))}catch(B){B instanceof Zn?B.status===403?u(m("errors.forbidden")):u(B):B instanceof Error&&u(B)}return!0},O=async T=>{var B;if(T.preventDefault(),!i.value)return!1;try{if(y.value){const M={...r==null?void 0:r.value,...i.value},H=await EL(M);v.push({path:H||"/settings/users"}),s(m("settings.userCreated"))}else await Ei(i.value),i.value.id===((B=f.user)==null?void 0:B.id)&&f.updateUser(i.value),s(m("settings.userUpdated"))}catch(M){u(M)}return!0};return(T,B)=>{var H,j;const M=$t("router-link");return t.value?($(),$e(Jn,{key:0,errorCode:t.value.status},null,8,["errorCode"])):w(c).loading?oe("",!0):($(),I("div",BN,[p("div",NN,[p("form",{onSubmit:O,class:"card"},[p("div",MN,[((H=i.value)==null?void 0:H.id)===0?($(),I("h2",FN,S(T.$t("settings.newUser")),1)):($(),I("h2",zN,S(T.$t("settings.user"))+" "+S((j=i.value)==null?void 0:j.username),1))]),i.value?($(),I("div",HN,[Ie(vg,{user:i.value,"onUpdate:user":B[0]||(B[0]=re=>i.value=re),createUserDir:l.value,"onUpdate:createUserDir":B[1]||(B[1]=re=>l.value=re),isDefault:!1,isNew:y.value},null,8,["user","createUserDir","isNew"])])):oe("",!0),p("div",jN,[y.value?oe("",!0):($(),I("button",{key:0,onClick:Wt(R,["prevent"]),type:"button",class:"button button--flat button--red","aria-label":T.$t("buttons.delete"),title:T.$t("buttons.delete")},S(T.$t("buttons.delete")),9,qN)),Ie(M,{to:"/settings/users"},{default:it(()=>[p("button",{class:"button button--flat button--grey","aria-label":T.$t("buttons.cancel"),title:T.$t("buttons.cancel")},S(T.$t("buttons.cancel")),9,WN)]),_:1}),p("input",{class:"button button--flat",type:"submit",value:T.$t("buttons.save")},null,8,VN)])],32)])]))}}}),KN={class:"dashboard"},QN={id:"nav"},YN={class:"wrapper"},XN={key:0},JN={class:"message delayed"},ZN=p("div",{class:"spinner"},[p("div",{class:"bounce1"}),p("div",{class:"bounce2"}),p("div",{class:"bounce3"})],-1),eM=ke({__name:"Settings",setup(e){const{t}=ht(),r=yt(),i=Me(),l=ve(()=>r.user),u=ve(()=>i.loading);return(s,f)=>{var v,m,y;const c=$t("router-link"),d=$t("router-view");return $(),I("div",KN,[Ie(Li,{showMenu:"",showLogo:""}),p("div",QN,[p("div",YN,[p("ul",null,[Ie(c,{to:"/settings/profile"},{default:it(()=>[p("li",{class:nt({active:s.$route.path==="/settings/profile"})},S(w(t)("settings.profileSettings")),3)]),_:1}),(v=l.value)!=null&&v.perm.share?($(),$e(c,{key:0,to:"/settings/shares"},{default:it(()=>[p("li",{class:nt({active:s.$route.path==="/settings/shares"})},S(w(t)("settings.shareManagement")),3)]),_:1})):oe("",!0),(m=l.value)!=null&&m.perm.admin?($(),$e(c,{key:1,to:"/settings/global"},{default:it(()=>[p("li",{class:nt({active:s.$route.path==="/settings/global"})},S(w(t)("settings.globalSettings")),3)]),_:1})):oe("",!0),(y=l.value)!=null&&y.perm.admin?($(),$e(c,{key:2,to:"/settings/users"},{default:it(()=>[p("li",{class:nt({active:s.$route.path==="/settings/users"||s.$route.name==="User"})},S(w(t)("settings.userManagement")),3)]),_:1})):oe("",!0)])])]),u.value?($(),I("div",XN,[p("h2",JN,[ZN,p("span",null,S(w(t)("files.loading")),1)])])):oe("",!0),Ie(d)])}}}),tM=["value"],nM={value:""},rM={value:"light"},oM={value:"dark"},iM=ke({__name:"Themes",props:{theme:{}},emits:["update:theme"],setup(e,{emit:t}){const{t:r}=ht(),i=t,l=u=>{var s;i("update:theme",(s=u.target)==null?void 0:s.value)};return(u,s)=>($(),I("select",{onChange:l,value:u.theme},[p("option",nM,S(w(r)("settings.themes.default")),1),p("option",rM,S(w(r)("settings.themes.light")),1),p("option",oM,S(w(r)("settings.themes.dark")),1)],40,tM))}}),mg=()=>document.documentElement.className||Qp,gg=e=>{const t=document.documentElement;e?t.className=e:t.className=bg()},bg=()=>window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light",sM={key:1,class:"row"},aM={class:"column"},lM={class:"card-title"},uM={class:"card-content"},cM={class:"small"},fM={class:"small"},dM={key:0},hM={class:"small"},pM={class:"link",target:"_blank",href:"https://filebrowser.org/configuration/custom-branding"},vM={for:"theme"},mM={for:"branding-name"},gM={for:"branding-files"},bM={class:"small"},yM={class:"tusConditionalSettings"},_M={for:"tus-chunkSize"},wM={for:"tus-retryCount"},SM={class:"card-action"},$M=["value"],EM={class:"column"},CM={class:"card-title"},TM={class:"card-content"},AM={class:"small"},PM={class:"card-action"},RM=["value"],kM={class:"column"},OM={class:"card-title"},LM={class:"card-content"},IM=p("code",null,"FILE",-1),xM=p("code",null,"SCOPE",-1),DM={class:"link",target:"_blank",href:"https://filebrowser.org/configuration/command-runner"},UM=["id"],BM=["for"],NM=p("i",{class:"material-icons"},"arrow_drop_down",-1),MM={class:"collapse"},FM=["onUpdate:modelValue"],zM={class:"card-action"},HM=["value"],jM=ke({__name:"Global",setup(e){const t=ce(null),r=ce(null),i=ce(null),l=ce(null),u=ce({}),s=ce(""),f=st("$showError"),c=st("$showSuccess"),{t:d}=ht(),v=Me(),m=ve({get(){var O,T,B,M;return(T=(O=i==null?void 0:i.value)==null?void 0:O.tus)!=null&&T.chunkSize?U((M=(B=i==null?void 0:i.value)==null?void 0:B.tus)==null?void 0:M.chunkSize):""},set(O){l.value&&clearTimeout(l.value),l.value=window.setTimeout(()=>{i.value&&(i.value.tus.chunkSize=R(O))},1500)}}),y=(O,T="_")=>{T==="caps"&&(T=/(?=[A-Z])/);let B=O.split(T);O="";for(let M=0;M<B.length;M++)O+=B[M].charAt(0).toUpperCase()+B[M].slice(1)+" ";return O.slice(0,-1)},E=async()=>{var B,M;if(i.value===null)return!1;let O={...i.value,shell:(M=(B=i.value)==null?void 0:B.shell.join(" ").trim().split(" ").filter(H=>H!==""))!=null?M:[],commands:{}};const T=Object.keys(i.value.commands);for(const H of T){const j=u.value[H];j&&(Array.isArray(j)?O.commands[H]=j:H in u.value&&(O.commands[H]=j.split("\n").filter(re=>re!=="")))}O.shell=s.value.split("\n"),O.branding.theme!==mg()&&gg(O.branding.theme);try{await TL(O),c(d("settings.settingsUpdated"))}catch(H){f(H)}return!0},R=O=>{const T=/^(\d+)(\.\d+)?(B|K|KB|M|MB|G|GB|T|TB)?$/i,B=O.match(T);if(B){const M=parseFloat(B[1].concat(B[2]||""));let H=B[3].toUpperCase();H.endsWith("B")||(H+="B");const j={KB:1024,MB:1024**2,GB:1024**3,TB:1024**4};return M*(j[H]||1)}else return 1024**2},U=O=>{const T=["B","KB","MB","GB","TB"];let B=O,M=0;for(;B>=1024&&M<T.length-1;)B/=1024,M++;return"".concat(B).concat(T[M])};return At(async()=>{try{v.loading=!0;const O=await Zm();let T={...O,commands:{}};const B=Object.keys(O.commands);for(const M of B)T.commands[M]=O.commands[M],u.value[M]=O.commands[M].join("\n");r.value=O,i.value=T,s.value=T.shell.join("\n")}catch(O){O instanceof Error&&(t.value=O)}finally{v.loading=!1}}),jr(()=>{l.value&&clearTimeout(l.value)}),(O,T)=>{const B=$t("i18n-t"),M=$t("vue-number-input");return t.value?($(),$e(Jn,{key:0,errorCode:t.value.status},null,8,["errorCode"])):!w(v).loading&&i.value!==null?($(),I("div",sM,[p("div",aM,[p("form",{class:"card",onSubmit:Wt(E,["prevent"])},[p("div",lM,[p("h2",null,S(w(d)("settings.globalSettings")),1)]),p("div",uM,[p("p",null,[Te(p("input",{type:"checkbox","onUpdate:modelValue":T[0]||(T[0]=H=>i.value.signup=H)},null,512),[[St,i.value.signup]]),we(" "+S(w(d)("settings.allowSignup")),1)]),p("p",null,[Te(p("input",{type:"checkbox","onUpdate:modelValue":T[1]||(T[1]=H=>i.value.createUserDir=H)},null,512),[[St,i.value.createUserDir]]),we(" "+S(w(d)("settings.createUserDir")),1)]),p("div",null,[p("p",cM,S(w(d)("settings.userHomeBasePath")),1),Te(p("input",{class:"input input--block",type:"text","onUpdate:modelValue":T[2]||(T[2]=H=>i.value.userHomeBasePath=H)},null,512),[[ct,i.value.userHomeBasePath]])]),p("h3",null,S(w(d)("settings.rules")),1),p("p",fM,S(w(d)("settings.globalRules")),1),Ie(pg,{rules:i.value.rules,"onUpdate:rules":T[3]||(T[3]=H=>i.value.rules=H)},null,8,["rules"]),w(go)?($(),I("div",dM,[p("h3",null,S(w(d)("settings.executeOnShell")),1),p("p",hM,S(w(d)("settings.executeOnShellDescription")),1),Te(p("input",{class:"input input--block",type:"text",placeholder:"bash -c, cmd /c, ...","onUpdate:modelValue":T[4]||(T[4]=H=>s.value=H)},null,512),[[ct,s.value]])])):oe("",!0),p("h3",null,S(w(d)("settings.branding")),1),Ie(B,{keypath:"settings.brandingHelp",tag:"p",class:"small",scope:"global"},{default:it(()=>[p("a",pM,S(w(d)("settings.documentation")),1)]),_:1}),p("p",null,[Te(p("input",{type:"checkbox","onUpdate:modelValue":T[5]||(T[5]=H=>i.value.branding.disableExternal=H),id:"branding-links"},null,512),[[St,i.value.branding.disableExternal]]),we(" "+S(w(d)("settings.disableExternalLinks")),1)]),p("p",null,[Te(p("input",{type:"checkbox","onUpdate:modelValue":T[6]||(T[6]=H=>i.value.branding.disableUsedPercentage=H),id:"branding-used-disk"},null,512),[[St,i.value.branding.disableUsedPercentage]]),we(" "+S(w(d)("settings.disableUsedDiskPercentage")),1)]),p("p",null,[p("label",vM,S(w(d)("settings.themes.title")),1),Ie(iM,{class:"input input--block",theme:i.value.branding.theme,"onUpdate:theme":T[7]||(T[7]=H=>i.value.branding.theme=H),id:"theme"},null,8,["theme"])]),p("p",null,[p("label",mM,S(w(d)("settings.instanceName")),1),Te(p("input",{class:"input input--block",type:"text","onUpdate:modelValue":T[8]||(T[8]=H=>i.value.branding.name=H),id:"branding-name"},null,512),[[ct,i.value.branding.name]])]),p("p",null,[p("label",gM,S(w(d)("settings.brandingDirectoryPath")),1),Te(p("input",{class:"input input--block",type:"text","onUpdate:modelValue":T[9]||(T[9]=H=>i.value.branding.files=H),id:"branding-files"},null,512),[[ct,i.value.branding.files]])]),p("h3",null,S(w(d)("settings.tusUploads")),1),p("p",bM,S(w(d)("settings.tusUploadsHelp")),1),p("div",yM,[p("p",null,[p("label",_M,S(w(d)("settings.tusUploadsChunkSize")),1),Te(p("input",{class:"input input--block",type:"text","onUpdate:modelValue":T[10]||(T[10]=H=>m.value=H),id:"tus-chunkSize"},null,512),[[ct,m.value]])]),p("p",null,[p("label",wM,S(w(d)("settings.tusUploadsRetryCount")),1),Ie(M,{controls:"",modelValue:i.value.tus.retryCount,"onUpdate:modelValue":T[11]||(T[11]=H=>i.value.tus.retryCount=H),modelModifiers:{number:!0},id:"tus-retryCount",min:0},null,8,["modelValue"])])])]),p("div",SM,[p("input",{class:"button button--flat",type:"submit",value:w(d)("buttons.update")},null,8,$M)])],32)]),p("div",EM,[p("form",{class:"card",onSubmit:Wt(E,["prevent"])},[p("div",CM,[p("h2",null,S(w(d)("settings.userDefaults")),1)]),p("div",TM,[p("p",AM,S(w(d)("settings.defaultUserDescription")),1),Ie(vg,{isNew:!1,isDefault:!0,user:i.value.defaults,"onUpdate:user":T[12]||(T[12]=H=>i.value.defaults=H)},null,8,["user"])]),p("div",PM,[p("input",{class:"button button--flat",type:"submit",value:w(d)("buttons.update")},null,8,RM)])],32)]),p("div",kM,[w(go)?($(),I("form",{key:0,class:"card",onSubmit:Wt(E,["prevent"])},[p("div",OM,[p("h2",null,S(w(d)("settings.commandRunner")),1)]),p("div",LM,[Ie(B,{keypath:"settings.commandRunnerHelp",tag:"p",class:"small",scope:"global"},{default:it(()=>[IM,xM,p("a",DM,S(w(d)("settings.documentation")),1)]),_:1}),($(!0),I(We,null,bt(i.value.commands,(H,j)=>($(),I("div",{key:j,class:"collapsible"},[p("input",{id:j,type:"checkbox"},null,8,UM),p("label",{for:j},[p("p",null,S(y(j)),1),NM],8,BM),p("div",MM,[Te(p("textarea",{class:"input input--block input--textarea","onUpdate:modelValue":re=>u.value[j]=re},null,8,FM),[[ct,u.value[j],void 0,{trim:!0}]])])]))),128))]),p("div",zM,[p("input",{class:"button button--flat",type:"submit",value:w(d)("buttons.update")},null,8,HM)])],32)):oe("",!0)])])):oe("",!0)}}}),qM={class:"row"},WM={class:"column"},VM={class:"card-title"},GM={class:"card-content"},KM={class:"card-action"},QM=["value"],YM={class:"column"},XM={class:"card-title"},JM={class:"card-content"},ZM=["placeholder"],eF=["placeholder"],tF={class:"card-action"},nF=["value"],rF=ke({__name:"Profile",setup(e){const t=Me(),r=yt(),{t:i}=ht(),l=st("$showSuccess"),u=st("$showError"),s=ce(""),f=ce(""),c=ce(!1),d=ce(!1),v=ce(!1),m=ce(""),y=ve(()=>{const U="input input--block";return s.value===""&&f.value===""?U:s.value===f.value?"".concat(U," input--green"):"".concat(U," input--red")});At(()=>(t.loading=!0,r.user===null?!1:(m.value=r.user.locale,c.value=r.user.hideDotfiles,d.value=r.user.singleClick,v.value=r.user.dateFormat,t.loading=!1,!0)));const E=async U=>{if(U.preventDefault(),!(s.value!==f.value||s.value===""||r.user===null))try{const O={...r.user,id:r.user.id,password:s.value};await Ei(O,["password"]),r.updateUser(O),l(i("settings.passwordUpdated"))}catch(O){u(O)}finally{s.value=f.value=""}},R=async U=>{U.preventDefault();try{if(r.user===null)throw new Error("User is not set!");const O={...r.user,id:r.user.id,locale:m.value,hideDotfiles:c.value,singleClick:d.value,dateFormat:v.value};await Ei(O,["locale","hideDotfiles","singleClick","dateFormat"]),r.updateUser(O),l(i("settings.settingsUpdated"))}catch(O){O instanceof Error&&u(O)}};return(U,O)=>{var T;return $(),I("div",qM,[p("div",WM,[p("form",{class:"card",onSubmit:R},[p("div",VM,[p("h2",null,S(w(i)("settings.profileSettings")),1)]),p("div",GM,[p("p",null,[Te(p("input",{type:"checkbox",name:"hideDotfiles","onUpdate:modelValue":O[0]||(O[0]=B=>c.value=B)},null,512),[[St,c.value]]),we(" "+S(w(i)("settings.hideDotfiles")),1)]),p("p",null,[Te(p("input",{type:"checkbox",name:"singleClick","onUpdate:modelValue":O[1]||(O[1]=B=>d.value=B)},null,512),[[St,d.value]]),we(" "+S(w(i)("settings.singleClick")),1)]),p("p",null,[Te(p("input",{type:"checkbox",name:"dateFormat","onUpdate:modelValue":O[2]||(O[2]=B=>v.value=B)},null,512),[[St,v.value]]),we(" "+S(w(i)("settings.setDateFormat")),1)]),p("h3",null,S(w(i)("settings.language")),1),Ie(hg,{class:"input input--block",locale:m.value,"onUpdate:locale":O[3]||(O[3]=B=>m.value=B)},null,8,["locale"])]),p("div",KM,[p("input",{class:"button button--flat",type:"submit",name:"submitProfile",value:w(i)("buttons.update")},null,8,QM)])],32)]),p("div",YM,[(T=w(r).user)!=null&&T.lockPassword?oe("",!0):($(),I("form",{key:0,class:"card",onSubmit:E},[p("div",XM,[p("h2",null,S(w(i)("settings.changePassword")),1)]),p("div",JM,[Te(p("input",{class:nt(y.value),type:"password",placeholder:w(i)("settings.newPassword"),"onUpdate:modelValue":O[4]||(O[4]=B=>s.value=B),name:"password"},null,10,ZM),[[ct,s.value]]),Te(p("input",{class:nt(y.value),type:"password",placeholder:w(i)("settings.newPasswordConfirm"),"onUpdate:modelValue":O[5]||(O[5]=B=>f.value=B),name:"passwordConf"},null,10,eF),[[ct,f.value]])]),p("div",tF,[p("input",{class:"button button--flat",type:"submit",name:"submitPassword",value:w(i)("buttons.update")},null,8,nF)])],32))])])}}}),oF={key:1,class:"row"},iF={class:"column"},sF={class:"card"},aF={class:"card-title"},lF={key:0,class:"card-content full"},uF={key:0},cF=p("th",null,null,-1),fF=p("th",null,null,-1),dF=["href"],hF={key:0},pF={class:"small"},vF=["onClick","aria-label","title"],mF=p("i",{class:"material-icons"},"delete",-1),gF=[mF],bF={class:"small"},yF=["aria-label","title","onClick"],_F=p("i",{class:"material-icons"},"content_paste",-1),wF=[_F],SF={key:1,class:"message"},$F=p("i",{class:"material-icons"},"sentiment_dissatisfied",-1),EF=ke({__name:"Shares",setup(e){const t=st("$showError"),r=st("$showSuccess"),{t:i}=ht(),l=Me(),u=yt(),s=ce(null),f=ce([]);At(async()=>{var y;l.loading=!0;try{let E=await wL();if((y=u.user)!=null&&y.perm.admin){let R=new Map;for(let U of await Jm())R.set(U.id,U.username);for(let U of E)U.userID&&R.has(U.userID)&&(U.username=R.get(U.userID))}f.value=E}catch(E){E instanceof Error&&(s.value=E)}finally{l.loading=!1}});const c=y=>{Xu(y).then(()=>{r(i("success.linkCopied"))},()=>{})},d=async(y,E)=>{y.preventDefault(),l.showHover({prompt:"share-delete",confirm:()=>{l.closeHovers();try{Ym(E.hash),f.value=f.value.filter(R=>R.hash!==E.hash),r(i("settings.shareDeleted"))}catch(R){R instanceof Error&&t(R)}}})},v=y=>Ln(y*1e3).fromNow(),m=y=>Xm(y);return(y,E)=>{var R;return s.value?($(),$e(Jn,{key:0,errorCode:s.value.status},null,8,["errorCode"])):w(l).loading?oe("",!0):($(),I("div",oF,[p("div",iF,[p("div",sF,[p("div",aF,[p("h2",null,S(w(i)("settings.shareManagement")),1)]),f.value.length>0?($(),I("div",lF,[p("table",null,[p("tr",null,[p("th",null,S(w(i)("settings.path")),1),p("th",null,S(w(i)("settings.shareDuration")),1),(R=w(u).user)!=null&&R.perm.admin?($(),I("th",uF,S(w(i)("settings.username")),1)):oe("",!0),cF,fF]),($(!0),I(We,null,bt(f.value,U=>{var O;return $(),I("tr",{key:U.hash},[p("td",null,[p("a",{href:m(U),target:"_blank"},S(U.path),9,dF)]),p("td",null,[U.expire!==0?($(),I(We,{key:0},[we(S(v(U.expire)),1)],64)):($(),I(We,{key:1},[we(S(w(i)("permanent")),1)],64))]),(O=w(u).user)!=null&&O.perm.admin?($(),I("td",hF,S(U.username),1)):oe("",!0),p("td",pF,[p("button",{class:"action",onClick:T=>d(T,U),"aria-label":w(i)("buttons.delete"),title:w(i)("buttons.delete")},gF,8,vF)]),p("td",bF,[p("button",{class:"action copy-clipboard","aria-label":w(i)("buttons.copyToClipboard"),title:w(i)("buttons.copyToClipboard"),onClick:T=>c(m(U))},wF,8,yF)])])}),128))])])):($(),I("h2",SF,[$F,p("span",null,S(w(i)("files.lonely")),1)]))])])]))}}}),CF={Login:"sidebar.login",Share:"buttons.share",Files:"files.files",Settings:"sidebar.settings",ProfileSettings:"settings.profileSettings",Shares:"settings.shareManagement",GlobalSettings:"settings.globalSettings",Users:"settings.users",User:"settings.user",Forbidden:"errors.forbidden",NotFound:"errors.notFound",InternalServerError:"errors.internal"},TF=[{path:"/login",name:"Login",component:ck},{path:"/share",component:Gl,children:[{path:":path*",name:"Share",component:xB}]},{path:"/files",component:Gl,meta:{requiresAuth:!0},children:[{path:":path*",name:"Files",component:k4}]},{path:"/settings",component:Gl,meta:{requiresAuth:!0},children:[{path:"",name:"Settings",component:eM,redirect:{path:"/settings/profile"},children:[{path:"profile",name:"ProfileSettings",component:rF},{path:"shares",name:"Shares",component:EF},{path:"global",name:"GlobalSettings",component:jM,meta:{requiresAdmin:!0}},{path:"users",name:"Users",component:VB,meta:{requiresAdmin:!0}},{path:"users/:id",name:"User",component:GN,meta:{requiresAdmin:!0}}]}]},{path:"/403",name:"Forbidden",component:Jn,props:{errorCode:403,showHeader:!0}},{path:"/404",name:"NotFound",component:Jn,props:{errorCode:404,showHeader:!0}},{path:"/500",name:"InternalServerError",component:Jn,props:{errorCode:500,showHeader:!0}},{path:"/:catchAll(.*)*",redirect:e=>"/files/".concat([...e.params.catchAll].join("/"))}];async function AF(){Kp?await ZR():await ym("","",""),Ko&&await new Promise(e=>{const t=()=>{typeof window.grecaptcha>"u"?setTimeout(t,100):e()};t()})}const Ii=bT({history:GC(Sn),routes:TF});Ii.beforeResolve(async(e,t,r)=>{const i=Eu.global.t(CF[e.name]);document.title=i+" - "+Tu;const l=yt();if(t.name==null)try{await AF()}catch(u){console.error(u)}if(e.path.endsWith("/login")&&l.isLoggedIn){r({path:"/files/"});return}if(e.matched.some(u=>u.meta.requiresAuth)){if(!l.isLoggedIn){r({path:"/login",query:{redirect:e.fullPath}});return}if(e.matched.some(u=>u.meta.requiresAdmin)&&(l.user===null||!l.user.perm.admin)){r({path:"/403"});return}}r()});const PF=ke({__name:"App",setup(e){const{locale:t}=ht(),r=ce(mg()||bg());return At(()=>{gg(r.value),xd(t.value);const i=document.getElementById("loading");i==null||i.classList.add("done"),setTimeout(function(){var l;(l=i==null?void 0:i.parentNode)==null||l.removeChild(i)},200)}),Xe(t,i=>{i&&xd(i)}),(i,l)=>{const u=$t("router-view");return $(),I("div",null,[Ie(u)])}}}),RF={class:"t-container"},kF=ke({__name:"CustomToast",props:{message:{},reportText:{},isReport:{type:Boolean}},setup(e){const t=()=>{window.open("https://github.com/filebrowser/filebrowser/issues/new/choose")};return(r,i)=>($(),I("div",RF,[p("span",null,S(r.message),1),r.isReport?($(),I("button",{key:0,class:"action",onClick:Wt(t,["stop"])},S(r.reportText),1)):oe("",!0)]))}}),yg=pt(kF,[["__scopeId","data-v-50e7ff04"]]);Ln.extend(f$);Ln.extend(d$);Ln.extend(h$);const OF=mC(Ii),LF=l2(),hn=Bp(PF);hn.component(Bs.name||"vue-number-input",Bs);hn.use(Q$);hn.use(lC,{transition:"Vue-Toastification__bounce",maxToasts:10,newestOnTop:!0});hn.use(LF);hn.use(Eu);hn.use(OF);hn.use(Ii);hn.mixin({mounted(){this.$el.__vue__=this}});hn.directive("focus",{mounted:async e=>{e.focus()}});const _g={position:fi.BOTTOM_CENTER,timeout:4e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!1,closeButton:"button",icon:!0};hn.provide("$showSuccess",e=>{xv().success({component:yg,props:{message:e}},{..._g,rtl:jp()})});hn.provide("$showError",(e,t=!0)=>{xv().error({component:yg,props:{message:e.message||e,isReport:!qp&&t,reportText:Eu.global.t("buttons.reportIssue")}},{..._g,timeout:0,rtl:jp()})});Ii.isReady().then(()=>hn.mount("#app"));export{gt as _,IF as __vite_legacy_guard,yt as a,Me as b,$n as c,Ai as d,en as e,In as f,mg as g,Li as h,ug as i,pt as j,zF as k,BF as l,MF as m,yL as n,Oi as o,NF as p,FF as q,UF as r,Vr as s,_u as t,lt as u};